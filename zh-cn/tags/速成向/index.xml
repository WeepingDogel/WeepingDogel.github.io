<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>速成向 - 标签 - WeepingDogel 的博客</title>
        <link>http://weepingdogel.github.io/zh-cn/tags/%E9%80%9F%E6%88%90%E5%90%91/</link>
        <description>速成向 - 标签 - WeepingDogel 的博客</description>
        <generator>Hugo -- gohugo.io</generator><language>zh-CN</language><managingEditor>weepingdogel@gmail.com (WeepingDogel)</managingEditor>
            <webMaster>weepingdogel@gmail.com (WeepingDogel)</webMaster><lastBuildDate>Fri, 30 Sep 2022 19:25:48 &#43;0800</lastBuildDate><atom:link href="http://weepingdogel.github.io/zh-cn/tags/%E9%80%9F%E6%88%90%E5%90%91/" rel="self" type="application/rss+xml" /><item>
    <title>一天刷完《Linux网络操作系统应用基础教程》这本书</title>
    <link>http://weepingdogel.github.io/zh-cn/posts/%E4%B8%80%E5%A4%A9%E5%88%B7%E5%AE%8Clinux%E7%BD%91%E7%BB%9C%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%BA%94%E7%94%A8%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B%E8%BF%99%E6%9C%AC%E4%B9%A6/</link>
    <pubDate>Fri, 30 Sep 2022 19:25:48 &#43;0800</pubDate>
    <author>WeepingDogel</author>
    <guid>http://weepingdogel.github.io/zh-cn/posts/%E4%B8%80%E5%A4%A9%E5%88%B7%E5%AE%8Clinux%E7%BD%91%E7%BB%9C%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%BA%94%E7%94%A8%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B%E8%BF%99%E6%9C%AC%E4%B9%A6/</guid>
    <description><![CDATA[<div class="featured-image">
                <img src="/img/photo_2022-09-30_20-14-56.jpg" referrerpolicy="no-referrer">
            </div><h1 id="序">序</h1>
<p>多日不见，甚是想念。</p>
<p>这段时间开学了，忙了一阵， 好久没更新博客了。</p>
<p>教科书当中看到了这么一本书（上图），叫做《Linux网络操作系统应用基础教程》。第一眼感觉封面挺好看的，这种简约配色显得这本书有高级感&hellip;然而，翻了几页看了，发现这是一本基础书籍。</p>
<p>对于一个用了两年 Arch 又不喜欢看书的人来说，这本书里的内容学起来应该会很快吧。</p>
<p>抱着试试看的态度，我想一天肝完这本书。</p>
<h1 id="全书目录">全书目录</h1>
<p>首先来看一下目录， 差点笑出声。</p>
<p>很明显，这确实是一些基础内容。其中很大部分在两年 Arch 使用经验中也接触过。</p>
<p></p>
<p></p>
<p></p>
<p>看起来都是一些概念+基础+实践操作</p>
<h1 id="概念内容">概念内容</h1>
<p>大概是项目一到项目二的 2.1 的内容，讲了 Linux 的案例、历史、以及流行的发行版。</p>
<p>书中居然没有 Arch, 差评。</p>
<p>但是也描述了 Linux 可以用来运行各种服务，比如 DNS（<a href="https://zh.wikipedia.org/zh-cn/%E5%9F%9F%E5%90%8D%E7%B3%BB%E7%BB%9F" target="_blank" rel="noopener noreffer ">Domain Name System</a>）服务、Web 服务器（Apache Nginx 这些提供基于HTTP协议的网页服务的）、基于 SMTP 协议的邮件服务器、以及 FTP 协议的文件传输服务器、基于 Samba 协议的文件共享服务器、<a href="https://zh.wikipedia.org/zh-ctiaoguo%B8%BB%E6%9C%BA%E8%AE%BE%E7%BD%AE%E5%8D%8F%E8%AE%AE" target="_blank" rel="noopener noreffer ">DHCP</a> 服务器 还有 VPN 服务器。</p>
<p>总之就是讲了 Linux 能干啥、Linux 的优点等， 这些可以通过搜索引擎查到，不多赘述。</p>
<h1 id="实操性内容">实操性内容</h1>
<p>往后都是一些操作性的内容，比如 Linux 的安装和搭建各种服务等</p>
<h2 id="安装-linux-操作系统">安装 Linux 操作系统</h2>
<p>书中讲用 VMware 装一个 CentOS 虚拟机。</p>
<p>高中的时候就会了，跳过。</p>
<h2 id="linux-基础操作">Linux 基础操作</h2>
<p>关于基础操作方面，我在初中的时候就写过一丢丢<a href="https://weepingdogel.github.io/posts/linux%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/" target="_blank" rel="noopener noreffer ">基础命令的笔记</a></p>
<p>书里也介绍了两种打开终端的方式，一个是在图形界面打开终端，另一种是按 <code>Ctrl</code> + <code>Alt</code> + <code>(F1 ~F6)</code> 来切换 tty。</p>
<p>然后是命令，大部分是加了 <code>-h</code> 参数以后的中文翻译，对于英语不太好的人来说，需要的时候翻阅一下也是一件美事。</p>
<p>另外我需要补充一些初中发的那篇文章当中没有写到的一些命令。</p>
<h3 id="cat">cat</h3>
<p>输出一个文件的内容，书中写的用法是</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">cat [选项] [文件名]
</span></span></code></pre></td></tr></table>
</div>
</div><p>但我们一般的用法是</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">cat [文件名]
</span></span></code></pre></td></tr></table>
</div>
</div><p>这个没什么好说的，也是常用的，但是遇到太长的文本就不太好了。</p>
<h3 id="less-和-more">less 和 more</h3>
<p>我几乎没见过有人用 more， 命令的使用方式都是一样的，但是效果可能不同吧。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">more [选项] [文件名]
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">less [选项] [文件名]
</span></span></code></pre></td></tr></table>
</div>
</div><p>一般来说我们都不加什么选项的&hellip;</p>
<h3 id="head-和-tail">head 和 tail</h3>
<p>这个也没啥好说的，参数用法都一样，不过<del>前者看头后者看屁股</del>。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">head [option] [文件名]
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">tail [option] [文件名]
</span></span></code></pre></td></tr></table>
</div>
</div><p>参数选项</p>
<ul>
<li>-n num 显示指定文件的末尾 num 行</li>
<li>-c num 显示指定文件的末尾 num 个字符。</li>
</ul>
<h3 id="rmdir">rmdir</h3>
<p>用来删除目录，用这个的话，删除的目录必须是空的。</p>
<p>否则会报错，和 <code>mkdir</code> 一样，可以加 <code>-p</code> 来进行递归删除。</p>
<p>递归是什么意思？就是一级一级往下删。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">rmdir [option] [文件名]
</span></span></code></pre></td></tr></table>
</div>
</div><p>然而我平时不喜欢用这个，我喜欢用 <code>rm -r</code> 或者 <code>rm -rfv</code> 。</p>
<h3 id="touch">touch</h3>
<p>touch 命令可以生成一个普通文件。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">touch [文件名]
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="grep">grep</h3>
<p>这个用来查看文件中包含指定字符串的行，常用。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">grep [选项] [要查找的字符串] [文件名]
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="tar">tar</h3>
<p>这个 tar 我平时就用来解压。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">tar xvf [文件名]
</span></span></code></pre></td></tr></table>
</div>
</div><p>然而这是个打包命令， 相当于压缩文档。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">tar [选项] [档案文件] [文件列表]
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>-c 生成档案文件</li>
<li>-v 列出归档文件解档的详细过程</li>
<li>-f 指定档案文件名称</li>
<li>-r 将文件追加到档案文件末尾</li>
<li>-z 以 gzip 格式压缩或解压</li>
<li>-j 以 bzip2 格式压缩或解压</li>
<li>-d 比较档案与当前目录中的文件</li>
<li>-x 解开档案文件</li>
</ul>
<p>可以用 <code>man</code> 来查看 <code>tar</code> 的更多信息。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">man tar
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="rpm">rpm</h3>
<p>rpm 系发行版的离线软件包安装器。至少我是这么理解的。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">rpm [选项] [软件包名字]
</span></span></code></pre></td></tr></table>
</div>
</div><p>这个软件包名字是指一个文件名哦， 一些 <code>.rpm</code> 后缀结尾的文件，就是 rpm 系的软件包。</p>
<p>安装好像是这样的</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">rpm -i [软件包名字]
</span></span></code></pre></td></tr></table>
</div>
</div><p>其他的参数</p>
<ul>
<li>-v 安装过程显示详细信息</li>
<li>-h 安装过程中显示<code>#</code>号进度条</li>
<li>-e 删除软件包</li>
<li>-q 查看软件包是否已经安装</li>
</ul>
<p>也可以通过 <code>man</code> 来阅读手册</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">man rpm
</span></span></code></pre></td></tr></table>
</div>
</div><p>现在都是直接用 <code>yum</code> 或者 <code>dnf</code> 这种包管理器了，使用远程仓库来安装和管理软件包。</p>
<h2 id="文档编辑">文档编辑</h2>
<p>至于文档编辑，就需要用 <code>vi</code> 或者 <code>vim</code>。</p>
<p>这个也是常有的事</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">vim [文件名]
</span></span></code></pre></td></tr></table>
</div>
</div><p>引用一个<a href="https://www.runoob.com/linux/linux-vim.html" target="_blank" rel="noopener noreffer ">菜鸟教程的链接吧</a></p>
<p>我平常就用个 <code>i</code> 来编辑文档， <code>ESC</code> 来退出编辑模式， <code>:w</code> 保存， <code>:q</code> 来退出。</p>
<p>有时候要加个 <code>!</code> 强制执行。</p>
<p>保存退出是 <code>:wq</code></p>
<p>如果有其他需求我会用 <code>man</code> 来看文档。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">man vim
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="用户和组的管理">用户和组的管理</h2>
<p>安装 Arch 的时候要干的事，就是用 <code>useradd</code> 添加用户。</p>
<p>桌面系统往往不使用 root 用户， 会添加一个或多个普通用户。</p>
<p>有些多人协作部署的服务器也会利用 Linux 多用户的特性。</p>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw" aria-hidden="true"></i>提示<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>GNU/Linux 系统中的每一个文件都从属一个用户（属主）和一个用户组（属组）。另外，还有三种类型的访问权限：读（read）、写（write）、运行（execute）。我们可以针对文件的属主、属组、而设置相应的访问权限。</p>
<p>—— 摘自&amp;&amp;详见 <a href="https://wiki.archlinux.org/title/Users_and_groups_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29#%E6%9D%83%E9%99%90%E4%B8%8E%E5%B1%9E%E4%B8%BB" target="_blank" rel="noopener noreffer ">ArchWiki</a></p>
</div>
        </div>
    </div>
<h3 id="useradd">useradd</h3>
<p>这个命令用来添加用户</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">useradd [选项] 用户名
</span></span></code></pre></td></tr></table>
</div>
</div><p>先把参数用法贴上</p>
<ul>
<li><code>-m</code> / <code>--create-home</code> 创建用户主目录<code>/home/[用户名]</code>；在自己的主目录内，即使不是root用户也可以读写文件、安装程序等等。</li>
<li><code>-G</code> / <code>--groups</code> 用户要加入的附加组列表；使用逗号分隔多个组，不要添加空格；如果不设置，用户仅仅加入初始组。</li>
<li><code>-s</code> / <code>--shell</code> 用户默认登录shell的路径；启动过程结束后，默认启动的登录shell在此处设定；请确保使用的shell已经安装，默认是 Bash。</li>
</ul>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw" aria-hidden="true"></i>提示<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>使用 <code>useradd --defaults</code> 可以查看 shell 的默认值。默认是 Bash。使用 <code>-s</code> / <code>--shell</code> 选项可以设置其他值。<code>/etc/shells</code> 记录了可以使用的登录 shell。</p>
<p>—— 摘自 <a href="https://wiki.archlinux.org/title/Users_and_groups_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" target="_blank" rel="noopener noreffer ">ArchWiki</a></p>
</div>
        </div>
    </div>
<p>比如我要在一个新机器上创建一个用户，用户名为 <code>weepingdogel</code> 且需要创建用户主目录 <code>/home/weepingdogel</code>， <strong>而且加入到 <code>wheel</code> 这个组</strong> ,默认 <strong>shell</strong> 设置为 <strong>Bash</strong> 。</p>
<p>我就会执行这条命令：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">useradd -G wheel -m -s /bin/bash weepingdogel
</span></span></code></pre></td></tr></table>
</div>
</div><p>那如果我要 <code>zsh</code> 呢？</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">useradd -G wheel -m -s /bin/bash weepingdogel
</span></span></code></pre></td></tr></table>
</div>
</div><p>就像这样咯～</p>
<div class="details admonition warning open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-exclamation-triangle fa-fw" aria-hidden="true"></i>警告<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><ol>
<li>新增用户不能与已存在用户的用户名相同;</li>
<li>用户创建后，用户名或组需被 <code>/etc/sudoers</code> 文件包含，否则无法使用 <code>sudo</code> 调取 root 权限;</li>
<li><del>别瞎j8乱创建一堆没卵用的用户</del></li>
<li>请确保使用的shell已经安装，默认是 Bash。 没装上的 shell 没法用，用户创建不了。</li>
</ol>
</div>
        </div>
    </div>
<h3 id="userdel">userdel</h3>
<p>这个命令用来删除用户</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">userdel [选项] 用户名
</span></span></code></pre></td></tr></table>
</div>
</div><p>加上 <code>-r</code> 选项可以一并删除用户主目录</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">userdel -r 用户名
</span></span></code></pre></td></tr></table>
</div>
</div><div class="details admonition warning open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-exclamation-triangle fa-fw" aria-hidden="true"></i>警告<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><strong><del>别瞎j8乱删用户</del></strong></div>
        </div>
    </div>
<p>没什么好说的，详见 <a href="https://linux.die.net/man/8/userdel" target="_blank" rel="noopener noreffer ">man userdel</a> 。</p>
<h3 id="groups">groups</h3>
<p>这个命令用来查看用户属于哪些组。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">groups [用户名]
</span></span></code></pre></td></tr></table>
</div>
</div><p>当然我们也可以通过查看 <code>/etc/group</code> 来查看所有组。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">cat /etc/group
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="id">id</h3>
<p>这个命令可以显示用户的一些额外信息，比如 <code>UID</code> 、 <code>GID</code> 等等。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">id [用户名]
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="groupadd-和-groupdel">groupadd 和 groupdel</h3>
<p>前者是创建新组，后者是删除一个组。</p>
<p>创建一个新组：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">groupadd [组名]
</span></span></code></pre></td></tr></table>
</div>
</div><p>删除一个用户组：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">groupdel [组名]
</span></span></code></pre></td></tr></table>
</div>
</div><div class="details admonition warning open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-exclamation-triangle fa-fw" aria-hidden="true"></i>警告<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><strong><del>别瞎j8乱删组</del></strong></div>
        </div>
    </div>
<h3 id="groupmod">groupmod</h3>
<p>往往用来更改用户所属组的名字，但不变更 <code>GID</code>。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">groupmod -n [新名字] [旧名字]
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="gpasswd">gpasswd</h3>
<p>往往用来变更用户所属于哪个组的情况。</p>
<p>比如将某个用户添加到某个组：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">gpasswd -a [用户名] [组名]
</span></span></code></pre></td></tr></table>
</div>
</div><p>或者将用户从某个组中移除：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">gpasswd -d [用户名] [组名]
</span></span></code></pre></td></tr></table>
</div>
</div><p>其他的用法也可以参考 <a href="https://linux.die.net/man/1/gpasswd" target="_blank" rel="noopener noreffer ">man gpasswd</a></p>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw" aria-hidden="true"></i>提示<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">如果用户已经处于登录状态，必须重新登录才能更改生效。</div>
        </div>
    </div>
<h3 id="一些相关文件列表">一些相关文件列表</h3>
<ul>
<li><code>/etc/shadow</code> 	保存用户安全信息</li>
<li><code>/etc/passwd</code> 	用户账户信息</li>
<li><code>/etc/gshadow</code> 	保存组账号的安全信息</li>
<li><code>/etc/group</code> 	    定义用户所属的组</li>
<li><code>/etc/sudoers</code> 	可以运行 sudo 的用户</li>
<li><code>/home/* </code>	    主目录</li>
</ul>
<p>要好好记住它们。</p>
<h2 id="基本磁盘管理">基本磁盘管理</h2>
<p>当然也涉及到了磁盘的管理，这个其实在安装 Arch 的时候就能接触不少。</p>
<h3 id="查看分区情况">查看分区情况</h3>
<p>当 Linux 识别到磁盘，就会将其分配为一个块设备， 在系统里是个文件，比如 <code>/dev/sda</code>、<code>/dev/nvme0n1</code> 或 <code>/dev/mmcblk0</code>。可以使用 <code>lsblk</code> 或者 <code>fdisk</code> 查看：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">fdisk -l
</span></span></code></pre></td></tr></table>
</div>
</div><div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw" aria-hidden="true"></i>提示<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">不同的设备当中，磁盘的块设备表示也不同，比如使用 SATA 接口的硬盘会被显示为 <code>/dev/sd*X</code>， 而使用 NVME 硬盘则会显示为 <code>/dev/nvme*n*</code></div>
        </div>
    </div>
<h3 id="创建编辑分区">创建编辑分区</h3>
<p>你可以去搜索引擎找 <code>fdisk</code> 的说明，按照它来创建、编辑分区，可以用简单的 <code>cfdisk</code>。</p>
<p></p>
<p>甚至可以用一些发行版自带的图形化分区工具。</p>
<h3 id="格式化">格式化</h3>
<p>分区创建好以后，就要选择合适的文件系统来进行格式化。</p>
<p>文件系统有哪些？具体可以参考<a href="https://wiki.archlinux.org/title/File_systems_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" target="_blank" rel="noopener noreffer ">这个页面</a></p>
<p>Linux 往往用 EXT4</p>
<p>使用 mkfs</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">mkfs.ext4 /dev/partition
</span></span></code></pre></td></tr></table>
</div>
</div><p>挂载分区</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">mount [被挂载的分区] [要挂载到的地方]
</span></span></code></pre></td></tr></table>
</div>
</div><p>当然也可以写 <code>/etc/fstab</code> 来进行自动挂载，详情可以看<a href="https://wiki.archlinux.org/title/Fstab_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29#%E8%87%AA%E5%8A%A8%E6%8C%82%E8%BD%BD" target="_blank" rel="noopener noreffer ">这里</a></p>
<h2 id="资源共享服务">资源共享服务</h2>
<h3 id="ftp">FTP</h3>
<p>搭建 FTP 服务器</p>
<p>首先使用包管理器安装 <code>vsftpd</code></p>
<p>deb</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo apt install vsftpd
</span></span></code></pre></td></tr></table>
</div>
</div><p>centos</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo yum install vsftpd
</span></span></code></pre></td></tr></table>
</div>
</div><p>通过编辑 <code>/etc/vsftpd.conf</code> 来配置</p>
<p>比如允许匿名登录，以及允许无密码登录</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">anonymous_enable=YES
</span></span><span class="line"><span class="cl">no_anon_password=YES
</span></span></code></pre></td></tr></table>
</div>
</div><p>然后通过 systemd 启动</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo systemctl start vsftpd
</span></span></code></pre></td></tr></table>
</div>
</div><p>通过客户端连接</p>
<p></p>
<p>参考<a href="https://wiki.archlinux.org/title/Very_Secure_FTP_Daemon_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29#%E9%85%8D%E7%BD%AE" target="_blank" rel="noopener noreffer ">Arch Wiki</a>， 可根据实际情况调整配置。</p>
<h3 id="samba">Samba</h3>
<p>不搞这玩意，太危险了。</p>
<h2 id="dhcp-服务器">DHCP 服务器</h2>
<p>直接安装 dhcpd</p>
<p>deb</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo apt install dhcpd
</span></span></code></pre></td></tr></table>
</div>
</div><p>centos</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">yum install -y dhcpd
</span></span></code></pre></td></tr></table>
</div>
</div><p>pacman</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo pacman -S dhcpd
</span></span></code></pre></td></tr></table>
</div>
</div><p>写配置文件 <code>/etc/dhcpd.conf</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># No DHCP service in DMZ network (192.168.2.0/24)
</span></span><span class="line"><span class="cl">subnet 192.168.2.0 netmask 255.255.255.0 
</span></span></code></pre></td></tr></table>
</div>
</div><p>然后通过 systemd 来启动服务</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo systemctl start dhcpd4
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="dns-服务器">DNS 服务器</h2>
<p>懒得搞了，不难</p>
<p>参考 <a href="https://wiki.archlinux.org/title/BIND_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" target="_blank" rel="noopener noreffer ">https://wiki.archlinux.org/title/BIND_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)</a></p>
<h2 id="apache-服务器">Apache 服务器</h2>
<p>这个简单</p>
<p>deb</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo apt install apache2
</span></span></code></pre></td></tr></table>
</div>
</div><p>pacman</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo pacman -S apache
</span></span></code></pre></td></tr></table>
</div>
</div><p>rpm</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo yum install -y apache2
</span></span></code></pre></td></tr></table>
</div>
</div><p>直接启动服务</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo systemctl start httpd
</span></span></code></pre></td></tr></table>
</div>
</div><p>然后访问 <code>http://127.0.0.1:80</code>就行。</p>
<h1 id="总结">总结</h1>
<p><del>什么垃圾书！</del></p>
<p>很简单，但是太老了，跟不上时代了。</p>
<p>还是自己去网上找资料来得快。</p>]]></description>
</item>
</channel>
</rss>
