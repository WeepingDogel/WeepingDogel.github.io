<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>Linux - 分类 - WeepingDogel 的博客</title>
        <link>http://weepingdogel.github.io/zh-cn/categories/linux/</link>
        <description>Linux - 分类 - WeepingDogel 的博客</description>
        <generator>Hugo -- gohugo.io</generator><language>zh-CN</language><managingEditor>weepingdogel@gmail.com (WeepingDogel)</managingEditor>
            <webMaster>weepingdogel@gmail.com (WeepingDogel)</webMaster><lastBuildDate>Sat, 11 Jun 2022 08:00:00 &#43;0800</lastBuildDate><atom:link href="http://weepingdogel.github.io/zh-cn/categories/linux/" rel="self" type="application/rss+xml" /><item>
    <title>利用 rsync 给笔记本安装 Gentoo</title>
    <link>http://weepingdogel.github.io/zh-cn/posts/%E5%88%A9%E7%94%A8rsync%E7%BB%99%E7%AC%94%E8%AE%B0%E6%9C%AC%E5%AE%89%E8%A3%85gentoo/</link>
    <pubDate>Sat, 11 Jun 2022 08:00:00 &#43;0800</pubDate>
    <author>作者</author>
    <guid>http://weepingdogel.github.io/zh-cn/posts/%E5%88%A9%E7%94%A8rsync%E7%BB%99%E7%AC%94%E8%AE%B0%E6%9C%AC%E5%AE%89%E8%A3%85gentoo/</guid>
    <description><![CDATA[<div class="featured-image">
                <img src="https://w.wallhaven.cc/full/95/wallhaven-955vx1.jpg" referrerpolicy="no-referrer">
            </div><h1 id="序">序</h1>
<p>半年不见，甚是想念～</p>
<p>我有一台性能羸弱不堪的 ChromeBook，</p>
<p>2GB 的 RAM 和一颗 只有 2.6 GHz 的双核老低压 U 对于现在的流行发行版来说已经完全不够用了，目前跑个 Mint 也是 CPU 经常性的 100% 占用。</p>
<p></p>
<p>于是我想着能不能给他装个 Gentoo？</p>
<p>然而就这乌龟U，估计得连续开机一周才能编译完吧&hellip;</p>
<p>嗯，不过我想试试能不能通过台式机编译完 Gentoo 再通过 rsync 给它传输到 ChromeBook。</p>
<p></p>
<p>论编译，我感觉哪怕是在 2022 年 E3 神教也不会让我失望吧。</p>
<p>起码比这颗小赛扬快多了。</p>
<h1 id="准备工作">准备工作</h1>
<p>废话不多说，直接开搞。</p>
<p>但我们要准备好这些东西</p>
<ul>
<li><a href="https://wiki.gentoo.org/wiki/Main_Page" target="_blank" rel="noopener noreffer">Gentoo Wiki</a>
<ul>
<li>安装过程中需要用到官方的指引和文档，必备</li>
</ul>
</li>
<li>翻译工具
<ul>
<li>由于 Gentoo 的用户群体较小，文档汉化可能不是很全面，因此可以借助翻译工具，这里推荐 <a href="https://www.deepl.com/zh/translator" target="_blank" rel="noopener noreffer">deepl</a></li>
</ul>
</li>
<li>一个 U 盘
<ul>
<li>用来装一个临时的 Linux 作为笔记本的 rsync 接收端。</li>
<li>这个没什么好说的，最好支持 USB 3.0～</li>
</ul>
</li>
<li>下载好 Gentoo 官方提供的 stage 包
<ul>
<li>这个会在下文中写出过程</li>
</ul>
</li>
<li>一个能够操作的 Linux 终端</li>
</ul>
<h1 id="下载-stage-压缩包">下载 stage 压缩包</h1>
<p>由于我们的安装手段比较特殊，因此可以直接跳到官方 wiki 的这一步</p>
<p>按照官方 wiki 给出的文档，我们进行以下操作:</p>
<p>首先开启 root</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">weepingdogel $ sudo -i
</span></span></code></pre></td></tr></table>
</div>
</div><p>接下来，你可以挂载一个分区到 <code>mnt</code> ，也可以直接创建文件夹，我这边空间很充足就直接空载操作了。</p>
<p>至于如何挂载？可以去参考 Arch Wiki。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">root # cd /mnt/gentoo
</span></span></code></pre></td></tr></table>
</div>
</div><p>然后我们需要用 wget 下载 stage 包，打开<a href="https://www.gentoo.org/downloads/#other-arches" target="_blank" rel="noopener noreffer">这个页面</a>，这里我们选择 stage3</p>
<p>因为我懒，喜欢用 systemd ， 可以根据需要选择。</p>
<p><strong>注意：右键 stage3 systemd ，复制链接</strong></p>
<p></p>
<p>将链接粘贴到终端上</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">root # wget https://bouncer.gentoo.org/fetch/root/all/releases/amd64/autobuilds/20220605T170549Z/stage3-amd64-systemd-20220605T170549Z.tar.xz
</span></span></code></pre></td></tr></table>
</div>
</div><p>等待下载。</p>
<p></p>
<p>下载完成之后可以进行一下文件校验，可以参考一下官方的<a href="https://wiki.gentoo.org/wiki/Handbook:AMD64/Installation/Stage/zh-cn" target="_blank" rel="noopener noreffer">这个条目</a></p>
<p></p>
<p>一般情况下我这边不会损坏，所以我这里就不写出来了，接下来我们直接进入解压 stage 文件这一步。</p>
<h1 id="解压-stage-压缩包">解压 stage 压缩包</h1>
<p>我们使用 tar 来进行解压，这是官方 wiki 给出的命令：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">root #tar xpvf stage3-*.tar.bz2 --xattrs-include=&#39;*.*&#39; --numeric-owner
</span></span></code></pre></td></tr></table>
</div>
</div><p>有些读者可能看不懂中间那一串，那一串其实是个通配符，不过这个通配符可能跟你下载到的文件不一样，因此我们将中间那段改成准确的文件名。</p>
<p>这一步操作很简单，只需要按一下 Tab 键即可。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">root # tar xpvf stage3-amd64-systemd-20220102T170545Z.tar.xz --xattrs-include=&#39;*.*&#39; --numeric-owner
</span></span></code></pre></td></tr></table>
</div>
</div><p>等待解压，一会儿就好，<del>除非你用 IDE 硬盘</del>。</p>
<p></p>
<h1 id="配置编译选项">配置编译选项</h1>
<p>这一步官方是这么解释的：</p>
<blockquote>
<p>为了优化Gentoo，可以设置一些影响Portage的变量，Gentoo官方支持包管理器。 所有这些变量可以设置为环境变量（使用export），但这不是永久的。 为了保留设置，Portage读入/etc/portage/make.conf文件 ，一个用于Portage的配置文件。</p>
<blockquote>
<p>附注</p>
<p>所有可能的变量的注释列表可以在 /mnt/gentoo/usr/share/portage/config/make.conf.example中找到。要成功安装Gentoo，只需要设置下面提到的变量。</p>
</blockquote>
<p>启动编辑器（在本指南中，我们使用 nano）来更改我们将在下面讨论的优化变量。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">root #nano -w /mnt/gentoo/etc/portage/make.conf
</span></span></code></pre></td></tr></table>
</div>
</div><p>从make.conf.example文件中可以明显看出文件的结构：注释行以 &ldquo;#&ldquo;开头，其他行使用 VARIABLE=&ldquo;content 语法定义变量。 接下来选取其中的几个进行讨论。</p>
</blockquote>
<p>这里我们用 vim 写一下</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">root # vim /mnt/gentoo/etc/portage/make.conf
</span></span></code></pre></td></tr></table>
</div>
</div><p>将里面的 <code>COMMON_FLAGS=</code> 加入 <code>-march=silvermont</code> 的选项，这样就能让编译器给 <code>silvermont</code> 架构的垃圾 CPU 进行优化了。</p>
<p>完整文件如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="c1"># These settings were set by the catalyst build script that automatically</span>
</span></span><span class="line"><span class="cl"><span class="c1"># built this stage.</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Please consult /usr/share/portage/config/make.conf.example for a more</span>
</span></span><span class="line"><span class="cl"><span class="c1"># detailed example.</span>
</span></span><span class="line"><span class="cl"><span class="n">COMMON_FLAGS</span><span class="o">=</span><span class="s2">&#34;-march=silvermont -O2 -pipe&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">CFLAGS</span><span class="o">=</span><span class="s2">&#34;${COMMON_FLAGS}&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">CXXFLAGS</span><span class="o">=</span><span class="s2">&#34;${COMMON_FLAGS}&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">FCFLAGS</span><span class="o">=</span><span class="s2">&#34;${COMMON_FLAGS}&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">FFLAGS</span><span class="o">=</span><span class="s2">&#34;${COMMON_FLAGS}&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># NOTE: This stage was built with the bindist Use flag enabled</span>
</span></span><span class="line"><span class="cl"><span class="n">PORTDIR</span><span class="o">=</span><span class="s2">&#34;/var/db/repos/gentoo&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">DISTDIR</span><span class="o">=</span><span class="s2">&#34;/var/cache/distfiles&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">PKGDIR</span><span class="o">=</span><span class="s2">&#34;/var/cache/binpkgs&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># This sets the language of build output to English.</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Please keep this setting intact when reporting bugs.</span>
</span></span><span class="line"><span class="cl"><span class="n">LC_MESSAGES</span><span class="o">=</span><span class="n">C</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="安装-gentoo-基础系统">安装 Gentoo 基础系统</h1>
<p>上面已经完成了第一阶段的操作，可以开始安装基本系统了，诶嘿嘿。</p>
<p>接下来要做的是选择镜像源，我们可以参考 ustc mirror 给出的帮助文档：</p>
<ul>
<li><a href="https://mirrors.ustc.edu.cn/help/gentoo.html" target="_blank" rel="noopener noreffer">Gentoo 源使用帮助 — USTC Mirror Help  文档</a></li>
<li><a href="https://mirrors.ustc.edu.cn/help/gentoo-portage.html" target="_blank" rel="noopener noreffer">Gentoo Portage 源使用帮助 — USTC Mirror Help  文档</a></li>
</ul>
<p>直接按照 ustc 给出的帮助设置这两个源地址就好啦～</p>
<p></p>
<p></p>
<p>然后复制 DNS 信息</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">root # cp --dereference /etc/resolv.conf /mnt/gentoo/etc/
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="挂载必要的文件系统">挂载必要的文件系统</h2>
<p>这里要注意一下了，我这边要打好几条命令</p>
<p>Why？</p>
<p>官方的解释：</p>
<blockquote>
<p>稍等片刻，Linux 的根目录将变更到新的位置。为了确保新环境正常工作，需要确保一些文件系统可以正常使用。</p>
<p>需要提供的文件系统是：</p>
<ul>
<li>/proc/ 一个pseudo文件系统（看起来像是常规文件，事实上却是实时生成的），由Linux内核暴露的一些环境信息</li>
<li>/sys/ 一个pseudo文件系统，像要被取代的/proc/一样，比/proc/更加有结构</li>
<li>/dev/ 是一个包含全部设备文件的常规文件系统，一部分由Linux设备管理器（通常是udev）管理</li>
</ul>
<p>/proc/位置将要挂载到/mnt/gentoo/proc/，而其它的两个都是绑定挂载。字面上的意思是，例如/mnt/gentoo/sys/事实上就是/sys/（它只是同一个文件系统的第二个条目点），而/mnt/gentoo/proc/是（可以说是）文件系统的一个新的挂载。</p>
</blockquote>
<p>因此按顺序执行以下命令进行挂载：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">root # mount --types proc /proc /mnt/gentoo/proc
</span></span><span class="line"><span class="cl">root # mount --rbind /sys /mnt/gentoo/sys
</span></span><span class="line"><span class="cl">root # mount --make-rslave /mnt/gentoo/sys
</span></span><span class="line"><span class="cl">root # mount --rbind /dev /mnt/gentoo/dev
</span></span><span class="line"><span class="cl">root # mount --make-rslave /mnt/gentoo/dev 
</span></span></code></pre></td></tr></table>
</div>
</div><p>然而，这还没完</p>
<p></p>
<p>因此，接下来要加上这三条</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">root # test -L /dev/shm &amp;&amp; rm /dev/shm &amp;&amp; mkdir /dev/shm
</span></span><span class="line"><span class="cl">root # mount --types tmpfs --options nosuid,nodev,noexec shm /dev/shm 
</span></span><span class="line"><span class="cl">root # chmod 1777 /dev/shm
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="chroot--进入新环境">Chroot : 进入新环境</h2>
<p>当挂载好一切后，就可以 chroot 进去了</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">root # chroot /mnt/gentoo /bin/bash 
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">root # source /etc/profile 
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">root</span> <span class="c1"># export PS1=&#34;(chroot) ${PS1}&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>接下来终端会变成这样</p>
<p></p>
<h2 id="挂载-boot-分区">挂载 boot 分区</h2>
<p>这一步我们直接略过，因为最终安装的设备不是本机，而是另一台笔记本。</p>
<p>之后我们再进行手动安装引导介质。</p>
<h2 id="从网站安装-gentoo-ebuild-数据库快照">从网站安装 Gentoo ebuild 数据库快照</h2>
<p>官方其实这个就相当于 Arch 里面的 <code>sudo pacman -Syyu</code></p>
<p>不多说，复制粘贴吧。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">root # emerge-webrsync
</span></span></code></pre></td></tr></table>
</div>
</div><p></p>
<h2 id="选择配置文件">选择配置文件</h2>
<p><del>我怎么感觉像是在复制 wiki 的内容呢&hellip;</del></p>
<blockquote>
<p>配置文件是任何一个Gentoo系统的积木。它不仅指定USE、CFLAGS和其它重要变量的默认值，还会锁定系统的包版本范围。这些设定全是由Gentoo的Portage开发者们来维护。</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># eselect profile list
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Available profile symlink targets:
</span></span><span class="line"><span class="cl">  [1]   default/linux/amd64/17.1 *
</span></span><span class="line"><span class="cl">  [2]   default/linux/amd64/17.1/desktop
</span></span><span class="line"><span class="cl">  [3]   default/linux/amd64/17.1/desktop/gnome
</span></span><span class="line"><span class="cl">  [4]   default/linux/amd64/17.1/desktop/kde
</span></span></code></pre></td></tr></table>
</div>
</div><p>然后输入以下命令即可：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># eselect profile set [对应的数字]
</span></span></code></pre></td></tr></table>
</div>
</div><p>其实它会列出很多选项，我们需要选择含有 <code>desktop/system</code> 的版本</p>
<h2 id="设置时区">设置时区</h2>
<p>这里直接用 Arch 的方法</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># ln -sf /usr/share/zoneinfo/Region（地区名）/City（城市名） /etc/localtime
</span></span></code></pre></td></tr></table>
</div>
</div><p>根据我的情况，我应该这样写：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
</span></span></code></pre></td></tr></table>
</div>
</div><p>然后运行 hwclock 以生成 /etc/adjtime：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># hwclock --systohc
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="设置-use">设置 USE</h2>
<p>对于 Gentoo 这个系统来说， USE 标记是必备的，因此在编译之前，我们需要设置好全局 USE 标记</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># vim /etc/portage/make.conf
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">USE=&#34;alsa udev dbus icu systemd gles2 sound video intel -kde tiff x265&#34;
</span></span><span class="line"><span class="cl">VIDEO_CARDS=&#34;intel&#34;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="更新-world-集合">更新 @world 集合</h2>
<p>其实就是跟 Arch 的“滚”差不多，但是它会是一个比较漫长的过程。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># emerge --ask --verbose --update --deep --newuse @world
</span></span></code></pre></td></tr></table>
</div>
</div><p>除此之外，在更改USE标记之后，这条命令也用来动态调整系统功能。</p>
<h2 id="配置-locale">配置 locale</h2>
<p>麻了，参考这个 <a href="https://wiki.archlinux.org/title/Installation_guide_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29#%E6%9C%AC%E5%9C%B0%E5%8C%96" target="_blank" rel="noopener noreffer">Installation guide (简体中文) - ArchWiki</a></p>
<h1 id="配置内核">配置内核</h1>
<p>嗯哼，你以为我那么傻又编译八个小时？不！这次我选择用 bin 内核！</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># emerge --ask sys-kernel/installkernel-systemd-boot
</span></span></code></pre></td></tr></table>
</div>
</div><p>节省不少时间呢。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># emerge --ask sys-kernel/gentoo-kernel-bin
</span></span></code></pre></td></tr></table>
</div>
</div><p>哎呀不想写了&hellip; 写了都是复制粘贴</p>
<p>自己看吧</p>
<p></p>
<h1 id="安装固件">安装固件</h1>
<blockquote>
<p>一些驱动需要先在系统上安装附加的固件才能工作。经常网络接口上会使用，特别是无线网络接口。此外，来自 AMD 、 NVidia 和 Intel 等供应商的现代视频芯片在使用开源驱动程序时，通常也需要外部固件文件。大多数固件都打包在 sys-kernel/linux-firmware 里</p>
</blockquote>
<p>大多数设备的驱动都依赖于 <code>linux-firmware</code> 这个包</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># emerge --ask sys-kernel/linux-firmware
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="配置-fstab">配置 fstab</h1>
<p>这一步操作是在系统启动的时候，让内核认识分区</p>
<p>但是 Gentoo 好像不能用 <code>genfstab</code></p>
<p>只能手写了</p>
<p>先在笔记本获取 UUID</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">ls /dev/disk/by-uuid/ -l
</span></span></code></pre></td></tr></table>
</div>
</div><p>接下来将 <code>/</code> 分区对应分区的 <code>UUID</code> 按如下格式写在 <code>/etc/fstab</code> 这个文件里面</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># /dev/mmcblk1p2
</span></span><span class="line"><span class="cl">UUID=xxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx	/         	xfs       	default,rw,relatime	0 1
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="通过-rsync-将系统灌到笔记本上">通过 rsync 将系统灌到笔记本上</h1>
<p>这个时候需要给笔记本插入一个 ArchISO 的 U 盘，启动到 ISO，<strong>并连接 WIFI 和 开启 ssh 服务。</strong></p>
<p>接下来将其原有的分区格式化</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># mkfs.btrfs /dev/mmcblk1p2 -f
</span></span></code></pre></td></tr></table>
</div>
</div><p>然后挂载它，并将刚刚做好的文件用 rsync 灌进去</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># mount /dev/mmcblk1p2 /mnt 
</span></span></code></pre></td></tr></table>
</div>
</div><p>接下来笔记本这一端开启 ssh 服务</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># systemctl start sshd
</span></span></code></pre></td></tr></table>
</div>
</div><p>然后使用 rsync 将编译好的文件传输至笔记本的系统分区。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># rsync -aAXHv -P -vi --exclude={&#34;/dev/*&#34;,&#34;/proc/*&#34;,&#34;/sys/*&#34;,&#34;/tmp/*&#34;,&#34;/run/*&#34;,&#34;/mnt/*&#34;,&#34;/media/*&#34;,&#34;/lost+found&#34;} ./mnt/gentoo/. root@192.168.0.109:/mnt
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="在笔记本安装启动引导器">在笔记本安装启动引导器</h1>
<p>这个也是很熟悉的操作了。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="c1"># grub-install --target=x86_64-efi --efi-directory=/dev/mmcblk1p1 --bootloader-id=GRUB</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># grub-mkconfig -o /boot/grub/grub.cfg
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="结语">结语</h1>
<p>通过一系列的折腾，这台老本子终于能发挥其最大的性能了。</p>
<p>由此看来通过 rsync 复制 Linux 发行版系统文件到其他的设备看起来是可行的。</p>
<p>不过也折腾了挺久的</p>
<h1 id="参考链接">参考链接</h1>
<ul>
<li><a href="https://wiki.gentoo.org/wiki/Main_Page" target="_blank" rel="noopener noreffer">Gentoo Wiki</a></li>
<li><a href="https://www.gentoo.org/downloads/#other-arches" target="_blank" rel="noopener noreffer">Downloads â Gentoo Linux</a></li>
<li><a href="https://wiki.gentoo.org/wiki/Handbook:AMD64/Installation/Stage/zh-cn" target="_blank" rel="noopener noreffer">安装Gentoo安装文件 - Gentoo Wiki</a></li>
<li><a href="https://mirrors.ustc.edu.cn/help/gentoo.html" target="_blank" rel="noopener noreffer">Gentoo 源使用帮助 — USTC Mirror Help  文档</a></li>
<li><a href="https://mirrors.ustc.edu.cn/help/gentoo-portage.html" target="_blank" rel="noopener noreffer">Gentoo Portage 源使用帮助 — USTC Mirror Help  文档</a></li>
<li><a href="https://wiki.archlinux.org/title/Installation_guide_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29#%E6%9C%AC%E5%9C%B0%E5%8C%96" target="_blank" rel="noopener noreffer">Installation guide (简体中文) - ArchWiki</a></li>
</ul>]]></description>
</item><item>
    <title>Linux Mint 如何修改软件源</title>
    <link>http://weepingdogel.github.io/zh-cn/posts/2020-nov-6/</link>
    <pubDate>Fri, 06 Nov 2020 22:54:23 &#43;0800</pubDate>
    <author>作者</author>
    <guid>http://weepingdogel.github.io/zh-cn/posts/2020-nov-6/</guid>
    <description><![CDATA[<div class="featured-image">
                <img src="/img/2020-11-07_14-33.png" referrerpolicy="no-referrer">
            </div><h2 id="序">序</h2>
<p>由于 Linux Mint 在安装完之后..</p>
<p><del>唔啊！ 不许笑！！ 我我我当然早就会！写给萌新看的！喂！不许笑！！</del></p>
<p></p>
<p>默认的软件源是官方的，在安装软件包和更新的时候得 <del>跨过山河大海，也要穿过人山人海</del> ，因此我们得把它修改为离我们最近的镜像源</p>
<p>对于 Mint 来说，无非就两种办法</p>
<p><strong>注意：二选一</strong></p>
<h2 id="一终端法">一、终端法</h2>
<p>我们先去 TUNA 镜像站看看<a href="https://mirrors.tuna.tsinghua.edu.cn/help/linuxmint/" target="_blank" rel="noopener noreffer">帮助文档</a></p>
<p>内容是这样的</p>
<p></p>
<p>嗯&hellip; 也许你看不太懂，具体怎么操作&hellip;</p>
<p>首先把鼠标移到左下角，打开终端</p>
<p></p>
<p>就是封面上那个东西..</p>
<p></p>
<p>我们先要编辑 <code>/etc/apt/sources.list</code> 这个文件。</p>
<p>Mint 似乎不自带 <code>vim</code>，所以我们这里使用 <code>nano</code>。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ sudo nano /etc/apt/sources.list
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>注意：<code>sudo</code> 不能丢！ 而且按下回车之后要输入密码才能有权限。</strong></p>
<p></p>
<p>我们打开才发现里面是空的，除了一大堆英文注释什么都没有..</p>
<p>我们往里面写入</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">deb http://mirrors.tuna.tsinghua.edu.cn/linuxmint/ ulyana main upstream import backport
</span></span></code></pre></td></tr></table>
</div>
</div><p>接下来还不够，因为 Mint 还有一些包要使用 Ubuntu 的仓库，所以我们再看看 <a href="https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/" target="_blank" rel="noopener noreffer">Ubuntu 的帮助文档</a></p>
<p></p>
<p>我知道怎么做了，把这些当中的<code>archive.ubuntu.com</code> 等域名全部改成<code>mirrors.tuna.tsinghua.edu.cn</code> 即可</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">#deb cdrom:[Linux Mint 20 _Ulyana_ - Release amd64 20200624]/ focal contrib main
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"># This system was installed using small removable media
</span></span><span class="line"><span class="cl"># (e.g. netinst, live or single CD). The matching &#34;deb cdrom&#34;
</span></span><span class="line"><span class="cl"># entries were disabled at the end of the installation process.
</span></span><span class="line"><span class="cl"># For information about how to configure apt package sources,
</span></span><span class="line"><span class="cl"># see the sources.list(5) manual.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">deb http://mirrors.tuna.tsinghua.edu.cn/linuxmint/ ulyana main upstream import backport
</span></span><span class="line"><span class="cl">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu focal main restricted universe multiverse
</span></span><span class="line"><span class="cl">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu focal-updates main restricted universe multiverse
</span></span><span class="line"><span class="cl">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu focal-backports main restricted universe multiverse
</span></span><span class="line"><span class="cl">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse
</span></span></code></pre></td></tr></table>
</div>
</div><p>如图：</p>
<p></p>
<p>接下来，执行</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ sudo apt update
</span></span></code></pre></td></tr></table>
</div>
</div><p>就会比最开始快很多了</p>
<h2 id="二使用自带的更新管理器">二、使用自带的更新管理器</h2>
<p>首先点击开始菜单，找到设置管理器</p>
<p></p>
<p>滚轮滑下去，找到<code>软件源</code></p>
<p></p>
<p>输入你的用户密码</p>
<p></p>
<p>嗯哼，是不是在开头看到过？
</p>
<p>然后用这个软件把这些都改成国内的就好了，具体怎么操作&hellip; 我也不好讲啊&hellip;</p>
<p></p>
<p>唔啊！总之这个就是&hellip; 拿鼠标点点点就好了&hellip;</p>
<p>总之这样就好啦～</p>
<p></p>
<p>接下來它会提示你是否更新 apt 缓存，点击确定就可以啦～</p>
<p></p>
<p>等它跑完就好啦～</p>
<p></p>
<h2 id="更新软件包">更新软件包</h2>
<p>当我们设置好 apt 软件源后，我们要做的就是进行必要的软件包更新..</p>
<p>还是两种方法</p>
<p><strong>注意：还是二选一</strong></p>
<h3 id="一终端法-1">一、终端法</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ sudo apt upgrade
</span></span></code></pre></td></tr></table>
</div>
</div><p></p>
<p></p>
<p></p>
<p>搞定</p>
<p>接下来重启虚拟机就可以了</p>
<h3 id="二使用这个更新管理器">二、使用这个更新管理器</h3>
<p></p>
<p>点击就好～</p>
<p></p>
<p>然后输入密码就可以了</p>
<p></p>
<p>点击安装更新就好了
</p>
<p>确定</p>
<p></p>
<p>截图累死了&hellip;</p>
<p>然后等它跑完就好了</p>
<p></p>
<p>接下来重启虚拟机就可以了</p>
<h2 id="结语">结语</h2>
<p>首先要说的是，我是使用 Linux Mint 20 来演示的，在未来它会更新，也许本文章的有些细节与实情不相同，但操作是大同小异的。请根据实际情况随机应变。</p>
<p>其次，<del>不许笑</del> ，本文章是面向刚接触 Linux 的初学者，不喜勿喷。</p>
<p>如果有什么不足之处，或一些粗心造成的小错误，请在下面的 gitalk 中留言</p>
<p>最后，本站遵循 <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener noreffer">CC-BY-NC 4.0 协议</a>，转载请注明出处</p>
<hr>
<h2 id="参考链接">参考链接</h2>
<ul>
<li>
<p><a href="https://mirrors.tuna.tsinghua.edu.cn/help/linuxmint/" target="_blank" rel="noopener noreffer">linuxmint | 镜像站使用帮助 | 清华大学开源软件镜像站 | Tsinghua Open Source Mirror</a></p>
</li>
<li>
<p><a href="https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/" target="_blank" rel="noopener noreffer">ubuntu | 镜像站使用帮助 | 清华大学开源软件镜像站 | Tsinghua Open Source Mirror</a></p>
</li>
</ul>]]></description>
</item><item>
    <title>scp 命令小结</title>
    <link>http://weepingdogel.github.io/zh-cn/posts/scp%E5%91%BD%E4%BB%A4%E5%B0%8F%E7%BB%93/</link>
    <pubDate>Sat, 05 Sep 2020 12:10:07 &#43;0800</pubDate>
    <author>作者</author>
    <guid>http://weepingdogel.github.io/zh-cn/posts/scp%E5%91%BD%E4%BB%A4%E5%B0%8F%E7%BB%93/</guid>
    <description><![CDATA[<h2 id="scp-命令是什么">scp 命令是什么</h2>
<p>是传文件用的..</p>
<p>我们用 <code>ssh</code> 操作服务器，当我们需要给服务器传输文件的时候，<code>scp</code> 命令会通过 <code>ssh</code> 的端口进行文件传输。</p>
<h2 id="用法">用法</h2>
<p>当我们在终端输入 <code>scp</code> 后，我们会得到这些</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">weepingdogel@WeepingDogel ~&gt; scp
</span></span><span class="line"><span class="cl">usage: scp [-346BCpqrTv] [-c cipher] [-F ssh_config] [-i identity_file]
</span></span><span class="line"><span class="cl">            [-J destination] [-l limit] [-o ssh_option] [-P port]
</span></span><span class="line"><span class="cl">            [-S program] source ... target
</span></span></code></pre></td></tr></table>
</div>
</div><p>很显然我们很快就知道了一些参数&hellip;</p>
<h2 id="示例">示例</h2>
<p>这里举一些例子，来展示清楚具体的使用方法&hellip;</p>
<p>先说明一下我的测试环境</p>
<blockquote>
<p>Arch Linux</p>
<p>IP: 192.168.0.105</p>
<p>CentOS8 虚拟机</p>
<p>IP: 192.168.0.108</p>
</blockquote>
<h3 id="上传一个文件">上传一个文件</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">$ scp [本地文件名] 用户名@地址:[文件名]
</span></span></code></pre></td></tr></table>
</div>
</div><p>这是一般用法，但是<strong>请确保路径正确！</strong></p>
<p>即：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">weepingdogel@WeepingDogel ~ [1]&gt; scp ./编译/7.1.0.zip root@192.168.0.108:/root/
</span></span><span class="line"><span class="cl">root@192.168.0.108&#39;s password: 
</span></span><span class="line"><span class="cl">7.1.0.zip                                                    100%   95KB   5.2MB/s   00:00 
</span></span></code></pre></td></tr></table>
</div>
</div><p>这个很简单的，没什么多说的了..</p>
<h3 id="下载一个文件">下载一个文件</h3>
<p>如果我们要从服务器里取一个文件下来修改，而服务器没有 <code>ftp</code> 时该怎么办呢？</p>
<p>我们需要用 SSH 去找到这个文件的位置，不过这个就不详写了，与主题无关。（总之你知道文件的位置就可以了）</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">$ scp 用户名@地址:[文件名] [本地文件名]
</span></span></code></pre></td></tr></table>
</div>
</div><p>还是要提醒一下，这个<strong>文件名</strong>， <strong>是一个路径！</strong></p>
<p>是一个<strong>相对路径</strong>或<strong>绝对路径</strong>！具体依情况而定，但<strong>它一定是个路径！</strong></p>
<p>如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">weepingdogel@WeepingDogel ~&gt; scp root@192.168.0.108:/root/index.html /tmp/index.html
</span></span><span class="line"><span class="cl">root@192.168.0.108&#39;s password: 
</span></span><span class="line"><span class="cl">index.html                                                   100%   46KB 728.6KB/s   00:00
</span></span><span class="line"><span class="cl">weepingdogel@WeepingDogel ~&gt; ls /tmp/*.html -lh
</span></span><span class="line"><span class="cl">-rw-r--r-- 1 weepingdogel weepingdogel 47K  9月  5 20:54 /tmp/index.html
</span></span></code></pre></td></tr></table>
</div>
</div><p>只需要知道文件在服务器的具体位置以及想好保存到本地的一个位置就可以了</p>
<h3 id="指定一个-ip">指定一个 IP</h3>
<p>一般情况下 SSH 的端口都是 22，那是真的云服务器或者一些有公网 IP 的服务器。</p>
<p>而上文写的是基于局域网中的文件传输，我们需要内网穿透才能远程文件传输，但内网穿透在一般情况下都是指定一个别的端口来给 SSH 建立一个通道，因此端口就不再是 22 了。</p>
<p>我这里用的是 <a href="https://www.natfrp.com/" target="_blank" rel="noopener noreffer">SakuraFRP</a> ，非常好用的免费内网穿透服务！</p>
<p><strong>上传：</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">scp -P [端口]  [本地文件名] 用户名@地址:[文件名]
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>下载：</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">scp -P [端口] 用户名@地址:[文件名] [本地文件名]
</span></span></code></pre></td></tr></table>
</div>
</div><p>上面已经提示过很多次<strong>这个<code>[文件名]</code>是个路径了</strong>。这里就不再多废话啦。</p>
<p>嗯&hellip; 具体就是这样子的：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">weepingdogel@WeepingDogel ~&gt; scp -P 45820 root@cn-zj-dx-2.sakurafrp.com:/root/test.py /tmp/test.py
</span></span></code></pre></td></tr></table>
</div>
</div><p>但是这里我来个组合命令</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">weepingdogel@WeepingDogel ~ [1]&gt; scp -P 45820 root@cn-zj-dx-2.sakurafrp.com:/root/test.py /tmp/test.py &amp;&amp; cd /tmp &amp;&amp; python test.py
</span></span><span class="line"><span class="cl">The authenticity of host &#39;[cn-zj-dx-2.sakurafrp.com]:45820 ([222.186.174.33]:45820)&#39; can&#39;t be established.
</span></span><span class="line"><span class="cl">ECDSA key fingerprint is SHA256:8J1Z+I8NtPXAk7EFDwLiwu8pmwSoPLYeJM2iYnV7z5M.
</span></span><span class="line"><span class="cl">Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
</span></span><span class="line"><span class="cl">Warning: Permanently added &#39;[cn-zj-dx-2.sakurafrp.com]:45820,[222.186.174.33]:45820&#39; (ECDSA) to the list of known hosts.
</span></span><span class="line"><span class="cl">root@cn-zj-dx-2.sakurafrp.com&#39;s password: 
</span></span><span class="line"><span class="cl">test.py                                                      100%   21     0.2KB/s   00:00    
</span></span><span class="line"><span class="cl">Hello World
</span></span></code></pre></td></tr></table>
</div>
</div><p>上传的也是差不多的啦，把位置反过来就可以了，这里就不多演示啦</p>
<p>写完啦！</p>
<h2 id="参考链接">参考链接</h2>
<p>啥？这次没有，自己试出来的&hellip;</p>
<p>唔啊！准确来说也有，那就是各种搜索引擎啦～</p>]]></description>
</item><item>
    <title>Linux 基础命令</title>
    <link>http://weepingdogel.github.io/zh-cn/posts/linux%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/</link>
    <pubDate>Mon, 05 Aug 2019 15:05:06 &#43;0800</pubDate>
    <author>作者</author>
    <guid>http://weepingdogel.github.io/zh-cn/posts/linux%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/</guid>
    <description><![CDATA[<div class="featured-image">
                <img src="/images/linux-arm.png" referrerpolicy="no-referrer">
            </div><p><em><strong>提示：面向萌新，大佬勿喷</strong></em></p>
<p>刚入门Linux难免会觉得很麻烦，因为不知道如何使用命令去操作，这样的话在Linux系统是寸步难行的，但是学会了一些基础命令以后就能无压力的操作了，想不想学会Linux？那就让我们从简单的文件操作开始吧。</p>
<h2 id="如何使用命令行">如何使用命令行</h2>
<p>如果你的发行版自带图形界面的话，可以从图形界面的菜单中找到一个叫 <strong>“终端”</strong> 的东西，打开它，就可以使用命令了。如果你的发行版不带图形界面，那么在tty登录用户以后就可以直接使用了。</p>
<p>注意，这个终端不等于<strong>DOS</strong>也不等于<strong>cmd</strong>，它和windows是没有办毛钱关系的，是另一种东西。</p>
<h2 id="cd命令">cd命令</h2>
<p>如果你之前用过DOS或者经常使用windows的cmd，你就会知道这个命令了，这个命令在大多数操作系统中都有。</p>
<p>cd命令是”change directory”的缩写，也就是改变你当前所在的目录，后面可以加相对路径，也可以加上绝对路径。</p>
<p>简单的理解，就是进入一个文件夹。</p>
<h3 id="用法">用法</h3>
<p>测试目录:<code>/a/b/c</code></p>
<h4 id="进入某个目录">进入某个目录:</h4>
<p>绝对路径：指定一个完整的路径，与自己当前所在的目录无关</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost ~<span class="o">]</span>$ <span class="nb">cd</span> /a/b/c <span class="c1"># 进入/a/b/c这个路径中的目录c</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车后</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><p>相对路径：指定当前目录上级目录下的其他目录或下级中的一个目录 指定下一级(常用)</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost b<span class="o">]</span>$ <span class="nb">cd</span> ./c <span class="c1"># 进入当前所在/a/b目录下面的目录c</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车后</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><p>指定上一级</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost b<span class="o">]</span>$ <span class="nb">cd</span> ../xxx <span class="c1">#进入当前所在目录/a/b中的/a目录下的其他目录</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车后</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost xxx<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="退出某个目录">退出某个目录:</h4>
<p>有人可能不知道，进入了目录以后怎么退出来，那么这个时候就要用到cd ..命令了。</p>
<p>返回上一级</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ <span class="nb">cd</span> .. <span class="c1"># 从当前所在的目录/a/b/c返回上一级的目录/a/b</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车后</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost b<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><p>返回上两级</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ <span class="nb">cd</span> ../.. <span class="c1"># 从当前所在的目录/a/b/c返回上两级的目录/a</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车后</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost a<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="pwd命令">pwd命令</h2>
<p>这个命令是用来辅助上面的cd命令的，它的作用是查看当前所在的绝对路径。</p>
<h3 id="用法-1">用法</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost ~<span class="o">]</span>$ <span class="nb">pwd</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车后</span>
</span></span><span class="line"><span class="cl">/home/weepingdogel
</span></span></code></pre></td></tr></table>
</div>
</div><p>假如当前所在目录为/a/b/c</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ <span class="nb">pwd</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车后</span>
</span></span><span class="line"><span class="cl">/a/b/c
</span></span></code></pre></td></tr></table>
</div>
</div><p>虽然只有一个作用，但是却很重要，因为新手每天都会用到，bash或者部分zsh主题是不会显示绝对路就的，如果你不知道你当前在操作哪个目录，你就得用上pwd这个命令了。</p>
<h2 id="ls命令">ls命令</h2>
<p>这个命令相当于windows中的<strong>dir</strong>，作用是显示当前目录下的所有的文件和目录。</p>
<h3 id="用法-2">用法</h3>
<p>测试目录<code>/tmp/a/b/c</code></p>
<p>直接查看</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ ls <span class="c1"># 查看当前目录下面的文件</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车后</span>
</span></span><span class="line"><span class="cl"><span class="m">223333</span>  文本.txt  <span class="nb">test</span>  wiaori <span class="c1"># 被列出的文件</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><p>列表式查看，参数-l</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ ls -l
</span></span><span class="line"><span class="cl"><span class="c1">#按下回车后</span>
</span></span><span class="line"><span class="cl">总用量 <span class="m">4</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">0</span>  8月  <span class="m">5</span> 17:52 <span class="m">223333</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel <span class="m">11</span>  8月  <span class="m">5</span> 17:38 文本.txt
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">2</span> weepingdogel weepingdogel <span class="m">40</span>  8月  <span class="m">5</span> 17:52 <span class="nb">test</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">0</span>  8月  <span class="m">5</span> 17:52 wiaori
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><p>易读列表查看，参数-lh</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ ls -lh
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车后</span>
</span></span><span class="line"><span class="cl">总用量 4.0K
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">0</span>  8月  <span class="m">5</span> 17:52 <span class="m">223333</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel <span class="m">11</span>  8月  <span class="m">5</span> 17:38 文本.txt
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">2</span> weepingdogel weepingdogel <span class="m">40</span>  8月  <span class="m">5</span> 17:52 <span class="nb">test</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">0</span>  8月  <span class="m">5</span> 17:52 wiaori
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><p>按时间排序的易读列表查看，参数-lh &ndash;sort=time</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ ls -lh --sort<span class="o">=</span><span class="nb">time</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车后</span>
</span></span><span class="line"><span class="cl">总用量 4.0K
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">2</span> weepingdogel weepingdogel <span class="m">40</span>  8月  <span class="m">5</span> 17:52 <span class="nb">test</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">0</span>  8月  <span class="m">5</span> 17:52 wiaori
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">0</span>  8月  <span class="m">5</span> 17:52 <span class="m">223333</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel <span class="m">11</span>  8月  <span class="m">5</span> 17:38 文本.txt
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><p>按文件大小排序的易读列表查看，参数-lh &ndash;sort=size</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ ls -lh --sort<span class="o">=</span>size
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车后</span>
</span></span><span class="line"><span class="cl">总用量 4.0K
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">2</span> weepingdogel weepingdogel <span class="m">40</span>  8月  <span class="m">5</span> 17:52 <span class="nb">test</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel <span class="m">11</span>  8月  <span class="m">5</span> 17:38 文本.txt
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">0</span>  8月  <span class="m">5</span> 17:52 <span class="m">223333</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">0</span>  8月  <span class="m">5</span> 17:52 wiaori
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><p>更多用法等你自己去摸索了</p>
<h2 id="文件复制与移动">文件复制与移动</h2>
<h3 id="mv命令">mv命令</h3>
<p>这个命令是英文单词<strong>move</strong>的缩写。</p>
<p>它的作用主要是移动某些文件到指定的位置，你可以指定绝对路径，但是如果离得比较近的话就可以使用相对路径。</p>
<h4 id="用法-3">用法</h4>
<h5 id="绝对路径用法">绝对路径用法：</h5>
<p>比如我们把 <strong>“目录c”</strong> 下面的 <strong>“文本.txt”</strong> 移动到<code>/tmp/a/</code>下面</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ mv /tmp/a/b/c/文本.txt /tmp/a/
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车后，文件就被移动了</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><p>接下来我们切换到<code>/tmp/a/</code>下面看看吧</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ <span class="nb">cd</span> /tmp/a
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost a<span class="o">]</span>$ ls
</span></span><span class="line"><span class="cl">文本.txt  b
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost a<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><p>此时我们就看到了那个 <strong>“文本.txt”</strong> 被移动到了<code>/tmp/a/</code>下面了。</p>
<h5 id="相对路径用法">相对路径用法：</h5>
<p>那么我们用另一种方法把这个文件移回去吧，首先我们还在这个<code>/tmp/a/</code>下面，那么命令如下</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost a<span class="o">]</span>$ mv ./文本.txt ./b/c/
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车后，文件就被移动了</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost a<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><p>接下来我们回到<code>/tmp/a/b/c/</code>下面看看吧。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost a<span class="o">]</span>$ <span class="nb">cd</span> ./b/c
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ ls
</span></span><span class="line"><span class="cl"><span class="m">223333</span>  文本.txt  <span class="nb">test</span>  wiaori
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><p>看到了没有，它又回来了。</p>
<h3 id="cp命令">cp命令</h3>
<p>哈哈，这个命令也不是那个cp的意思，它是  <strong>“copy”</strong> 的缩写，复制的意思。</p>
<p>顾名思义，它的作用就是把一个文件复制到另一个地方。它同样有指定绝对路径和相对路径的两种用法。来尝试一下？</p>
<h4 id="用法-4">用法</h4>
<h5 id="绝对路径">绝对路径：</h5>
<p>我们来试试把<code>/tmp/a/b/c/文本.txt</code>这个文件复制到<code>/tmp/a/</code>下面</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ cp /tmp/a/b/c/文本.txt /tmp/a/
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车后，文件就被复制了</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ <span class="nb">cd</span> ../.. <span class="c1"># 我们来看看它是否被复制成功</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost a<span class="o">]</span>$ ls -lh <span class="c1"># 使用ls命令看一下，可见他是被复制成功的，创建日期与上面不一样。</span>
</span></span><span class="line"><span class="cl">总用量 4.0K
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel <span class="m">11</span>  8月  <span class="m">5</span> 18:36 文本.txt
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">3</span> weepingdogel weepingdogel <span class="m">60</span>  8月  <span class="m">5</span> 17:37 b
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost a<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>注意：此命令如果不使用高级用法是无法复制创建时间和所有者的</p>
</blockquote>
<h5 id="相对路径">相对路径：</h5>
<p>嘿嘿，我们尝试给/tmp/a/的每一级目录都复制一份吧。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost a<span class="o">]</span>$ cp ./文本.txt ./b/ <span class="c1"># 先复制到目录b</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost a<span class="o">]</span>$ cp ./文本.txt ./b/c/ <span class="c1"># 复制到目录c</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost a<span class="o">]</span>$ cp ./文本.txt ../ <span class="c1"># 复制到/tmp/下面</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost a<span class="o">]</span>$ <span class="nb">cd</span> .. <span class="c1"># 回到/tmp下面</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost tmp<span class="o">]</span>$ ls -lh <span class="c1"># 查看是否复制成功，可见第一个就是该文件</span>
</span></span><span class="line"><span class="cl">总用量 4.0K
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel <span class="m">11</span>  8月  <span class="m">5</span> 18:48  文本.txt
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">3</span> weepingdogel weepingdogel <span class="m">80</span>  8月  <span class="m">5</span> 18:36  a
</span></span><span class="line"><span class="cl"><span class="c1"># 接下来一级一级往下看</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost tmp<span class="o">]</span>$ ls -lh ./a
</span></span><span class="line"><span class="cl">总用量 4.0K
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel <span class="m">11</span>  8月  <span class="m">5</span> 18:36 文本.txt
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">3</span> weepingdogel weepingdogel <span class="m">80</span>  8月  <span class="m">5</span> 18:45 b
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost tmp<span class="o">]</span>$ ls -lh ./a/b
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">11</span>  8月  <span class="m">5</span> 18:45 文本.txt
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">3</span> weepingdogel weepingdogel <span class="m">120</span>  8月  <span class="m">5</span> 18:25 c
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost tmp<span class="o">]</span>$ ls -lh ./a/b/c
</span></span><span class="line"><span class="cl">总用量 4.0K
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">0</span>  8月  <span class="m">5</span> 17:52 <span class="m">223333</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel <span class="m">11</span>  8月  <span class="m">5</span> 18:47 文本.txt
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">2</span> weepingdogel weepingdogel <span class="m">40</span>  8月  <span class="m">5</span> 17:52 <span class="nb">test</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">0</span>  8月  <span class="m">5</span> 17:52 wiaori
</span></span></code></pre></td></tr></table>
</div>
</div><p>可见，复制是成功的。</p>
<blockquote>
<p>注意：如果要复制目录，请在指定目录前加上参数-r，否则将无法复制</p>
</blockquote>
<h2 id="mkdir命令">mkdir命令</h2>
<p>这个命令是 <strong>“make directory”</strong> 的缩写，意为创建一个目录它一般情况下有两种用法</p>
<ol>
<li>一般创建，直接在已存在的绝对路径或相对路径创建一个目录</li>
<li>递归创建，创建一连串目录，在创建之前有一级或以上的目录未被创建</li>
</ol>
<p>同样也是可以指定绝对路径和相对路径的，接下来我就只写出相对路径的示例了，因为方便。</p>
<p>来尝试一下？</p>
<h3 id="用法-5">用法</h3>
<h4 id="一般创建">一般创建</h4>
<p>假设目录<code>/tmp/a/b/c</code></p>
<p>我们要创建一个目录<code>d</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ mkdir ./d <span class="c1"># 在/tmp/a/b/c/下面创建一个目录d</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车之后，目录就创建了，我们可以用ls来检查一下</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ ls -lh
</span></span><span class="line"><span class="cl">总用量 4.0K
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">0</span>  8月  <span class="m">5</span> 17:52 <span class="m">223333</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel <span class="m">11</span>  8月  <span class="m">5</span> 18:47 文本.txt
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">2</span> weepingdogel weepingdogel <span class="m">40</span>  8月  <span class="m">5</span> 19:07 d
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">2</span> weepingdogel weepingdogel <span class="m">40</span>  8月  <span class="m">5</span> 17:52 <span class="nb">test</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">0</span>  8月  <span class="m">5</span> 17:52 wiaori
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><p>可见，目录被成功创建了。</p>
<h4 id="递归创建">递归创建</h4>
<p>假设目录<code>/tmp/a/b/c</code></p>
<p>我们要在当前目录下创建一串目录，比如<code>./go/for/it</code>，此时我们就要加个参数<code>-p</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ mkdir -p ./go/fot/it
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车之后，一串目录就被创建了，接下来我们会一级一级的查看</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ ls -lh 
</span></span><span class="line"><span class="cl">总用量 4.0K
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">0</span>  8月  <span class="m">5</span> 17:52 <span class="m">223333</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel <span class="m">11</span>  8月  <span class="m">5</span> 18:47 文本.txt
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">2</span> weepingdogel weepingdogel <span class="m">40</span>  8月  <span class="m">5</span> 19:07 d
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">3</span> weepingdogel weepingdogel <span class="m">60</span>  8月  <span class="m">5</span> 19:14 go
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">2</span> weepingdogel weepingdogel <span class="m">40</span>  8月  <span class="m">5</span> 17:52 <span class="nb">test</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">0</span>  8月  <span class="m">5</span> 17:52 wiaori
</span></span><span class="line"><span class="cl"><span class="c1"># 可见我们看见了目录go</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ <span class="nb">cd</span> ./go <span class="c1"># 我们试着进入这个目录，可见我们成功进入了目录</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost go<span class="o">]</span>$ ls -lh <span class="c1">#继续查看下一级</span>
</span></span><span class="line"><span class="cl">总用量 <span class="m">0</span>
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">3</span> weepingdogel weepingdogel <span class="m">60</span>  8月  <span class="m">5</span> 19:14 <span class="k">for</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost go<span class="o">]</span>$ <span class="nb">cd</span> ./for <span class="c1">#进入目录for</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost <span class="k">for</span><span class="o">]</span>$ ls -lh <span class="c1"># 继续查看下一级</span>
</span></span><span class="line"><span class="cl">总用量 <span class="m">0</span>
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">2</span> weepingdogel weepingdogel <span class="m">40</span>  8月  <span class="m">5</span> 19:14 it
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost <span class="k">for</span><span class="o">]</span>$ <span class="nb">cd</span> ./it <span class="c1">#接下来我们进入这个目录it，由于it里面是空的，所以就不用ls查看了</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost it<span class="o">]</span>$ <span class="nb">pwd</span> <span class="c1">#使用pwd查看当前位置</span>
</span></span><span class="line"><span class="cl">/tmp/a/b/c/go/for/it
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost it<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><p>可见这一串目录也创建成功了。</p>
<h2 id="rm命令">rm命令</h2>
<blockquote>
<p>注意:此命令如果使用不当十分危险</p>
</blockquote>
<p>这个命令是 <strong>“remove”</strong> 的缩写，意为删除，作用上和windows中的del命令差不多，但是用法和参数却有所不同，而且诶这个命令如果使用不当是十分危险的，因为在Linux中，就算是正在被使用的文件也可以被删除，并不会有windows那种保姆级别的”拒绝访问”。</p>
<h3 id="用法-6">用法</h3>
<p>假设目录<code>/tmp/a/b/c</code></p>
<h4 id="删除文件">删除文件</h4>
<p>我们来尝试删除一下<code>文本.txt</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ rm ./文本.txt
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车之后这个文件就被删除了</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ ls
</span></span><span class="line"><span class="cl"><span class="m">223333</span>  d  go  <span class="nb">test</span>  wiaori
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="删除目录">删除目录</h4>
<p>如果你要删除一个目录，比如go，就需要加一个参数-r</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ rm -r ./go
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车之后，这个目录就被删除了</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ ls -lh <span class="c1">#查看一下就可以看到，go也不见了</span>
</span></span><span class="line"><span class="cl">总用量 <span class="m">0</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">0</span>  8月  <span class="m">5</span> 17:52 <span class="m">223333</span>
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">2</span> weepingdogel weepingdogel <span class="m">40</span>  8月  <span class="m">5</span> 19:07 d
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">2</span> weepingdogel weepingdogel <span class="m">40</span>  8月  <span class="m">5</span> 17:52 <span class="nb">test</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">0</span>  8月  <span class="m">5</span> 17:52 wiaori
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="强制删除危险">强制删除|危险|</h4>
<p>如果你需要强制删除一个文件，则需要调用root权限，并且使用<code>-rf</code>参数。</p>
<blockquote>
<p>注意，千万不要用这个命令去删除 <code>/</code>目录，否则你的系统将会自杀</p>
</blockquote>
<p>比如我们要删除<code>223333</code>这个文件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ sudo rm -rf ./223333
</span></span><span class="line"><span class="cl"><span class="c1"># 按下回车后会要你输入一次密码，输入密码后按回车，这个文件就删除了，Linux的安全保护机制使密码不会显示在屏幕上</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>sudo<span class="o">]</span> weepingdogel 的密码：
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ ls -lh <span class="c1"># 查看一下文件的情况，可见这个文件不见了</span>
</span></span><span class="line"><span class="cl">总用量 <span class="m">0</span>
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">2</span> weepingdogel weepingdogel <span class="m">40</span>  8月  <span class="m">5</span> 19:07 d
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">2</span> weepingdogel weepingdogel <span class="m">40</span>  8月  <span class="m">5</span> 17:52 <span class="nb">test</span>
</span></span><span class="line"><span class="cl">-rw-r--r-- <span class="m">1</span> weepingdogel weepingdogel  <span class="m">0</span>  8月  <span class="m">5</span> 17:52 wiaori
</span></span><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="包管理器">包管理器</h2>
<blockquote>
<p>注意：不同发行版之间可能有差异</p>
</blockquote>
<p>一般情况下，新手使用的<strong>deb系发行版</strong>的包管理器是<strong>apt</strong></p>
<p>那么这些就是<strong>apt</strong>常用的用法了</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost ~<span class="o">]</span>$ sudo apt update <span class="c1"># 更新软件源</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ sudo apt install &lt;包名&gt; <span class="c1"># 安装一个软件、软件包</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ sudo apt search &lt;软件名称&gt; <span class="c1"># 搜索软件</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ sudo apt upgrade <span class="c1"># 升级你已安装的软件，通常消耗时间比较长</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ sudo apt remove &lt;包名&gt; <span class="c1"># 卸载软件</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ sudo apt autoremove <span class="c1"># 自动处理依赖</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>如果要安装本地包，则需要使用本地包管理器dpkg，用法如下</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>weepingdogel@localhost c<span class="o">]</span>$ sudo dpkg -i &lt;包名&gt; <span class="c1"># 安装本地包</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="结语">结语</h2>
<p>本期博客中的内容并不是很详细，我已经尽力写得让大多数人能看懂，也许还有少数人无法理解内容，没关系，你可以在下面的评论区提问。</p>
<p>那么，欢迎评论。</p>]]></description>
</item><item>
    <title>Linux Mint 安装教程</title>
    <link>http://weepingdogel.github.io/zh-cn/posts/linux_mint_%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/</link>
    <pubDate>Sun, 23 Jun 2019 20:10:29 &#43;0800</pubDate>
    <author>作者</author>
    <guid>http://weepingdogel.github.io/zh-cn/posts/linux_mint_%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/</guid>
    <description><![CDATA[<div class="featured-image">
                <img src="/img/%e6%88%aa%e5%9b%be_2019-06-23_18-05-27.png" referrerpolicy="no-referrer">
            </div><h2 id="简介">简介</h2>
<p>Linux Mint是一款由Linux Mint Team团队从2006年开始发行，是基于Debian和Ubuntu的发行版。</p>
<p>其目的是提供一种更加完整的即刻可用体验，它诞生的目的是为家庭用户和企业提供一个免费的，易用的，舒适而优雅的桌面操作系统。</p>
<p>包括了浏览器 多媒体播放器 DVD播放支持 Java和其他组件，它有三个桌面环境版本，分别是Cinnamon，MATE，xfce。</p>
<h2 id="下载">下载</h2>
<p>Linux Mint可以去官网下载，官网有两种下载方式，一种是通过所在国家对应的镜像站进行HTTP下载，还有一种就是通过种子下载的。</p>
<p>由于官网上的上海大学开源镜像站进不去所以我只好选择了种子下载，但是本篇博客将会提供xfce版本的下载地址。</p>
<p>Linux Mint官网：<a href="https://www.linuxmint.com/" target="_blank" rel="noopener noreffer">https://www.linuxmint.com/</a></p>
<p>墙内用户可以从以下两个镜像源快速下载Linux Mint:</p>
<ul>
<li><a href="https://mirrors.tuna.tsinghua.edu.cn/linuxmint-cd/stable/" target="_blank" rel="noopener noreffer">清华开源镜像站</a></li>
<li><a href="http://mirrors.ustc.edu.cn/linuxmint-cd/stable/" target="_blank" rel="noopener noreffer">中科大开源镜像站</a></li>
</ul>
<p></p>
<p></p>
<h2 id="安装">安装</h2>
<p><strong>xfce版本安装条件：至少512MB或以上的内存，15GB或以上的磁盘空间</strong></p>
<p>你可以选择安装在<strong>物理机</strong>上，也可以安装在<strong>虚拟机</strong>上。</p>
<p>如果你需要安装在<strong>物理机</strong>则需要使用<strong>refus</strong>等类似的<strong>U盘启动制作工具</strong>制作<strong>启动盘</strong>。</p>
<p>本篇博客将使用虚拟机作为演示。</p>
<p></p>
<p></p>
<h3 id="安装过程">安装过程</h3>
<h4 id="挂载安装介质">挂载安装介质</h4>
<p>首先将下载好的<strong>镜像文件</strong>加入<strong>虚拟机</strong>的启动，如果是<strong>物理机</strong>则插入你<strong>制作好的启动盘</strong>。</p>
<p></p>
<p></p>
<p></p>
<p>选择好之后，点击<strong>确定</strong></p>
<p>然后启动虚拟机即可。而物理机则需要重启然后按相应的键，ESC F12 F11之类的，这些百度上都有，搜索“你电脑的品牌或者主板的品牌+U盘启动”就可以查到</p>
<p></p>
<p>然后虚拟机将会自动切换到虚拟CD进行启动，等待即可。</p>
<p>接下来就会出现这个画面，等待10秒后进入了CD Live即可。</p>
<p></p>
<p>10秒后，将会进入开机动画，不用多解释（还挺好看的哈）</p>
<p></p>
<p>再过了一会儿，就进入这个界面了，这就是我上文说的CD Live。</p>
<p></p>
<p>哈哈哈哈吐嘈一下这个时间显示，为什么是8点呢，而我发布这篇博客的时间是下午两点啊，其实是因为这个CD Live的默认时区不一样，不用理会他，我们继续操作即可。</p>
<h4 id="选择语言习惯和安装需要">选择语言，习惯和安装需要</h4>
<p>那么接下来点击这个 <strong>“Install Linux Mint”</strong> ，然后就会弹出这个安装界面了，第一页这里是选择语言，我们选择简体中文（当然你看得懂什么语言就选什么语言）。</p>
<p></p>
<p></p>
<p></p>
<p>然后就是选择键盘布局了，这里默认就好，或者选择美式，但都差不多是一样的。</p>
<p></p>
<p></p>
<p></p>
<h4 id="分区">分区</h4>
<p>然后就是一个<strong>重头戏</strong>了,你一定要<strong>认真看！认真看！认真看！</strong></p>
<p>（重要的事情说三遍）</p>
<p>这里会给你两个选项来进行分区，其中第一个单选框的意思是把你的<strong>整个硬盘全部格式化</strong>然后再安装Linux Mint，如果你是虚拟机的话选这个无所谓，但是如果你是<strong>物理机</strong>的话就要<strong>慎重</strong>了,无论安装成功或失败你的原有数据都会丢失。</p>
<p>下面两个勾不用理会，因为大部分人都不会选择第一个单选框，所以这两个勾毫无意义了。本篇博客也将选择 <strong>“其他选项”</strong> 。 那么我们选择下面那个 <strong>“其他选项”</strong> 。</p>
<p></p>
<p>选择其他选项后，就会进入这个页面，这里就是建立分区表的地方（废话，下面都写着呢，还用你说）了。</p>
<p></p>
<p>那么，因为教程演示是虚拟机，所以点击新建分区表，如果是物理机则不需要了。</p>
<p>这时候会弹出一个提示，这个也不必理会它，直接点<code>继续</code>即可。</p>
<p></p>
<p>接下来一个空的分区表就建立好了。</p>
<p></p>
<p>那么，要怎样分区呢？</p>
<p>我们知道Linux必须分的区有<code>根(/)分区</code>、<code>/boot分区</code>和<code>swap分区</code>，那么该分多少呢?</p>
<p>从<code>/boot</code>说起，这个分区是存放系统启动引导文件的，只需要500MB左右，但别小看了这个小分区，如果没有这个，根分区一旦被写满，系统将无法启动。</p>
<p><code>SWAP分区</code>：用于给内存交换空间，当内存要爆了的时候系统会把一部分进程转移到SWAP里面，它所需的大小可以是内存大小的一半，也可以与内存大小相等，也可以是内存的两倍，但是太大也不好，如果内存够用的话，swap分太大会浪费不少的硬盘存储空间。</p>
<p>最后是根分区了，这个好理解，就是系统分区，应该将剩下的全都分给它。</p>
<p>那么具体怎么分呢，参考我操作咯</p>
<p>点击那个<code>+</code>,将会弹出一个创建分区的窗口</p>
<p></p>
<p></p>
<p>先创建一个<code>/boot</code>分区，大小500MB，文件系统为EXT4文件系统，挂载点为<code>/boot</code>。</p>
<p></p>
<p>然后发现左下角的<code>+</code>，变成了灰色？不用怕，继续选择空闲空间它就会变成可选择的了。</p>
<p>那么同上操作，我们分SWAP，但是注意了：SWAP不是挂载点，应该在文件系统里选择 <strong>“交换空间”</strong></p>
<p>类型为主分区，大小1024MB，文件系统为交换空间，挂载点不用选择</p>
<p></p>
<p></p>
<p>那么同上操作，我们来分<code>根分区</code>，类型主分区，文件系统EXT4，挂载点<code>/</code>，大小将剩下的容量全部给它。</p>
<p></p>
<p>之后分区基本上就完成了</p>
<p></p>
<h4 id="开始全自动安装">开始全自动安装</h4>
<p>现在我们可以安装了，点击 <strong>“现在安装”</strong> 即可，接下来会弹出一个提示，内容如图，点击 <strong>“继续”</strong> 即可。</p>
<p></p>
<p>接下来就会要你选择地区了，这个决定了系统的时区，一定要根据实际情况选择，我们选择上海。然后点击 <strong>“继续”</strong></p>
<p></p>
<p>然后设置什么姓名啊计算机名啊用户名啊密码啊什么的，这些可以随便写，但是你一定要记住你写的用户名和密码是什么。</p>
<p>下面有一个加密主目录，可选可不选，意思是把你的用户目录进行加密，我就不选了，没必要。</p>
<p>写好选好以后，点击继续即可。</p>
<p></p>
<p>接下来就会开始安装了，全自动哦～去喝杯奶茶慢慢等吧。</p>
<p></p>
<p></p>
<p>一直等就好。</p>
<p>直到出现了这个窗口</p>
<p></p>
<p>那么恭喜你，你安装成功了！点击<strong>现在重启</strong>。 如果你出现了这个，虚拟机把虚拟光驱卸掉按回车即可，物理机则拔掉U盘按回车即可。</p>
<p>（物理机一般不会出现这个）</p>
<p></p>
<p>接下来如果没出问题的话，就进入系统了。</p>
<p>登录你刚刚设置的用户和密码，好好享受吧。</p>
<p></p>
<hr>
<h2 id="总结">总结</h2>
<p>稍微总结一下，Linux Mint是对新手比较友好的一份Linux发行版，它的安装过程也是非常简单的，基本上都是图形操作点点点。所以非常推荐新手学习使用</p>
<p>另外，本博客仅供参考和学习，如果出现其他问题请自行百度。</p>
<p>如需转载，请注明出处。</p>]]></description>
</item><item>
    <title>关于BlackArch的体验报告</title>
    <link>http://weepingdogel.github.io/zh-cn/posts/%E5%85%B3%E4%BA%8Eblackarch%E7%9A%84%E4%BD%93%E9%AA%8C%E6%8A%A5%E5%91%8A/</link>
    <pubDate>Sun, 16 Jun 2019 16:33:47 &#43;0800</pubDate>
    <author>作者</author>
    <guid>http://weepingdogel.github.io/zh-cn/posts/%E5%85%B3%E4%BA%8Eblackarch%E7%9A%84%E4%BD%93%E9%AA%8C%E6%8A%A5%E5%91%8A/</guid>
    <description><![CDATA[<div class="featured-image">
                <img src="/images/ba-slider.png" referrerpolicy="no-referrer">
            </div><blockquote>
<p><em>今天我尝试装了一下black Arch，花了很长时间，之后发现这个系统并不是很完美。</em></p>
</blockquote>
<h2 id="优点">优点</h2>
<p>首先说说它的优点:</p>
<ul>
<li>这玩意集成了几千个软件包，并且都是一些很厉害的工具</li>
<li>其次这玩意很酷，特别是壁纸，配色什么的，我都觉得特别炫酷</li>
<li>以及它安装的便捷性，我一开始以为它比Arch难安装，其实用完才知道这个安装简直比Arch简单十倍，只不过我习惯了Arch那种手动式，这种半自动化却不习惯了</li>
</ul>
<h2 id="缺点">缺点</h2>
<p>现在来说说缺点:</p>
<ul>
<li>首先ISO实在是太大了，Black Arch官方的live ISO达到了12GB，我idm都下载了很久，而网络安装包和Arch的大小一样，不过我没试过</li>
<li>更可怕的是 blackarch官方镜像的安装最低硬盘需求达到了40GB以上，这使得大部分人缺乏这个安装条件</li>
<li>其次就是它的桌面环境实在太简陋了，而且性能上也特别不好，特别是i3和spectrwm这两个，根本无法操作，fluxbox最炫酷但是习惯太不适合大部分人了，openbox啥都没有，更不好操作，而且不支持中文，弄得我很蛋疼；还有就是依赖太乱了，换别的桌面环境很麻烦，比如我想卸载掉其他的换xfce，结果pacman -Rs卸载不了，得用Rsc才能卸载，结果把lxdm给卸掉了，进不去图形了，后来装上lxdm出现了很大的颜色bug。。。</li>
</ul>
<h2 id="总结">总结</h2>
<p>首先不能否认BlackArch是装逼的好东西，但是我不推荐使用官方的镜像（无论是在线镜像还是离线live）去安装，否则就会有我的下场了，其次就是用户必须有Arch系基础，否则就是个坑。建议先安装Arch，然后导入BlackArch的软件库安装全套工具即可。最后请不要那blackarch与kali、parrot对比，这没有对比性的，工具都差不多的。</p>]]></description>
</item></channel>
</rss>
